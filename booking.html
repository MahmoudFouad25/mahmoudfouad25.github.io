<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رحلة اكتشاف الذات - التقييم العميق</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
            background: linear-gradient(135deg, #F5F2E8 0%, #E8E5D5 100%);
            color: #1A1A1A;
            line-height: 1.8;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Progress Bar */
        .progress-container {
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .progress-bar {
            background: #E5E5E5;
            height: 8px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #2C5530, #8B9467);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            text-align: center;
            color: #666;
            font-size: 14px;
        }
        
        /* Question Container */
        .question-container {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            animation: fadeInUp 0.5s ease;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .question-section {
            display: none;
        }
        
        .question-section.active {
            display: block;
        }
        
        .section-intro {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(44, 85, 48, 0.05) 0%, rgba(139, 148, 103, 0.05) 100%);
            border-radius: 15px;
        }
        
        .section-intro h2 {
            color: #2C5530;
            margin-bottom: 15px;
            font-size: 28px;
        }
        
        .section-intro p {
            color: #666;
            font-size: 18px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Question Styles */
        .question {
            margin-bottom: 35px;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
        }
        
        .question.revealed {
            opacity: 1;
        }
        
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
        
        .question-number {
            display: inline-block;
            background: #2C5530;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .question-text {
            font-size: 20px;
            color: #2C5530;
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        /* Option Styles */
        .options {
            display: grid;
            gap: 15px;
        }
        
        .option {
            background: #F8F8F8;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .option:hover {
            background: #F0F0F0;
            transform: translateX(-5px);
            border-color: #8B9467;
        }
        
        .option.selected {
            background: linear-gradient(135deg, rgba(44, 85, 48, 0.1) 0%, rgba(139, 148, 103, 0.1) 100%);
            border-color: #2C5530;
        }
        
        .option.selected::before {
            content: '✓';
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: #2C5530;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .option-text {
            display: block;
            margin-right: 40px;
        }
        
        .option-main {
            font-weight: 500;
            margin-bottom: 5px;
        }
        
        .option-sub {
            font-size: 14px;
            color: #666;
            font-style: italic;
        }
        
        /* Sub-questions */
        .sub-question {
            margin-top: 20px;
            padding: 20px;
            background: rgba(44, 85, 48, 0.05);
            border-radius: 10px;
            border-right: 4px solid #2C5530;
            display: none;
        }
        
        .sub-question.active {
            display: block;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Text Input Styles */
        .text-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #E5E5E5;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            resize: vertical;
            min-height: 120px;
            font-family: inherit;
        }
        
        .text-input:focus {
            outline: none;
            border-color: #2C5530;
            background: #FAFAFA;
        }
        
        .char-count {
            text-align: left;
            color: #999;
            font-size: 12px;
            margin-top: 5px;
        }
        
        /* Scale Input */
        .scale-container {
            margin: 20px 0;
        }
        
        .scale-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #666;
        }
        
        .scale-input {
            width: 100%;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 5px;
            background: #E5E5E5;
            outline: none;
        }
        
        .scale-input::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #2C5530;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .scale-input::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            background: #1e3a21;
        }
        
        .scale-value {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            color: #2C5530;
            margin-top: 10px;
        }
        
        /* Checkbox Styles */
        .checkbox-group {
            display: grid;
            gap: 12px;
        }
        
        .checkbox-option {
            display: flex;
            align-items: center;
            padding: 15px;
            background: #F8F8F8;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .checkbox-option:hover {
            background: #F0F0F0;
        }
        
        .checkbox-option input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-left: 15px;
            cursor: pointer;
        }
        
        .checkbox-option.checked {
            background: rgba(44, 85, 48, 0.1);
            border: 1px solid #2C5530;
        }
        
        /* Navigation Buttons */
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #E5E5E5;
        }
        
        .btn {
            padding: 15px 35px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        
        .btn-secondary {
            background: white;
            color: #2C5530;
            border: 2px solid #2C5530;
        }
        
        .btn-secondary:hover {
            background: #2C5530;
            color: white;
        }
        
        .btn-primary {
            background: #2C5530;
            color: white;
        }
        
        .btn-primary:hover {
            background: #1e3a21;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(44, 85, 48, 0.3);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        /* Results Section */
        .results-container {
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: none;
            text-align: center;
        }
        
        .results-icon {
            font-size: 80px;
            margin-bottom: 30px;
        }
        
        .results-title {
            color: #2C5530;
            font-size: 32px;
            margin-bottom: 20px;
        }
        
        .results-subtitle {
            color: #666;
            font-size: 20px;
            margin-bottom: 40px;
        }
        
        .recommendation-box {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(139, 148, 103, 0.1) 100%);
            padding: 40px;
            border-radius: 20px;
            text-align: right;
            margin-bottom: 30px;
            border: 2px solid #D4AF37;
        }
        
        .recommendation-title {
            color: #2C5530;
            font-size: 24px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .recommendation-icon {
            font-size: 40px;
            margin-left: 15px;
        }
        
        .recommendation-content {
            line-height: 2;
            color: #333;
        }
        
        .recommendation-highlight {
            background: rgba(44, 85, 48, 0.1);
            padding: 2px 8px;
            border-radius: 5px;
            font-weight: 500;
        }
        
        .journey-details {
            background: #F8F8F8;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: right;
        }
        
        .journey-details h3 {
            color: #2C5530;
            margin-bottom: 15px;
        }
        
        .journey-details ul {
            list-style: none;
            padding: 0;
        }
        
        .journey-details li {
            padding: 10px 0;
            border-bottom: 1px solid #E5E5E5;
        }
        
        .journey-details li:last-child {
            border-bottom: none;
        }
        
        .journey-details li::before {
            content: '✓';
            color: #2C5530;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .action-buttons {
            display: grid;
            gap: 15px;
            margin-top: 30px;
        }
        
        .action-btn {
            padding: 20px;
            border-radius: 15px;
            text-decoration: none;
            text-align: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .action-btn-primary {
            background: #2C5530;
            color: white;
        }
        
        .action-btn-primary:hover {
            background: #1e3a21;
            transform: translateY(-2px);
        }
        
        .action-btn-secondary {
            background: white;
            color: #2C5530;
            border: 2px solid #2C5530;
        }
        
        .action-btn-secondary:hover {
            background: #2C5530;
            color: white;
        }
        
        /* Loading */
        .loading-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .loading-content {
            text-align: center;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #2C5530;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: #2C5530;
            font-size: 18px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .question-container {
                padding: 20px;
            }
            
            .question-text {
                font-size: 18px;
            }
            
            .option {
                padding: 15px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">البداية</div>
        </div>
        
        <!-- Main Form Container -->
        <div class="question-container" id="questionContainer">
            
            <!-- Welcome Section -->
            <div class="question-section active" id="section-0">
                <div class="section-intro">
                    <h2>مرحباً بك في رحلة اكتشاف الذات 🌟</h2>
                    <p>قبل أن نبدأ، خذ نفساً عميقاً...</p>
                    <p>هذه ليست مجرد استمارة، بل محادثة مع نفسك</p>
                    <p>كل سؤال مصمم ليساعدك على الوضوح</p>
                </div>
                
                <div class="navigation">
                    <span></span>
                    <button class="btn btn-primary" onclick="startAssessment()">ابدأ الرحلة</button>
                </div>
            </div>
            
            <!-- Section 1: Starting Point -->
            <div class="question-section" id="section-1">
                <div class="section-intro">
                    <h2>نقطة البداية</h2>
                    <p>دعنا نفهم ما الذي جلبك إلى هنا</p>
                </div>
                
                <!-- Question 1 -->
                <div class="question revealed" id="q1">
                    <span class="question-number">1</span>
                    <h3 class="question-text">ما الذي يجعلك تبحث عن الدعم في هذه اللحظة من حياتك؟</h3>
                    <div class="options">
                        <div class="option" onclick="selectOption('q1', 'a', this)">
                            <span class="option-text">
                                <span class="option-main">أواجه تحدياً محدداً أريد حلاً له</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q1', 'b', this)">
                            <span class="option-text">
                                <span class="option-main">أشعر بأن شيئاً ما "ليس صحيحاً" في حياتي</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q1', 'c', this)">
                            <span class="option-text">
                                <span class="option-main">أريد أن أفهم نفسي بشكل أعمق</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q1', 'd', this)">
                            <span class="option-text">
                                <span class="option-main">مستعد لتحول جذري في حياتي</span>
                            </span>
                        </div>
                    </div>
                    
                    <!-- Sub-questions -->
                    <div class="sub-question" id="q1-sub-a">
                        <h4>ما نوع التحدي الذي تواجهه؟</h4>
                        <div class="options">
                            <div class="option" onclick="selectSubOption('q1-sub-a', '1', this)">
                                <span class="option-text">التحدي في العمل/المهنة</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-a', '2', this)">
                                <span class="option-text">التحدي في العلاقات</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-a', '3', this)">
                                <span class="option-text">التحدي مع نفسي</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-a', '4', this)">
                                <span class="option-text">التحدي في اتخاذ قرار مهم</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sub-question" id="q1-sub-b">
                        <h4>كيف يتجلى هذا الشعور في حياتك؟</h4>
                        <div class="options">
                            <div class="option" onclick="selectSubOption('q1-sub-b', '1', this)">
                                <span class="option-text">شعور بالفراغ رغم الإنجازات</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-b', '2', this)">
                                <span class="option-text">تكرار نفس الأنماط المؤلمة</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-b', '3', this)">
                                <span class="option-text">فقدان الشغف والمعنى</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-b', '4', this)">
                                <span class="option-text">إحساس بأنني لست في مكاني الصحيح</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sub-question" id="q1-sub-c">
                        <h4>ما أكثر سؤال يشغل بالك عن نفسك؟</h4>
                        <div class="options">
                            <div class="option" onclick="selectSubOption('q1-sub-c', '1', this)">
                                <span class="option-text">لماذا أتصرف بالطريقة التي أتصرف بها؟</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-c', '2', this)">
                                <span class="option-text">من أنا حقاً خلف كل الأقنعة؟</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-c', '3', this)">
                                <span class="option-text">ما هو دوري الحقيقي في الحياة؟</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-c', '4', this)">
                                <span class="option-text">كيف أحقق إمكانياتي الكامنة؟</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sub-question" id="q1-sub-d">
                        <h4>ما الذي يدفعك نحو هذا التحول؟</h4>
                        <div class="options">
                            <div class="option" onclick="selectSubOption('q1-sub-d', '1', this)">
                                <span class="option-text">لدي رؤية واضحة وأحتاج دعماً للتنفيذ</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-d', '2', this)">
                                <span class="option-text">أعرف أنني أحتاج تغييراً جذرياً لكن لا أعرف كيف</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-d', '3', this)">
                                <span class="option-text">مررت بتجربة أيقظتني وأريد البناء عليها</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-d', '4', this)">
                                <span class="option-text">وصلت لمرحلة "كفى" وأريد حياة مختلفة</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Question 2 -->
                <div class="question" id="q2">
                    <span class="question-number">2</span>
                    <h3 class="question-text">عندما تواجه تحدياً في حياتك، ما أول ما تفكر فيه عادة؟</h3>
                    <div class="options">
                        <div class="option" onclick="selectOption('q2', 'a', this)">
                            <span class="option-text">
                                <span class="option-main">"كيف أحل هذه المشكلة بسرعة؟"</span>
                                <span class="option-sub">أركز على إيجاد حلول عملية فورية</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q2', 'b', this)">
                            <span class="option-text">
                                <span class="option-main">"لماذا يحدث لي هذا دائماً؟"</span>
                                <span class="option-sub">ألاحظ تكرار نفس النوع من التحديات</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q2', 'c', this)">
                            <span class="option-text">
                                <span class="option-main">"ما الرسالة التي تحملها هذه التجربة؟"</span>
                                <span class="option-sub">أبحث عن المعنى والحكمة</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q2', 'd', this)">
                            <span class="option-text">
                                <span class="option-main">"هذا امتحان/فرصة للنمو"</span>
                                <span class="option-sub">أرى التحديات كجزء من رحلة التطور</span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <!-- Question 3 -->
                <div class="question" id="q3">
                    <span class="question-number">3</span>
                    <h3 class="question-text">أكمل هذه الجملة: "أكثر ما يؤلمني في حياتي الآن هو..."</h3>
                    <textarea class="text-input" id="q3-text" placeholder="اكتب بحرية... كل ما تكتبه سيبقى في سرية تامة" onkeyup="updateCharCount('q3-text', 500)"></textarea>
                    <div class="char-count" id="q3-text-count">0 / 500</div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">السابق</button>
                    <button class="btn btn-primary" onclick="nextSection()">التالي</button>
                </div>
            </div>
            
            <!-- Section 2: Patterns & Awareness -->
            <div class="question-section" id="section-2">
                <div class="section-intro">
                    <h2>الوعي بالأنماط</h2>
                    <p>لنستكشف معاً الخيوط الخفية في نسيج حياتك</p>
                </div>
                
                <!-- Question 4 -->
                <div class="question revealed" id="q4">
                    <span class="question-number">4</span>
                    <h3 class="question-text">فكر في آخر 3 تحديات كبرى واجهتها. هل تلاحظ نمطاً مشتركاً؟</h3>
                    <div class="options">
                        <div class="option" onclick="selectOption('q4', 'a', this)">
                            <span class="option-text">
                                <span class="option-main">لا، كل موقف مختلف تماماً</span>
                                <span class="option-sub">التحديات متنوعة ولا أرى رابطاً بينها</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q4', 'b', this)">
                            <span class="option-text">
                                <span class="option-main">نعم، ألاحظ بعض التشابه</span>
                                <span class="option-sub">هناك خيوط مشتركة أبدأ في رؤيتها</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q4', 'c', this)">
                            <span class="option-text">
                                <span class="option-main">نعم، هناك نمط واضح أراه</span>
                                <span class="option-sub">أعي تماماً الأنماط المتكررة في حياتي</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q4', 'd', this)">
                            <span class="option-text">
                                <span class="option-main">الآن بعد أن سألت، بدأت ألاحظ...</span>
                                <span class="option-sub">السؤال فتح عيني على شيء لم أنتبه له</span>
                            </span>
                        </div>
                    </div>
                    
                    <div class="sub-question" id="q4-sub-b">
                        <h4>ما نوع التشابه الذي تلاحظه؟</h4>
                        <div class="checkbox-group">
                            <div class="checkbox-option" onclick="toggleCheckbox(this)">
                                <input type="checkbox" value="people">
                                <span>نفس نوع الأشخاص يسبب لي المشاكل</span>
                            </div>
                            <div class="checkbox-option" onclick="toggleCheckbox(this)">
                                <input type="checkbox" value="mistakes">
                                <span>أكرر نفس الأخطاء</span>
                            </div>
                            <div class="checkbox-option" onclick="toggleCheckbox(this)">
                                <input type="checkbox" value="situations">
                                <span>أجد نفسي في نفس المواقف</span>
                            </div>
                            <div class="checkbox-option" onclick="toggleCheckbox(this)">
                                <input type="checkbox" value="reactions">
                                <span>ردود أفعالي متشابهة</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Question 5 -->
                <div class="question" id="q5">
                    <span class="question-number">5</span>
                    <h3 class="question-text">ما مدى استعدادك لمواجهة حقائق قد تكون غير مريحة عن نفسك؟</h3>
                    <div class="options">
                        <div class="option" onclick="selectOption('q5', 'a', this)">
                            <span class="option-text">
                                <span class="option-main">مستعد تماماً - أريد الحقيقة مهما كانت</span>
                                <span class="option-sub">الوضوح أهم من الراحة بالنسبة لي</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q5', 'b', this)">
                            <span class="option-text">
                                <span class="option-main">مستعد بحذر - أريد التدرج</span>
                                <span class="option-sub">أفضل اكتشاف الحقائق خطوة بخطوة</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q5', 'c', this)">
                            <span class="option-text">
                                <span class="option-main">قلق لكن مستعد - أحتاج دعماً كبيراً</span>
                                <span class="option-sub">أريد التغيير رغم مخاوفي</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q5', 'd', this)">
                            <span class="option-text">
                                <span class="option-main">لست متأكداً - أريد البدء بهدوء</span>
                                <span class="option-sub">أحتاج لبناء الثقة أولاً</span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <!-- Question 6 -->
                <div class="question" id="q6">
                    <span class="question-number">6</span>
                    <h3 class="question-text">عندما تتخيل نفسك بعد عام من الآن، ماذا تتمنى أن يكون قد تغير؟</h3>
                    <textarea class="text-input" id="q6-text" placeholder="صف الصورة التي تتمناها لنفسك..." onkeyup="updateCharCount('q6-text', 500)"></textarea>
                    <div class="char-count" id="q6-text-count">0 / 500</div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">السابق</button>
                    <button class="btn btn-primary" onclick="nextSection()">التالي</button>
                </div>
            </div>
            
            <!-- Section 3: Resources & Commitment -->
            <div class="question-section" id="section-3">
                <div class="section-intro">
                    <h2>الموارد والالتزام</h2>
                    <p>لنفهم ما لديك وما تحتاجه لرحلتك</p>
                </div>
                
                <!-- Question 7 -->
                <div class="question revealed" id="q7">
                    <span class="question-number">7</span>
                    <h3 class="question-text">كم من الوقت والطاقة يمكنك تخصيصه لرحلتك؟</h3>
                    <div class="options">
                        <div class="option" onclick="selectOption('q7', 'a', this)">
                            <span class="option-text">
                                <span class="option-main">محدود جداً - ساعة أسبوعياً أو أقل</span>
                                <span class="option-sub">وقتي ضيق لكنني مهتم</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q7', 'b', this)">
                            <span class="option-text">
                                <span class="option-main">متوسط - 2-3 ساعات أسبوعياً</span>
                                <span class="option-sub">يمكنني إيجاد وقت مناسب</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q7', 'c', this)">
                            <span class="option-text">
                                <span class="option-main">جيد - 3-5 ساعات أسبوعياً</span>
                                <span class="option-sub">مستعد لاستثمار وقت كافٍ</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q7', 'd', this)">
                            <span class="option-text">
                                <span class="option-main">ملتزم تماماً - أكثر من 5 ساعات</span>
                                <span class="option-sub">هذا أولوية قصوى في حياتي</span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <!-- Question 8 -->
                <div class="question" id="q8">
                    <span class="question-number">8</span>
                    <h3 class="question-text">ما الذي يدعمك في حياتك الآن؟</h3>
                    <div class="checkbox-group">
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="family">
                            <span>عائلة داعمة</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="friends">
                            <span>أصدقاء واعون</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="spiritual">
                            <span>ممارسة روحية/دينية</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="learning">
                            <span>قراءة وتعلم ذاتي</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="physical">
                            <span>رياضة أو ممارسة جسدية</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="work">
                            <span>عمل أحبه</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="hobby">
                            <span>هواية أو شغف</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="none">
                            <span>لا شيء مما سبق</span>
                        </div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">السابق</button>
                    <button class="btn btn-primary" onclick="nextSection()">التالي</button>
                </div>
            </div>
            
            <!-- Section 4: Deep Questions -->
            <div class="question-section" id="section-4">
                <div class="section-intro">
                    <h2>الأسئلة العميقة</h2>
                    <p>خذ وقتك... هذه أسئلة للتأمل والاستبصار</p>
                </div>
                
                <!-- Question 9 -->
                <div class="question revealed" id="q9">
                    <span class="question-number">9</span>
                    <h3 class="question-text">لو كان ألمك الحالي رسالة لك، ماذا تعتقد أنها تريد أن تقول؟</h3>
                    <textarea class="text-input" id="q9-text" placeholder="استمع لصوت الألم... ماذا يحاول أن يخبرك؟" onkeyup="updateCharCount('q9-text', 500)"></textarea>
                    <div class="char-count" id="q9-text-count">0 / 500</div>
                </div>
                
                <!-- Question 10 -->
                <div class="question" id="q10">
                    <span class="question-number">10</span>
                    <h3 class="question-text">ما أكثر شيء تخاف من اكتشافه عن نفسك؟</h3>
                    <div class="options">
                        <div class="option" onclick="selectOption('q10', 'a', this)">
                            <span class="option-text">
                                <span class="option-main">أنني لست بالقوة التي أظنها</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q10', 'b', this)">
                            <span class="option-text">
                                <span class="option-main">أنني السبب في معظم مشاكلي</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q10', 'c', this)">
                            <span class="option-text">
                                <span class="option-main">أنني أحتاج تغييراً جذرياً</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q10', 'd', this)">
                            <span class="option-text">
                                <span class="option-main">أنني بخير كما أنا ولا أحتاج كل هذا</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q10', 'e', this)">
                            <span class="option-text">
                                <span class="option-main">أفضل عدم التفكير في هذا</span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">السابق</button>
                    <button class="btn btn-primary" onclick="nextSection()">التالي</button>
                </div>
            </div>
            
            <!-- Section 5: Previous Experience -->
            <div class="question-section" id="section-5">
                <div class="section-intro">
                    <h2>التجارب السابقة</h2>
                    <p>لنبني على ما سبق ونتعلم منه</p>
                </div>
                
                <!-- Question 11 -->
                <div class="question revealed" id="q11">
                    <span class="question-number">11</span>
                    <h3 class="question-text">هل سبق لك تجربة أي من التالي؟</h3>
                    <div class="checkbox-group">
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="therapy">
                            <span>علاج نفسي تقليدي</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="coaching">
                            <span>كوتشينج حياة</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="workshops">
                            <span>ورش تطوير ذات</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="meditation">
                            <span>ممارسات تأملية/يوغا</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="reading">
                            <span>قراءات في علم النفس/التنمية</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="spiritual-journey">
                            <span>رحلة روحية/دينية عميقة</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="none-experience">
                            <span>لا شيء مما سبق</span>
                        </div>
                    </div>
                    
                    <div class="sub-question" id="q11-sub" style="display: none;">
                        <h4>ما أهم ما استفدته؟ وما الذي شعرت أنه ناقص؟</h4>
                        <textarea class="text-input" id="q11-text" placeholder="شارك تجربتك..." onkeyup="updateCharCount('q11-text', 300)"></textarea>
                        <div class="char-count" id="q11-text-count">0 / 300</div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">السابق</button>
                    <button class="btn btn-primary" onclick="nextSection()">التالي</button>
                </div>
            </div>
            
            <!-- Section 6: Final Touch -->
            <div class="question-section" id="section-6">
                <div class="section-intro">
                    <h2>اللمسة الأخيرة</h2>
                    <p>أنت على وشك إكمال الرحلة التقييمية</p>
                </div>
                
                <!-- Question 12 -->
                <div class="question revealed" id="q12">
                    <span class="question-number">12</span>
                    <h3 class="question-text">تخيل أننا بعد 6 شهور من الآن نحتفل بتحولك. ما الذي نحتفل به تحديداً؟</h3>
                    <textarea class="text-input" id="q12-text" placeholder="اسمح لنفسك بالحلم... ما الذي تحقق؟" onkeyup="updateCharCount('q12-text', 500)"></textarea>
                    <div class="char-count" id="q12-text-count">0 / 500</div>
                </div>
                
                <!-- Question 13 -->
                <div class="question" id="q13">
                    <span class="question-number">13</span>
                    <h3 class="question-text">على مقياس من 1-10:</h3>
                    
                    <div class="scale-container">
                        <h4>ما مدى إلحاح حاجتك للدعم الآن؟</h4>
                        <div class="scale-label">
                            <span>1 - غير ملح</span>
                            <span>10 - ملح جداً</span>
                        </div>
                        <input type="range" class="scale-input" id="urgency-scale" min="1" max="10" value="5" onchange="updateScaleValue('urgency')">
                        <div class="scale-value" id="urgency-value">5</div>
                    </div>
                    
                    <div class="scale-container">
                        <h4>ما مدى استعدادك للاستثمار في نفسك؟</h4>
                        <div class="scale-label">
                            <span>1 - غير مستعد</span>
                            <span>10 - مستعد تماماً</span>
                        </div>
                        <input type="range" class="scale-input" id="investment-scale" min="1" max="10" value="5" onchange="updateScaleValue('investment')">
                        <div class="scale-value" id="investment-value">5</div>
                    </div>
                    
                    <div class="scale-container">
                        <h4>ما مدى ثقتك في إمكانية التغيير؟</h4>
                        <div class="scale-label">
                            <span>1 - غير واثق</span>
                            <span>10 - واثق تماماً</span>
                        </div>
                        <input type="range" class="scale-input" id="confidence-scale" min="1" max="10" value="5" onchange="updateScaleValue('confidence')">
                        <div class="scale-value" id="confidence-value">5</div>
                    </div>
                </div>
                
                <!-- Question 14 -->
                <div class="question" id="q14">
                    <span class="question-number">14</span>
                    <h3 class="question-text">هل هناك شيء مهم تريد أن أعرفه عنك لم تسأل عنه الأسئلة؟</h3>
                    <textarea class="text-input" id="q14-text" placeholder="هذه مساحتك الحرة..." onkeyup="updateCharCount('q14-text', 500)"></textarea>
                    <div class="char-count" id="q14-text-count">0 / 500</div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">السابق</button>
                    <button class="btn btn-primary" onclick="submitAssessment()">إرسال وعرض النتائج</button>
                </div>
            </div>
        </div>
        
        <!-- Results Container -->
        <div class="results-container" id="resultsContainer">
            <div class="results-icon">🌟</div>
            <h2 class="results-title">تحليل رحلتك الشخصية</h2>
            <p class="results-subtitle">بناءً على إجاباتك الصادقة، إليك التوصية المخصصة لك</p>
            
            <div class="recommendation-box" id="recommendationBox">
                <!-- Dynamic recommendation content will be inserted here -->
            </div>
            
            <div class="journey-details" id="journeyDetails">
                <!-- Dynamic journey details will be inserted here -->
            </div>
            
            <div class="action-buttons">
                <a href="#" class="action-btn action-btn-primary" onclick="bookSession()">احجز جلستك الأولى</a>
                <a href="#" class="action-btn action-btn-secondary" onclick="learnMore()">تعرف أكثر على الرحلة</a>
            </div>
        </div>
        
        <!-- Loading -->
        <div class="loading-container" id="loadingContainer">
            <div class="loading-content">
                <div class="spinner"></div>
                <p class="loading-text">جاري تحليل إجاباتك...</p>
            </div>
        </div>
    </div>
    
    <script>
        // Global state
        let currentSection = 0;
        const totalSections = 7;
        let answers = {};
        let subAnswers = {};
        
        // Initialize
        function startAssessment() {
            currentSection = 1;
            showSection(currentSection);
            updateProgress();
        }
        
        // Section navigation
        function showSection(sectionNum) {
            // Hide all sections
            document.querySelectorAll('.question-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show current section
            const section = document.getElementById(`section-${sectionNum}`);
            if (section) {
                section.classList.add('active');
                
                // Reveal questions with delay
                const questions = section.querySelectorAll('.question');
                questions.forEach((q, index) => {
                    if (!q.classList.contains('revealed')) {
                        setTimeout(() => {
                            q.classList.add('revealed');
                        }, index * 300);
                    }
                });
            }
            
            updateProgress();
        }
        
        function nextSection() {
            if (validateSection(currentSection)) {
                if (currentSection < totalSections - 1) {
                    currentSection++;
                    showSection(currentSection);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }
        }
        
        function previousSection() {
            if (currentSection > 0) {
                currentSection--;
                showSection(currentSection);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }
        
        // Progress update
        function updateProgress() {
            const progress = (currentSection / (totalSections - 1)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            const progressTexts = [
                'البداية',
                'نقطة البداية',
                'الوعي بالأنماط',
                'الموارد والالتزام',
                'الأسئلة العميقة',
                'التجارب السابقة',
                'اللمسة الأخيرة'
            ];
            
            document.getElementById('progressText').textContent = progressTexts[currentSection];
        }
        
        // Option selection
        function selectOption(questionId, value, element) {
            // Store answer
            answers[questionId] = value;
            
            // Update UI
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            
            // Handle sub-questions
            const subQuestions = document.querySelectorAll(`#${questionId}-sub-a, #${questionId}-sub-b, #${questionId}-sub-c, #${questionId}-sub-d`);
            subQuestions.forEach(sq => sq.classList.remove('active'));
            
            const targetSub = document.getElementById(`${questionId}-sub-${value}`);
            if (targetSub) {
                targetSub.classList.add('active');
            }
        }
        
        function selectSubOption(subQuestionId, value, element) {
            // Store sub-answer
            subAnswers[subQuestionId] = value;
            
            // Update UI
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        // Checkbox handling
        function toggleCheckbox(element) {
            const checkbox = element.querySelector('input[type="checkbox"]');
            checkbox.checked = !checkbox.checked;
            
            if (checkbox.checked) {
                element.classList.add('checked');
            } else {
                element.classList.remove('checked');
            }
            
            // Handle Q11 sub-question
            if (element.closest('#q11')) {
                const checkedBoxes = document.querySelectorAll('#q11 input[type="checkbox"]:checked');
                const hasExperience = Array.from(checkedBoxes).some(cb => cb.value !== 'none-experience');
                const subQuestion = document.getElementById('q11-sub');
                
                if (hasExperience && subQuestion) {
                    subQuestion.style.display = 'block';
                    subQuestion.classList.add('active');
                } else if (subQuestion) {
                    subQuestion.style.display = 'none';
                    subQuestion.classList.remove('active');
                }
            }
        }
        
        // Character count
        function updateCharCount(textareaId, maxChars) {
            const textarea = document.getElementById(textareaId);
            const countElement = document.getElementById(`${textareaId}-count`);
            const count = textarea.value.length;
            countElement.textContent = `${count} / ${maxChars}`;
            
            // Store text answers
            answers[textareaId] = textarea.value;
        }
        
        // Scale value update
        function updateScaleValue(scaleType) {
            const scale = document.getElementById(`${scaleType}-scale`);
            const valueDisplay = document.getElementById(`${scaleType}-value`);
            valueDisplay.textContent = scale.value;
            
            // Store scale answers
            answers[`${scaleType}-scale`] = scale.value;
        }
        
        // Validation
        function validateSection(sectionNum) {
            let isValid = true;
            let errorMessage = '';
            
            switch(sectionNum) {
                case 1:
                    if (!answers.q1) {
                        errorMessage = 'من فضلك أجب على السؤال الأول';
                        isValid = false;
                    } else if (!answers.q2) {
                        errorMessage = 'من فضلك أجب على السؤال الثاني';
                        isValid = false;
                    } else if (!answers['q3-text'] || answers['q3-text'].length < 10) {
                        errorMessage = 'من فضلك اكتب إجابة أطول قليلاً في السؤال الثالث';
                        isValid = false;
                    }
                    break;
                    
                case 2:
                    if (!answers.q4) {
                        errorMessage = 'من فضلك أجب على السؤال الرابع';
                        isValid = false;
                    } else if (!answers.q5) {
                        errorMessage = 'من فضلك أجب على السؤال الخامس';
                        isValid = false;
                    } else if (!answers['q6-text'] || answers['q6-text'].length < 10) {
                        errorMessage = 'من فضلك شارك رؤيتك في السؤال السادس';
                        isValid = false;
                    }
                    break;
                    
                // Add more validation as needed
            }
            
            if (!isValid) {
                alert(errorMessage);
            }
            
            return isValid;
        }
        
        // Submit assessment
        function submitAssessment() {
            // Show loading
            document.getElementById('loadingContainer').style.display = 'flex';
            
            // Simulate processing
            setTimeout(() => {
                analyzeAndShowResults();
            }, 2000);
        }
        
        // Analyze answers and show results
        function analyzeAndShowResults() {
            // Calculate scores for each journey
            let scores = {
                eshraq: 0,
                baseera: 0,
                sakeena: 0
            };
            
            // Scoring logic based on answers
            // Q1 scoring
            if (answers.q1 === 'a') scores.eshraq += 30;
            else if (answers.q1 === 'b') scores.baseera += 20;
            else if (answers.q1 === 'c') scores.baseera += 30;
            else if (answers.q1 === 'd') scores.sakeena += 30;
            
            // Q2 scoring
            if (answers.q2 === 'a') scores.eshraq += 20;
            else if (answers.q2 === 'b') scores.baseera += 20;
            else if (answers.q2 === 'c') scores.sakeena += 15;
            else if (answers.q2 === 'd') scores.sakeena += 20;
            
            // Q4 scoring
            if (answers.q4 === 'a') scores.eshraq += 15;
            else if (answers.q4 === 'b' || answers.q4 === 'd') scores.baseera += 20;
  else if (answers.q4 === 'c') scores.sakeena += 20;
           
           // Q5 scoring
           if (answers.q5 === 'a') scores.sakeena += 25;
           else if (answers.q5 === 'b') scores.baseera += 20;
           else if (answers.q5 === 'c') scores.baseera += 15;
           else if (answers.q5 === 'd') scores.eshraq += 15;
           
           // Q7 scoring (time commitment)
           if (answers.q7 === 'a') scores.eshraq += 20;
           else if (answers.q7 === 'b') scores.baseera += 15;
           else if (answers.q7 === 'c') scores.baseera += 20;
           else if (answers.q7 === 'd') scores.sakeena += 25;
           
           // Q10 scoring (fears)
           if (answers.q10 === 'a' || answers.q10 === 'b') scores.baseera += 15;
           else if (answers.q10 === 'c') scores.sakeena += 20;
           else if (answers.q10 === 'd') scores.eshraq += 10;
           else if (answers.q10 === 'e') scores.eshraq += 15;
           
           // Scale scoring
           const urgency = parseInt(answers['urgency-scale'] || 5);
           const investment = parseInt(answers['investment-scale'] || 5);
           const confidence = parseInt(answers['confidence-scale'] || 5);
           
           if (urgency >= 8) scores.eshraq += 15;
           else if (urgency >= 6) scores.baseera += 10;
           
           if (investment >= 8) scores.sakeena += 20;
           else if (investment >= 6) scores.baseera += 15;
           
           if (confidence >= 8) scores.sakeena += 15;
           else if (confidence >= 6) scores.baseera += 10;
           
           // Text analysis (simplified)
           const q6Text = answers['q6-text'] || '';
           const q9Text = answers['q9-text'] || '';
           const q12Text = answers['q12-text'] || '';
           
           // Keywords analysis
           const transformKeywords = ['تحول', 'جذري', 'تغيير شامل', 'حياة جديدة', 'نقلة'];
           const understandingKeywords = ['فهم', 'أعرف', 'اكتشف', 'وعي', 'نمط'];
           const solutionKeywords = ['حل', 'مشكلة', 'تحدي', 'سريع', 'عملي'];
           
           const allTexts = (q6Text + ' ' + q9Text + ' ' + q12Text).toLowerCase();
           
           transformKeywords.forEach(keyword => {
               if (allTexts.includes(keyword)) scores.sakeena += 5;
           });
           
           understandingKeywords.forEach(keyword => {
               if (allTexts.includes(keyword)) scores.baseera += 5;
           });
           
           solutionKeywords.forEach(keyword => {
               if (allTexts.includes(keyword)) scores.eshraq += 5;
           });
           
           // Support system analysis
           const q8Checkboxes = document.querySelectorAll('#q8 input[type="checkbox"]:checked');
           const supportCount = q8Checkboxes.length;
           
           if (supportCount >= 4) scores.sakeena += 10;
           else if (supportCount >= 2) scores.baseera += 10;
           else if (supportCount === 0) scores.eshraq += 15;
           
           // Experience analysis
           const q11Checkboxes = document.querySelectorAll('#q11 input[type="checkbox"]:checked');
           const hasExperience = Array.from(q11Checkboxes).some(cb => 
               cb.value === 'coaching' || cb.value === 'therapy' || cb.value === 'spiritual-journey'
           );
           
           if (hasExperience) {
               scores.baseera += 10;
               scores.sakeena += 10;
           }
           
           // Determine recommendation
           let recommendation = '';
           let journeyType = '';
           
           if (scores.eshraq > scores.baseera && scores.eshraq > scores.sakeena) {
               journeyType = 'eshraq';
               recommendation = generateEshraqRecommendation();
           } else if (scores.baseera > scores.sakeena) {
               journeyType = 'baseera';
               recommendation = generateBaseeraRecommendation();
           } else {
               journeyType = 'sakeena';
               recommendation = generateSakeenaRecommendation();
           }
           
           // Mixed recommendation logic
           const totalScore = scores.eshraq + scores.baseera + scores.sakeena;
           const eshraqPercent = (scores.eshraq / totalScore) * 100;
           const baseeraPercent = (scores.baseera / totalScore) * 100;
           const sakeenaPercent = (scores.sakeena / totalScore) * 100;
           
           // Check for mixed cases
           if (Math.abs(eshraqPercent - baseeraPercent) < 10 && sakeenaPercent < 30) {
               recommendation = generateMixedRecommendation('eshraq-baseera');
           } else if (Math.abs(baseeraPercent - sakeenaPercent) < 10 && eshraqPercent < 30) {
               recommendation = generateMixedRecommendation('baseera-sakeena');
           }
           
           // Show results
           document.getElementById('loadingContainer').style.display = 'none';
           document.getElementById('questionContainer').style.display = 'none';
           document.getElementById('resultsContainer').style.display = 'block';
           document.getElementById('recommendationBox').innerHTML = recommendation;
           
           // Generate journey details
           generateJourneyDetails(journeyType);
           
           // Scroll to top
           window.scrollTo({ top: 0, behavior: 'smooth' });
           
           // Store results for booking
           localStorage.setItem('assessmentResults', JSON.stringify({
               journeyType: journeyType,
               scores: scores,
               answers: answers,
               timestamp: new Date().toISOString()
           }));
       }
       
       // Recommendation generators
       function generateEshraqRecommendation() {
           const name = answers.name || 'عزيزي';
           const challenge = getSpecificChallenge();
           const timeConstraint = answers.q7 === 'a' ? 'وقتك المحدود' : 'التزامك بالوقت';
           
           return `
               <h3 class="recommendation-title">
                   <span class="recommendation-icon">🌅</span>
                   رحلة الإشراقة هي الأنسب لك
               </h3>
               <div class="recommendation-content">
                   <p>بناءً على إجاباتك الصادقة، ألاحظ أنك تواجه <span class="recommendation-highlight">${challenge}</span> يحتاج حلاً عملياً سريعاً. هذا رائع! وضوح التحدي هو نصف الحل.</p>
                   
                   <p>لاحظت أيضاً أنك:</p>
                   <ul style="list-style: none; padding: 0;">
                       <li>✓ تريد أدوات عملية يمكن تطبيقها فوراً</li>
                       <li>✓ تقدر ${timeConstraint} وتريد نتائج سريعة</li>
                       <li>✓ تفضل التركيز على الحل أكثر من التحليل العميق</li>
                   </ul>
                   
                   <p>رحلة الإشراقة ستمنحك في <span class="recommendation-highlight">3 جلسات مركزة</span>:</p>
                   <ul style="list-style: none; padding: 0;">
                       <li>• حلاً عملياً لتحديك الحالي</li>
                       <li>• أدوات يمكنك استخدامها مدى الحياة</li>
                       <li>• بذور وعي لرحلة أعمق عندما تكون مستعداً</li>
                   </ul>
                   
                   <p>ما يميز اقتراحي لك تحديداً:</p>
                   <ul style="list-style: none; padding: 0;">
                       <li>- سنركز على ${getSpecificFocus()}</li>
                       <li>- سنستخدم أسلوباً عملياً يناسب طبيعتك</li>
                       <li>- ستخرج من أول جلسة بخطة واضحة</li>
                   </ul>
               </div>
           `;
       }
       
       function generateBaseeraRecommendation() {
           const awarenessLevel = getAwarenessLevel();
           const readiness = getReadinessLevel();
           
           return `
               <h3 class="recommendation-title">
                   <span class="recommendation-icon">👁️</span>
                   رحلة البصيرة هي الأنسب لك
               </h3>
               <div class="recommendation-content">
                   <p>إجاباتك تكشف عن <span class="recommendation-highlight">${awarenessLevel}</span>. هذا الوعي هو البداية الحقيقية للتحرر!</p>
                   
                   <p>ما لفت انتباهي في إجاباتك:</p>
                   <ul style="list-style: none; padding: 0;">
                       <li>✓ إدراكك أن التحديات الظاهرة لها جذور أعمق</li>
                       <li>✓ رغبتك الصادقة في فهم "لماذا" وليس فقط "كيف"</li>
                       <li>✓ ${readiness}</li>
                       <li>✓ نضج في التعامل مع فكرة النمو الشخصي</li>
                   </ul>
                   
                   <p>رحلة البصيرة - <span class="recommendation-highlight">8-12 جلسة</span> ستأخذك إلى:</p>
                   <ul style="list-style: none; padding: 0;">
                       <li>• فهم عميق لنمطك الشخصي وما يحركك</li>
                       <li>• اكتشاف الأنماط المتكررة وكيفية تحريرها</li>
                       <li>• أدوات مخصصة لطبيعتك الفريدة</li>
                       <li>• تحول حقيقي في طريقة رؤيتك لنفسك والحياة</li>
                   </ul>
                   
                   <p>بناءً على ${getSpecificInsight()}, أرى أن لديك:</p>
                   <ul style="list-style: none; padding: 0;">
                       <li>- ${getStrength()} يمكن البناء عليها</li>
                       <li>- ${getChallenge()} سنعمل على تحويله لفرصة</li>
                   </ul>
               </div>
           `;
       }
       
       function generateSakeenaRecommendation() {
           const transformReadiness = getTransformReadiness();
           const commitment = getCommitmentLevel();
           
           return `
               <h3 class="recommendation-title">
                   <span class="recommendation-icon">🌟</span>
                   رحلة السكينة هي الأنسب لك
               </h3>
               <div class="recommendation-content">
                   <p>إجاباتك تشع بطاقة إنسان <span class="recommendation-highlight">${transformReadiness}</span>. هذا الاستعداد نادر وثمين!</p>
                   
                   <p>ما يؤكد استعدادك العالي:</p>
                   <ul style="list-style: none; padding: 0;">
                       <li>✓ وعيك بأن التغيير الحقيقي يتطلب عملاً عميقاً</li>
                       <li>✓ استعدادك لمواجهة الحقائق غير المريحة</li>
                       <li>✓ رؤيتك للألم كرسالة وليس كعدو</li>
                       <li>✓ ${commitment}</li>
                   </ul>
                   
                   <p>رحلة السكينة - <span class="recommendation-highlight">6-12 شهر</span> من التحول العميق:</p>
                   <ul style="list-style: none; padding: 0;">
                       <li>• ليست مجرد حل مشاكل بل إعادة تأسيس</li>
                       <li>• عمل على كل مستويات الوجود</li>
                       <li>• تحول من الغربة إلى النبالة</li>
                       <li>• بناء حياة طيبة حقيقية</li>
                   </ul>
                   
                   <p>لكن - وهذا مهم - يمكننا البدء بـ:</p>
                   <ul style="list-style: none; padding: 0;">
                       <li>□ شهر تجريبي لتتأكد من التناغم</li>
                       <li>□ أو حتى بجلسات من البصيرة أولاً</li>
                       <li>□ المرونة متاحة دائماً</li>
                   </ul>
               </div>
           `;
       }
       
       function generateMixedRecommendation(type) {
           if (type === 'eshraq-baseera') {
               return `
                   <h3 class="recommendation-title">
                       <span class="recommendation-icon">🌅👁️</span>
                       مسار متدرج: من الإشراقة إلى البصيرة
                   </h3>
                   <div class="recommendation-content">
                       <p>إجاباتك تكشف عن حالة جميلة ومثيرة - أنت على أعتاب تحول لكن تحتاج البدء بخطوات عملية.</p>
                       
                       <p>لاحظت التالي:</p>
                       <ul style="list-style: none; padding: 0;">
                           <li>✓ لديك تحدٍ عاجل يحتاج حلاً</li>
                           <li>✓ لكنك واعٍ بوجود أنماط أعمق</li>
                           <li>✓ مستعد للعمق لكن بالتدرج</li>
                       </ul>
                       
                       <p>لذلك، توصيتي المخصصة لك:</p>
                       
                       <p><strong>المرحلة 1: رحلة الإشراقة (3-4 جلسات)</strong></p>
                       <ul style="list-style: none; padding: 0;">
                           <li>- نحل التحدي العاجل</li>
                           <li>- نضع أساساً من الأدوات العملية</li>
                           <li>- نفتح الباب للعمق دون ضغط</li>
                       </ul>
                       
                       <p><strong>المرحلة 2: رحلة البصيرة (عند استعدادك)</strong></p>
                       <ul style="list-style: none; padding: 0;">
                           <li>- نغوص في فهم الأنماط</li>
                           <li>- نكتشف نمطك وشوقك الخاص</li>
                           <li>- نبني خطة تحول مخصصة</li>
                       </ul>
                   </div>
               `;
           } else {
               return `
                   <h3 class="recommendation-title">
                       <span class="recommendation-icon">👁️🌟</span>
                       أنت جاهز للعمق مع خيار التدرج
                   </h3>
                   <div class="recommendation-content">
                       <p>إجاباتك تشير إلى استعداد عميق للتحول، مع حكمة في طلب التدرج.</p>
                       
                       <p>يمكنك الاختيار بين:</p>
                       
                       <p><strong>الخيار الأول: البدء بالبصيرة</strong></p>
                       <ul style="list-style: none; padding: 0;">
                           <li>- نبني فهماً عميقاً أولاً</li>
                           <li>- نكتشف نمطك ودوافعك</li>
                           <li>- ثم ننتقل للسكينة عند الاستعداد</li>
                       </ul>
                       
                       <p><strong>الخيار الثاني: الدخول المباشر للسكينة</strong></p>
                       <ul style="list-style: none; padding: 0;">
                           <li>- مع شهر تجريبي أولاً</li>
                           <li>- مرونة في السرعة والعمق</li>
                           <li>- إمكانية التوقف والعودة</li>
                       </ul>
                   </div>
               `;
           }
       }
       
       // Helper functions for personalization
       function getSpecificChallenge() {
           if (answers.q1 === 'a' && subAnswers['q1-sub-a']) {
               const challenges = {
                   '1': 'تحدياً في العمل',
                   '2': 'تحدياً في العلاقات',
                   '3': 'تحدياً مع نفسك',
                   '4': 'قراراً مهماً تحتاج اتخاذه'
               };
               return challenges[subAnswers['q1-sub-a']] || 'تحدياً محدداً';
           }
           return 'تحدياً يحتاج انتباهك';
       }
       
       function getSpecificFocus() {
           const q3Text = answers['q3-text'] || '';
           if (q3Text.includes('عمل') || q3Text.includes('وظيف')) return 'التحديات المهنية';
           if (q3Text.includes('علاق') || q3Text.includes('زوج')) return 'تحسين العلاقات';
           if (q3Text.includes('قلق') || q3Text.includes('خوف')) return 'إدارة المشاعر';
           return 'تحديك الخاص';
       }
       
       function getAwarenessLevel() {
           if (answers.q4 === 'c') return 'وعي عميق بالأنماط المتكررة في حياتك';
           if (answers.q4 === 'b') return 'بداية وعي جميلة بوجود خيوط مشتركة';
           if (answers.q4 === 'd') return 'يقظة جديدة تتفتح في داخلك';
           return 'رغبة صادقة في الفهم';
       }
       
       function getReadinessLevel() {
           if (answers.q5 === 'a') return 'استعدادك الكامل لمواجهة الحقيقة';
           if (answers.q5 === 'b') return 'حكمتك في طلب التدرج';
           if (answers.q5 === 'c') return 'شجاعتك رغم المخاوف';
           return 'استعدادك للنمو';
       }
       
       function getSpecificInsight() {
           const q6Text = answers['q6-text'] || '';
           if (q6Text.length > 50) return 'رؤيتك الواضحة للمستقبل';
           return 'ما شاركته معي';
       }
       
       function getStrength() {
           const supportCount = document.querySelectorAll('#q8 input[type="checkbox"]:checked').length;
           if (supportCount >= 4) return 'شبكة دعم قوية';
           if (supportCount >= 2) return 'موارد داعمة جيدة';
           return 'قوة داخلية ملهمة';
       }
       
       function getChallenge() {
           if (answers.q10 === 'a') return 'شك في قدراتك';
           if (answers.q10 === 'b') return 'تحمل مسؤولية زائدة';
           if (answers.q10 === 'c') return 'خوف من حجم التغيير المطلوب';
           return 'تحدٍ طبيعي في الرحلة';
       }
       
       function getTransformReadiness() {
           if (answers.q1 === 'd' && subAnswers['q1-sub-d'] === '1') return 'صاحب رؤية واضحة';
           if (answers.q1 === 'd' && subAnswers['q1-sub-d'] === '4') return 'وصل لنقطة التحول الحتمية';
           return 'مستعد للتحول الجذري';
       }
       
       function getCommitmentLevel() {
           if (answers.q7 === 'd') return 'التزامك الكامل بتخصيص الوقت والطاقة';
           if (answers.q7 === 'c') return 'استعدادك لاستثمار وقت كافٍ';
           return 'التزامك بالرحلة';
       }
       
       // Generate journey details
       function generateJourneyDetails(journeyType) {
           let details = '';
           
           if (journeyType === 'eshraq') {
               details = `
                   <h3>تفاصيل رحلة الإشراقة</h3>
                   <ul>
                       <li>المدة: 3 جلسات (يمكن إضافة جلسة رابعة)</li>
                       <li>التكرار: جلسة أسبوعياً</li>
                       <li>مدة الجلسة: 90 دقيقة للأولى، 75 دقيقة للتالية</li>
                       <li>المتابعة: أسبوعان من الدعم عبر الرسائل</li>
                       <li>النتيجة المتوقعة: حل عملي + أدوات للحياة + بذور وعي</li>
                   </ul>
               `;
           } else if (journeyType === 'baseera') {
               details = `
                   <h3>تفاصيل رحلة البصيرة</h3>
                   <ul>
                       <li>المدة: 8-12 جلسة على 2-3 شهور</li>
                       <li>التكرار: جلسة أسبوعية أو كل أسبوعين</li>
                       <li>مدة الجلسة: 90 دقيقة</li>
                       <li>المتابعة: مجموعة دعم + مكالمة شهرية</li>
                       <li>النتيجة المتوقعة: فهم عميق للذات + تحرر من الأنماط + خطة تحول</li>
                   </ul>
               `;
           } else {
               details = `
                   <h3>تفاصيل رحلة السكينة</h3>
                   <ul>
                       <li>المدة: 6-12 شهر (24-48 جلسة)</li>
                       <li>التكرار: جلسة أسبوعية في البداية</li>
                       <li>مدة الجلسة: 90-120 دقيقة</li>
                       <li>المتابعة: دعم مكثف + إشراف أسبوعي</li>
                       <li>النتيجة المتوقعة: تحول جذري + حياة طيبة + القدرة على الخدمة</li>
                   </ul>
               `;
           }
           
           document.getElementById('journeyDetails').innerHTML = details;
       }
       
       // Action functions
       function bookSession() {
           // Redirect to booking page with journey type
           const results = JSON.parse(localStorage.getItem('assessmentResults') || '{}');
           window.location.href = `booking.html?journey=${results.journeyType}`;
       }
       
       function learnMore() {
           const results = JSON.parse(localStorage.getItem('assessmentResults') || '{}');
           window.location.href = `journeys.html#${results.journeyType}`;
       }
       
       // Initialize character counts
       document.addEventListener('DOMContentLoaded', function() {
           const textareas = document.querySelectorAll('.text-input');
           textareas.forEach(textarea => {
               const maxLength = textarea.id.includes('q11') ? 300 : 500;
               updateCharCount(textarea.id, maxLength);
           });
       });
   </script>
</body>
</html>
