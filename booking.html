<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฑุญูุฉ ุงูุชุดุงู ุงูุฐุงุช - ุงูุชูููู ุงูุนููู</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
            background: linear-gradient(135deg, #F5F2E8 0%, #E8E5D5 100%);
            color: #1A1A1A;
            line-height: 1.8;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Progress Bar */
        .progress-container {
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .progress-bar {
            background: #E5E5E5;
            height: 8px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #2C5530, #8B9467);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            text-align: center;
            color: #666;
            font-size: 14px;
        }
        
        /* Question Container */
        .question-container {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            animation: fadeInUp 0.5s ease;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .question-section {
            display: none;
        }
        
        .question-section.active {
            display: block;
        }
        
        .section-intro {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(44, 85, 48, 0.05) 0%, rgba(139, 148, 103, 0.05) 100%);
            border-radius: 15px;
        }
        
        .section-intro h2 {
            color: #2C5530;
            margin-bottom: 15px;
            font-size: 28px;
        }
        
        .section-intro p {
            color: #666;
            font-size: 18px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Question Styles */
        .question {
            margin-bottom: 35px;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
        }
        
        .question.revealed {
            opacity: 1;
        }
        
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
        
        .question-number {
            display: inline-block;
            background: #2C5530;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .question-text {
            font-size: 20px;
            color: #2C5530;
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        /* Option Styles */
        .options {
            display: grid;
            gap: 15px;
        }
        
        .option {
            background: #F8F8F8;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .option:hover {
            background: #F0F0F0;
            transform: translateX(-5px);
            border-color: #8B9467;
        }
        
        .option.selected {
            background: linear-gradient(135deg, rgba(44, 85, 48, 0.1) 0%, rgba(139, 148, 103, 0.1) 100%);
            border-color: #2C5530;
        }
        
        .option.selected::before {
            content: 'โ';
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: #2C5530;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .option-text {
            display: block;
            margin-right: 40px;
        }
        
        .option-main {
            font-weight: 500;
            margin-bottom: 5px;
        }
        
        .option-sub {
            font-size: 14px;
            color: #666;
            font-style: italic;
        }
        
        /* Sub-questions */
        .sub-question {
            margin-top: 20px;
            padding: 20px;
            background: rgba(44, 85, 48, 0.05);
            border-radius: 10px;
            border-right: 4px solid #2C5530;
            display: none;
        }
        
        .sub-question.active {
            display: block;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Text Input Styles */
        .text-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #E5E5E5;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            resize: vertical;
            min-height: 120px;
            font-family: inherit;
        }
        
        .text-input:focus {
            outline: none;
            border-color: #2C5530;
            background: #FAFAFA;
        }
        
        .char-count {
            text-align: left;
            color: #999;
            font-size: 12px;
            margin-top: 5px;
        }
        
        /* Scale Input */
        .scale-container {
            margin: 20px 0;
        }
        
        .scale-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #666;
        }
        
        .scale-input {
            width: 100%;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 5px;
            background: #E5E5E5;
            outline: none;
        }
        
        .scale-input::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #2C5530;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .scale-input::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            background: #1e3a21;
        }
        
        .scale-value {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            color: #2C5530;
            margin-top: 10px;
        }
        
        /* Checkbox Styles */
        .checkbox-group {
            display: grid;
            gap: 12px;
        }
        
        .checkbox-option {
            display: flex;
            align-items: center;
            padding: 15px;
            background: #F8F8F8;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .checkbox-option:hover {
            background: #F0F0F0;
        }
        
        .checkbox-option input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-left: 15px;
            cursor: pointer;
        }
        
        .checkbox-option.checked {
            background: rgba(44, 85, 48, 0.1);
            border: 1px solid #2C5530;
        }
        
        /* Navigation Buttons */
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #E5E5E5;
        }
        
        .btn {
            padding: 15px 35px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        
        .btn-secondary {
            background: white;
            color: #2C5530;
            border: 2px solid #2C5530;
        }
        
        .btn-secondary:hover {
            background: #2C5530;
            color: white;
        }
        
        .btn-primary {
            background: #2C5530;
            color: white;
        }
        
        .btn-primary:hover {
            background: #1e3a21;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(44, 85, 48, 0.3);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        /* Results Section */
        .results-container {
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: none;
            position: relative;
            overflow: hidden;
        }
        
        /* Loading */
        .loading-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .loading-content {
            text-align: center;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #2C5530;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: #2C5530;
            font-size: 18px;
        }
        
        /* Final Message */
        .final-message {
            text-align: center;
            padding: 50px;
            background: linear-gradient(135deg, #F5F2E8 0%, #E8E5D5 100%);
            border-radius: 20px;
            margin-top: 30px;
        }
        
        .final-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .final-title {
            font-size: 32px;
            color: #2C5530;
            margin-bottom: 20px;
        }
        
        .final-text {
            font-size: 18px;
            color: #666;
            line-height: 1.8;
            max-width: 600px;
            margin: 0 auto 30px;
        }
        
        .whatsapp-btn {
            display: inline-block;
            background: #25D366;
            color: white;
            padding: 15px 40px;
            border-radius: 30px;
            text-decoration: none;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .whatsapp-btn:hover {
            background: #1EBE56;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(37, 211, 102, 0.3);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .question-container {
                padding: 20px;
            }
            
            .question-text {
                font-size: 18px;
            }
            
            .option {
                padding: 15px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">ุงูุจุฏุงูุฉ</div>
        </div>
        
        <!-- Main Form Container -->
        <div class="question-container" id="questionContainer">
            
            <!-- Welcome Section -->
            <div class="question-section active" id="section-0">
                <div class="section-intro">
                    <h2>ูุฑุญุจุงู ุจู ูู ุฑุญูุฉ ุงูุชุดุงู ุงูุฐุงุช ๐</h2>
                    <p>ูุจู ุฃู ูุจุฏุฃุ ุฎุฐ ููุณุงู ุนูููุงู...</p>
                    <p>ูุฐู ููุณุช ูุฌุฑุฏ ุงุณุชูุงุฑุฉุ ุจู ูุญุงุฏุซุฉ ูุน ููุณู</p>
                    <p>ูู ุณุคุงู ูุตูู ููุณุงุนุฏู ุนูู ุงููุถูุญ</p>
                </div>
                
                <div class="navigation">
                    <span></span>
                    <button class="btn btn-primary" onclick="startAssessment()">ุงุจุฏุฃ ุงูุฑุญูุฉ</button>
                </div>
            </div>
            
            <!-- Section 1: Starting Point -->
            <div class="question-section" id="section-1">
                <div class="section-intro">
                    <h2>ููุทุฉ ุงูุจุฏุงูุฉ</h2>
                    <p>ุฏุนูุง ูููู ูุง ุงูุฐู ุฌูุจู ุฅูู ููุง</p>
                </div>
                
                <!-- Question 1 -->
                <div class="question revealed" id="q1">
                    <span class="question-number">1</span>
                    <h3 class="question-text">ูุง ุงูุฐู ูุฌุนูู ุชุจุญุซ ุนู ุงูุฏุนู ูู ูุฐู ุงููุญุธุฉ ูู ุญูุงุชูุ</h3>
                    <div class="options">
                        <div class="option" onclick="selectOption('q1', 'a', this)">
                            <span class="option-text">
                                <span class="option-main">ุฃูุงุฌู ุชุญุฏูุงู ูุญุฏุฏุงู ุฃุฑูุฏ ุญูุงู ูู</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q1', 'b', this)">
                            <span class="option-text">
                                <span class="option-main">ุฃุดุนุฑ ุจุฃู ุดูุฆุงู ูุง "ููุณ ุตุญูุญุงู" ูู ุญูุงุชู</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q1', 'c', this)">
                            <span class="option-text">
                                <span class="option-main">ุฃุฑูุฏ ุฃู ุฃููู ููุณู ุจุดูู ุฃุนูู</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q1', 'd', this)">
                            <span class="option-text">
                                <span class="option-main">ูุณุชุนุฏ ูุชุญูู ุฌุฐุฑู ูู ุญูุงุชู</span>
                            </span>
                        </div>
                    </div>
                    
                    <!-- Sub-questions -->
                    <div class="sub-question" id="q1-sub-a">
                        <h4>ูุง ููุน ุงูุชุญุฏู ุงูุฐู ุชูุงุฌููุ</h4>
                        <div class="options">
                            <div class="option" onclick="selectSubOption('q1-sub-a', '1', this)">
                                <span class="option-text">ุงูุชุญุฏู ูู ุงูุนูู/ุงููููุฉ</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-a', '2', this)">
                                <span class="option-text">ุงูุชุญุฏู ูู ุงูุนูุงูุงุช</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-a', '3', this)">
                                <span class="option-text">ุงูุชุญุฏู ูุน ููุณู</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-a', '4', this)">
                                <span class="option-text">ุงูุชุญุฏู ูู ุงุชุฎุงุฐ ูุฑุงุฑ ููู</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sub-question" id="q1-sub-b">
                        <h4>ููู ูุชุฌูู ูุฐุง ุงูุดุนูุฑ ูู ุญูุงุชูุ</h4>
                        <div class="options">
                            <div class="option" onclick="selectSubOption('q1-sub-b', '1', this)">
                                <span class="option-text">ุดุนูุฑ ุจุงููุฑุงุบ ุฑุบู ุงูุฅูุฌุงุฒุงุช</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-b', '2', this)">
                                <span class="option-text">ุชูุฑุงุฑ ููุณ ุงูุฃููุงุท ุงููุคููุฉ</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-b', '3', this)">
                                <span class="option-text">ููุฏุงู ุงูุดุบู ูุงููุนูู</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-b', '4', this)">
                                <span class="option-text">ุฅุญุณุงุณ ุจุฃููู ูุณุช ูู ููุงูู ุงูุตุญูุญ</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sub-question" id="q1-sub-c">
                        <h4>ูุง ุฃูุซุฑ ุณุคุงู ูุดุบู ุจุงูู ุนู ููุณูุ</h4>
                        <div class="options">
                            <div class="option" onclick="selectSubOption('q1-sub-c', '1', this)">
                                <span class="option-text">ููุงุฐุง ุฃุชุตุฑู ุจุงูุทุฑููุฉ ุงูุชู ุฃุชุตุฑู ุจูุงุ</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-c', '2', this)">
                                <span class="option-text">ูู ุฃูุง ุญูุงู ุฎูู ูู ุงูุฃููุนุฉุ</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-c', '3', this)">
                                <span class="option-text">ูุง ูู ุฏูุฑู ุงูุญูููู ูู ุงูุญูุงุฉุ</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-c', '4', this)">
                                <span class="option-text">ููู ุฃุญูู ุฅููุงููุงุชู ุงููุงููุฉุ</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sub-question" id="q1-sub-d">
                        <h4>ูุง ุงูุฐู ูุฏูุนู ูุญู ูุฐุง ุงูุชุญููุ</h4>
                        <div class="options">
                            <div class="option" onclick="selectSubOption('q1-sub-d', '1', this)">
                                <span class="option-text">ูุฏู ุฑุคูุฉ ูุงุถุญุฉ ูุฃุญุชุงุฌ ุฏุนูุงู ููุชูููุฐ</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-d', '2', this)">
                                <span class="option-text">ุฃุนุฑู ุฃููู ุฃุญุชุงุฌ ุชุบููุฑุงู ุฌุฐุฑูุงู ููู ูุง ุฃุนุฑู ููู</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-d', '3', this)">
                                <span class="option-text">ูุฑุฑุช ุจุชุฌุฑุจุฉ ุฃููุธุชูู ูุฃุฑูุฏ ุงูุจูุงุก ุนูููุง</span>
                            </div>
                            <div class="option" onclick="selectSubOption('q1-sub-d', '4', this)">
                                <span class="option-text">ูุตูุช ููุฑุญูุฉ "ููู" ูุฃุฑูุฏ ุญูุงุฉ ูุฎุชููุฉ</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Question 2 -->
                <div class="question" id="q2">
                    <span class="question-number">2</span>
                    <h3 class="question-text">ุนูุฏูุง ุชูุงุฌู ุชุญุฏูุงู ูู ุญูุงุชูุ ูุง ุฃูู ูุง ุชููุฑ ููู ุนุงุฏุฉุ</h3>
                    <div class="options">
                        <div class="option" onclick="selectOption('q2', 'a', this)">
                            <span class="option-text">
                                <span class="option-main">"ููู ุฃุญู ูุฐู ุงููุดููุฉ ุจุณุฑุนุฉุ"</span>
                                <span class="option-sub">ุฃุฑูุฒ ุนูู ุฅูุฌุงุฏ ุญููู ุนูููุฉ ููุฑูุฉ</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q2', 'b', this)">
                            <span class="option-text">
                                <span class="option-main">"ููุงุฐุง ูุญุฏุซ ูู ูุฐุง ุฏุงุฆูุงูุ"</span>
                                <span class="option-sub">ุฃูุงุญุธ ุชูุฑุงุฑ ููุณ ุงูููุน ูู ุงูุชุญุฏูุงุช</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q2', 'c', this)">
                            <span class="option-text">
                                <span class="option-main">"ูุง ุงูุฑุณุงูุฉ ุงูุชู ุชุญูููุง ูุฐู ุงูุชุฌุฑุจุฉุ"</span>
                                <span class="option-sub">ุฃุจุญุซ ุนู ุงููุนูู ูุงูุญููุฉ</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q2', 'd', this)">
                            <span class="option-text">
                                <span class="option-main">"ูุฐุง ุงูุชุญุงู/ูุฑุตุฉ ููููู"</span>
                                <span class="option-sub">ุฃุฑู ุงูุชุญุฏูุงุช ูุฌุฒุก ูู ุฑุญูุฉ ุงูุชุทูุฑ</span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <!-- Question 3 -->
                <div class="question" id="q3">
                    <span class="question-number">3</span>
                    <h3 class="question-text">ุฃููู ูุฐู ุงูุฌููุฉ: "ุฃูุซุฑ ูุง ูุคูููู ูู ุญูุงุชู ุงูุขู ูู..."</h3>
                    <textarea class="text-input" id="q3-text" placeholder="ุงูุชุจ ุจุญุฑูุฉ... ูู ูุง ุชูุชุจู ุณูุจูู ูู ุณุฑูุฉ ุชุงูุฉ" onkeyup="updateCharCount('q3-text', 500)"></textarea>
                    <div class="char-count" id="q3-text-count">0 / 500</div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">ุงูุณุงุจู</button>
                    <button class="btn btn-primary" onclick="nextSection()">ุงูุชุงูู</button>
                </div>
            </div>
            
            <!-- Section 2: Patterns & Awareness -->
            <div class="question-section" id="section-2">
                <div class="section-intro">
                    <h2>ุงููุนู ุจุงูุฃููุงุท</h2>
                    <p>ููุณุชูุดู ูุนุงู ุงูุฎููุท ุงูุฎููุฉ ูู ูุณูุฌ ุญูุงุชู</p>
                </div>
                
                <!-- Question 4 -->
                <div class="question revealed" id="q4">
                    <span class="question-number">4</span>
                    <h3 class="question-text">ููุฑ ูู ุขุฎุฑ 3 ุชุญุฏูุงุช ูุจุฑู ูุงุฌูุชูุง. ูู ุชูุงุญุธ ููุทุงู ูุดุชุฑูุงูุ</h3>
                    <div class="options">
                        <div class="option" onclick="selectOption('q4', 'a', this)">
                            <span class="option-text">
                                <span class="option-main">ูุงุ ูู ูููู ูุฎุชูู ุชูุงูุงู</span>
                                <span class="option-sub">ุงูุชุญุฏูุงุช ูุชููุนุฉ ููุง ุฃุฑู ุฑุงุจุทุงู ุจูููุง</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q4', 'b', this)">
                            <span class="option-text">
                                <span class="option-main">ูุนูุ ุฃูุงุญุธ ุจุนุถ ุงูุชุดุงุจู</span>
                                <span class="option-sub">ููุงู ุฎููุท ูุดุชุฑูุฉ ุฃุจุฏุฃ ูู ุฑุคูุชูุง</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q4', 'c', this)">
                            <span class="option-text">
                                <span class="option-main">ูุนูุ ููุงู ููุท ูุงุถุญ ุฃุฑุงู</span>
                                <span class="option-sub">ุฃุนู ุชูุงูุงู ุงูุฃููุงุท ุงููุชูุฑุฑุฉ ูู ุญูุงุชู</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q4', 'd', this)">
                            <span class="option-text">
                                <span class="option-main">ุงูุขู ุจุนุฏ ุฃู ุณุฃูุชุ ุจุฏุฃุช ุฃูุงุญุธ...</span>
                                <span class="option-sub">ุงูุณุคุงู ูุชุญ ุนููู ุนูู ุดูุก ูู ุฃูุชุจู ูู</span>
                            </span>
                        </div>
                    </div>
                    
                    <div class="sub-question" id="q4-sub-b">
                        <h4>ูุง ููุน ุงูุชุดุงุจู ุงูุฐู ุชูุงุญุธูุ</h4>
                        <div class="checkbox-group">
                            <div class="checkbox-option" onclick="toggleCheckbox(this)">
                                <input type="checkbox" value="people">
                                <span>ููุณ ููุน ุงูุฃุดุฎุงุต ูุณุจุจ ูู ุงููุดุงูู</span>
                            </div>
                            <div class="checkbox-option" onclick="toggleCheckbox(this)">
                                <input type="checkbox" value="mistakes">
                                <span>ุฃูุฑุฑ ููุณ ุงูุฃุฎุทุงุก</span>
                            </div>
                            <div class="checkbox-option" onclick="toggleCheckbox(this)">
                                <input type="checkbox" value="situations">
                                <span>ุฃุฌุฏ ููุณู ูู ููุณ ุงูููุงูู</span>
                            </div>
                            <div class="checkbox-option" onclick="toggleCheckbox(this)">
                                <input type="checkbox" value="reactions">
                                <span>ุฑุฏูุฏ ุฃูุนุงูู ูุชุดุงุจูุฉ</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Question 5 -->
                <div class="question" id="q5">
                    <span class="question-number">5</span>
                    <h3 class="question-text">ูุง ูุฏู ุงุณุชุนุฏุงุฏู ูููุงุฌูุฉ ุญูุงุฆู ูุฏ ุชููู ุบูุฑ ูุฑูุญุฉ ุนู ููุณูุ</h3>
                    <div class="options">
                        <div class="option" onclick="selectOption('q5', 'a', this)">
                            <span class="option-text">
                                <span class="option-main">ูุณุชุนุฏ ุชูุงูุงู - ุฃุฑูุฏ ุงูุญูููุฉ ูููุง ูุงูุช</span>
                                <span class="option-sub">ุงููุถูุญ ุฃูู ูู ุงูุฑุงุญุฉ ุจุงููุณุจุฉ ูู</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q5', 'b', this)">
                            <span class="option-text">
                                <span class="option-main">ูุณุชุนุฏ ุจุญุฐุฑ - ุฃุฑูุฏ ุงูุชุฏุฑุฌ</span>
                                <span class="option-sub">ุฃูุถู ุงูุชุดุงู ุงูุญูุงุฆู ุฎุทูุฉ ุจุฎุทูุฉ</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q5', 'c', this)">
                            <span class="option-text">
                                <span class="option-main">ููู ููู ูุณุชุนุฏ - ุฃุญุชุงุฌ ุฏุนูุงู ูุจูุฑุงู</span>
                                <span class="option-sub">ุฃุฑูุฏ ุงูุชุบููุฑ ุฑุบู ูุฎุงููู</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q5', 'd', this)">
                            <span class="option-text">
                                <span class="option-main">ูุณุช ูุชุฃูุฏุงู - ุฃุฑูุฏ ุงูุจุฏุก ุจูุฏูุก</span>
                                <span class="option-sub">ุฃุญุชุงุฌ ูุจูุงุก ุงูุซูุฉ ุฃููุงู</span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <!-- Question 6 -->
                <div class="question" id="q6">
                    <span class="question-number">6</span>
                    <h3 class="question-text">ุนูุฏูุง ุชุชุฎูู ููุณู ุจุนุฏ ุนุงู ูู ุงูุขูุ ูุงุฐุง ุชุชููู ุฃู ูููู ูุฏ ุชุบูุฑุ</h3>
                    <textarea class="text-input" id="q6-text" placeholder="ุตู ุงูุตูุฑุฉ ุงูุชู ุชุชููุงูุง ูููุณู..." onkeyup="updateCharCount('q6-text', 500)"></textarea>
                    <div class="char-count" id="q6-text-count">0 / 500</div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">ุงูุณุงุจู</button>
                    <button class="btn btn-primary" onclick="nextSection()">ุงูุชุงูู</button>
                </div>
            </div>
            
            <!-- Section 3: Resources & Commitment -->
            <div class="question-section" id="section-3">
                <div class="section-intro">
                    <h2>ุงูููุงุฑุฏ ูุงูุงูุชุฒุงู</h2>
                    <p>ููููู ูุง ูุฏูู ููุง ุชุญุชุงุฌู ูุฑุญูุชู</p>
                </div>
                
                <!-- Question 7 -->
                <div class="question revealed" id="q7">
                    <span class="question-number">7</span>
                    <h3 class="question-text">ูู ูู ุงูููุช ูุงูุทุงูุฉ ููููู ุชุฎุตูุตู ูุฑุญูุชูุ</h3>
                    <div class="options">
                        <div class="option" onclick="selectOption('q7', 'a', this)">
                            <span class="option-text">
                                <span class="option-main">ูุญุฏูุฏ ุฌุฏุงู - ุณุงุนุฉ ุฃุณุจูุนูุงู ุฃู ุฃูู</span>
                                <span class="option-sub">ููุชู ุถูู ููููู ููุชู</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q7', 'b', this)">
                            <span class="option-text">
                                <span class="option-main">ูุชูุณุท - 2-3 ุณุงุนุงุช ุฃุณุจูุนูุงู</span>
                                <span class="option-sub">ูููููู ุฅูุฌุงุฏ ููุช ููุงุณุจ</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q7', 'c', this)">
                            <span class="option-text">
                                <span class="option-main">ุฌูุฏ - 3-5 ุณุงุนุงุช ุฃุณุจูุนูุงู</span>
                                <span class="option-sub">ูุณุชุนุฏ ูุงุณุชุซูุงุฑ ููุช ูุงูู</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q7', 'd', this)">
                            <span class="option-text">
                                <span class="option-main">ููุชุฒู ุชูุงูุงู - ุฃูุซุฑ ูู 5 ุณุงุนุงุช</span>
                                <span class="option-sub">ูุฐุง ุฃููููุฉ ูุตูู ูู ุญูุงุชู</span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <!-- Question 8 -->
                <div class="question" id="q8">
                    <span class="question-number">8</span>
                    <h3 class="question-text">ูุง ุงูุฐู ูุฏุนูู ูู ุญูุงุชู ุงูุขูุ</h3>
                    <div class="checkbox-group">
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="family">
                            <span>ุนุงุฆูุฉ ุฏุงุนูุฉ</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="friends">
                            <span>ุฃุตุฏูุงุก ูุงุนูู</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="spiritual">
                            <span>ููุงุฑุณุฉ ุฑูุญูุฉ/ุฏูููุฉ</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="learning">
                            <span>ูุฑุงุกุฉ ูุชุนูู ุฐุงุชู</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="physical">
                            <span>ุฑูุงุถุฉ ุฃู ููุงุฑุณุฉ ุฌุณุฏูุฉ</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="work">
                            <span>ุนูู ุฃุญุจู</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="hobby">
                            <span>ููุงูุฉ ุฃู ุดุบู</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="none">
                            <span>ูุง ุดูุก ููุง ุณุจู</span>
                        </div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">ุงูุณุงุจู</button>
                    <button class="btn btn-primary" onclick="nextSection()">ุงูุชุงูู</button>
                </div>
            </div>
            
            <!-- Section 4: Deep Questions -->
            <div class="question-section" id="section-4">
                <div class="section-intro">
                    <h2>ุงูุฃุณุฆูุฉ ุงูุนูููุฉ</h2>
                    <p>ุฎุฐ ููุชู... ูุฐู ุฃุณุฆูุฉ ููุชุฃูู ูุงูุงุณุชุจุตุงุฑ</p>
                </div>
                
                <!-- Question 9 -->
                <div class="question revealed" id="q9">
                    <span class="question-number">9</span>
                    <h3 class="question-text">ูู ูุงู ุฃููู ุงูุญุงูู ุฑุณุงูุฉ ููุ ูุงุฐุง ุชุนุชูุฏ ุฃููุง ุชุฑูุฏ ุฃู ุชูููุ</h3>
                    <textarea class="text-input" id="q9-text" placeholder="ุงุณุชูุน ูุตูุช ุงูุฃูู... ูุงุฐุง ูุญุงูู ุฃู ูุฎุจุฑูุ" onkeyup="updateCharCount('q9-text', 500)"></textarea>
                    <div class="char-count" id="q9-text-count">0 / 500</div>
                </div>
                
                <!-- Question 10 -->
                <div class="question" id="q10">
                    <span class="question-number">10</span>
                    <h3 class="question-text">ูุง ุฃูุซุฑ ุดูุก ุชุฎุงู ูู ุงูุชุดุงูู ุนู ููุณูุ</h3>
                    <div class="options">
                        <div class="option" onclick="selectOption('q10', 'a', this)">
                            <span class="option-text">
                                <span class="option-main">ุฃููู ูุณุช ุจุงูููุฉ ุงูุชู ุฃุธููุง</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q10', 'b', this)">
                            <span class="option-text">
                                <span class="option-main">ุฃููู ุงูุณุจุจ ูู ูุนุธู ูุดุงููู</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q10', 'c', this)">
                            <span class="option-text">
                                <span class="option-main">ุฃููู ุฃุญุชุงุฌ ุชุบููุฑุงู ุฌุฐุฑูุงู</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q10', 'd', this)">
                            <span class="option-text">
                                <span class="option-main">ุฃููู ุจุฎูุฑ ููุง ุฃูุง ููุง ุฃุญุชุงุฌ ูู ูุฐุง</span>
                            </span>
                        </div>
                        <div class="option" onclick="selectOption('q10', 'e', this)">
                            <span class="option-text">
                                <span class="option-main">ุฃูุถู ุนุฏู ุงูุชูููุฑ ูู ูุฐุง</span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">ุงูุณุงุจู</button>
                    <button class="btn btn-primary" onclick="nextSection()">ุงูุชุงูู</button>
                </div>
            </div>
            
            <!-- Section 5: Previous Experience -->
            <div class="question-section" id="section-5">
                <div class="section-intro">
                    <h2>ุงูุชุฌุงุฑุจ ุงูุณุงุจูุฉ</h2>
                    <p>ููุจูู ุนูู ูุง ุณุจู ููุชุนูู ููู</p>
                </div>
                
                <!-- Question 11 -->
                <div class="question revealed" id="q11">
                    <span class="question-number">11</span>
                    <h3 class="question-text">ูู ุณุจู ูู ุชุฌุฑุจุฉ ุฃู ูู ุงูุชุงููุ</h3>
                    <div class="checkbox-group">
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="therapy">
                            <span>ุนูุงุฌ ููุณู ุชูููุฏู</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="coaching">
                            <span>ููุชุดููุฌ ุญูุงุฉ</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="workshops">
                            <span>ูุฑุด ุชุทููุฑ ุฐุงุช</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="meditation">
                            <span>ููุงุฑุณุงุช ุชุฃูููุฉ/ููุบุง</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="reading">
                            <span>ูุฑุงุกุงุช ูู ุนูู ุงูููุณ/ุงูุชูููุฉ</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="spiritual-journey">
                            <span>ุฑุญูุฉ ุฑูุญูุฉ/ุฏูููุฉ ุนูููุฉ</span>
                        </div>
                        <div class="checkbox-option" onclick="toggleCheckbox(this)">
                            <input type="checkbox" value="none-experience">
                            <span>ูุง ุดูุก ููุง ุณุจู</span>
                        </div>
                    </div>
                    
                    <div class="sub-question" id="q11-sub" style="display: none;">
                        <h4>ูุง ุฃูู ูุง ุงุณุชูุฏุชูุ ููุง ุงูุฐู ุดุนุฑุช ุฃูู ูุงูุตุ</h4>
                        <textarea class="text-input" id="q11-text" placeholder="ุดุงุฑู ุชุฌุฑุจุชู..." onkeyup="updateCharCount('q11-text', 300)"></textarea>
                        <div class="char-count" id="q11-text-count">0 / 300</div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">ุงูุณุงุจู</button>
                    <button class="btn btn-primary" onclick="nextSection()">ุงูุชุงูู</button>
                </div>
            </div>
            
            <!-- Section 6: Account & Contact Info -->
            <div class="question-section" id="section-6">
                <div class="section-intro">
                    <h2>ูุนูููุงุช ุงูุชูุงุตู</h2>
                    <p>ููุชููู ูู ูุฑุงููุชู ูู ุฑุญูุชู</p>
                </div>
                
                <!-- Basic Information -->
                <div class="question revealed" id="qBasicInfo">
                    <span class="question-number">๐</span>
                    <h3 class="question-text">ูุนูููุงุชู ุงูุฃุณุงุณูุฉ</h3>
                    
                    <div style="display: grid; gap: 20px;">
                        <div>
                            <label style="display: block; margin-bottom: 10px; color: #2C5530; font-weight: bold;">
                                ุงูุงุณู (ููููู ุงุณุชุฎุฏุงู ุงุณู ูุณุชุนุงุฑ)
                            </label>
                            <input type="text" id="userName" class="text-input" style="min-height: 50px;" placeholder="ุงูุงุณู ุงูุฐู ุชุญุจ ุฃู ููุงุฏูู ุจู">
                        </div>
                        
                        <div>
                            <label style="display: block; margin-bottom: 10px; color: #2C5530; font-weight: bold;">
                                ุงูุจุฑูุฏ ุงูุฅููุชุฑููู *
                            </label>
                            <input type="email" id="userEmail" class="text-input" style="min-height: 50px;" placeholder="example@email.com" required>
                            <small style="color: #666;">ุณูุณุชุฎุฏูู ูุฅูุดุงุก ุญุณุงุจู ุงูุฎุงุต</small>
                        </div>
                        
                        <div>
                            <label style="display: block; margin-bottom: 10px; color: #2C5530; font-weight: bold;">
                                ุฑูู ุงููุงุชุณุงุจ *
                            </label>
                            <input type="tel" id="userPhone" class="text-input" style="min-height: 50px;" placeholder="01234567890" required>
                            <small style="color: #666;">ููุชูุงุตู ุงููุจุงุดุฑ ูุนู</small>
                        </div>
                    </div>
                </div>
                
                <!-- Account Creation -->
                <div class="question" id="qAccount">
                    <span class="question-number">๐</span>
                    <h3 class="question-text">ุฅูุดุงุก ุญุณุงุจู ุงูุฎุงุต</h3>
                    <p style="color: #666; margin-bottom: 20px;">ุณูุชู ุฅูุดุงุก ูุณุงุญุฉ ุฎุงุตุฉ ุจู ููุชุงุจุนุฉ ุฑุญูุชู ูุญูุธ ุชูุฏูู</p>
                    
                    <div>
                        <label style="display: block; margin-bottom: 10px; color: #2C5530; font-weight: bold;">
                            ูููุฉ ุงููุฑูุฑ (6 ุฃุญุฑู ุนูู ุงูุฃูู) *
                        </label>
                        <div style="position: relative;">
                            <input type="password" id="userPassword" class="text-input" style="min-height: 50px; padding-left: 50px;" placeholder="ุงุฎุชุฑ ูููุฉ ูุฑูุฑ ูููุฉ" required>
                            <span onclick="togglePasswordVisibility()" style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%); cursor: pointer; font-size: 20px;">
                                ๐๏ธ
                            </span>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <label style="display: block; margin-bottom: 10px; color: #2C5530; font-weight: bold;">
                            ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ *
                        </label>
                        <input type="password" id="confirmPassword" class="text-input" style="min-height: 50px;" placeholder="ุฃุนุฏ ูุชุงุจุฉ ูููุฉ ุงููุฑูุฑ" required>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: #F0F8F0; border-radius: 10px;">
                        <p style="color: #2C5530; margin: 0;">
                            <strong>ููุงุญุธุฉ:</strong> ููููู ุชุณุฌูู ุงูุฏุฎูู ูุงุญูุงู ุจุงุณุชุฎุฏุงู ุจุฑูุฏู ุงูุฅููุชุฑููู ููููุฉ ุงููุฑูุฑ ููุชุงุจุนุฉ ุฑุญูุชู
                        </p>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">ุงูุณุงุจู</button>
                    <button class="btn btn-primary" onclick="nextSection()">ุงูุชุงูู</button>
                </div>
            </div>
            
            <!-- Section 7: Final Touch -->
            <div class="question-section" id="section-7">
                <div class="section-intro">
                    <h2>ุงูููุณุฉ ุงูุฃุฎูุฑุฉ</h2>
                    <p>ุฃูุช ุนูู ูุดู ุฅููุงู ุงูุฑุญูุฉ ุงูุชูููููุฉ</p>
                </div>
                
                <!-- Question 12 -->
                <div class="question revealed" id="q12">
                    <span class="question-number">12</span>
                    <h3 class="question-text">ุชุฎูู ุฃููุง ุจุนุฏ 6 ุดููุฑ ูู ุงูุขู ูุญุชูู ุจุชุญููู. ูุง ุงูุฐู ูุญุชูู ุจู ุชุญุฏูุฏุงูุ</h3>
                    <textarea class="text-input" id="q12-text" placeholder="ุงุณูุญ ูููุณู ุจุงูุญูู... ูุง ุงูุฐู ุชุญููุ" onkeyup="updateCharCount('q12-text', 500)"></textarea>
                    <div class="char-count" id="q12-text-count">0 / 500</div>
                </div>
                
                <!-- Question 13 -->
                <div class="question" id="q13">
                    <span class="question-number">13</span>
                    <h3 class="question-text">ุนูู ูููุงุณ ูู 1-10:</h3>
                    
                    <div class="scale-container">
                        <h4>ูุง ูุฏู ุฅูุญุงุญ ุญุงุฌุชู ููุฏุนู ุงูุขูุ</h4>
                        <div class="scale-label">
                            <span>1 - ุบูุฑ ููุญ</span>
                            <span>10 - ููุญ ุฌุฏุงู</span>
                        </div>
                        <input type="range" class="scale-input" id="urgency-scale" min="1" max="10" value="5" onchange="updateScaleValue('urgency')">
                        <div class="scale-value" id="urgency-value">5</div>
                    </div>
                    
                    <div class="scale-container">
                        <h4>ูุง ูุฏู ุงุณุชุนุฏุงุฏู ููุงุณุชุซูุงุฑ ูู ููุณูุ</h4>
                        <div class="scale-label">
                            <span>1 - ุบูุฑ ูุณุชุนุฏ</span>
                            <span>10 - ูุณุชุนุฏ ุชูุงูุงู</span>
                        </div>
                        <input type="range" class="scale-input" id="investment-scale" min="1" max="10" value="5" onchange="updateScaleValue('investment')">
                        <div class="scale-value" id="investment-value">5</div>
                    </div>
                    
                    <div class="scale-container">
                        <h4>ูุง ูุฏู ุซูุชู ูู ุฅููุงููุฉ ุงูุชุบููุฑุ</h4>
                        <div class="scale-label">
                            <span>1 - ุบูุฑ ูุงุซู</span>
                            <span>10 - ูุงุซู ุชูุงูุงู</span>
                        </div>
                        <input type="range" class="scale-input" id="confidence-scale" min="1" max="10" value="5" onchange="updateScaleValue('confidence')">
                        <div class="scale-value" id="confidence-value">5</div>
                    </div>
                </div>
                
                <!-- Question 14 -->
                <div class="question" id="q14">
                    <span class="question-number">14</span>
                    <h3 class="question-text">ูู ููุงู ุดูุก ููู ุชุฑูุฏ ุฃู ุฃุนุฑูู ุนูู ูู ุชุณุฃู ุนูู ุงูุฃุณุฆูุฉุ</h3>
                    <textarea class="text-input" id="q14-text" placeholder="ูุฐู ูุณุงุญุชู ุงูุญุฑุฉ..." onkeyup="updateCharCount('q14-text', 500)"></textarea>
                    <div class="char-count" id="q14-text-count">0 / 500</div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">ุงูุณุงุจู</button>
                    <button class="btn btn-primary" onclick="submitAssessment()">ุฅุฑุณุงู ูุนุฑุถ ุงููุชุงุฆุฌ</button>
                </div>
            </div>
        </div>
        
        <!-- Results Container -->
        <div class="results-container" id="resultsContainer">
            <!-- Dynamic results content will be inserted here -->
        </div>
        
        <!-- Loading -->
        <div class="loading-container" id="loadingContainer">
            <div class="loading-content">
                <div class="spinner"></div>
                <p class="loading-text">ุฌุงุฑู ุชุญููู ุฅุฌุงุจุงุชู ุจุนูุงูุฉ...</p>
            </div>
        </div>
    </div>
    
    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <!-- Firebase Configuration -->
    <script>
        <script src="firebase-config.js"></script>
    </script>
    
    <script>
        // Global state
        let currentSection = 0;
        const totalSections = 8;
        let answers = {};
        let subAnswers = {};
        let userAccount = null;
        let assessmentData = null;
        
        // Initialize
        function startAssessment() {
            currentSection = 1;
            showSection(currentSection);
            updateProgress();
        }
        
        // Section navigation
        function showSection(sectionNum) {
            // Hide all sections
            document.querySelectorAll('.question-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show current section
            const section = document.getElementById(`section-${sectionNum}`);
            if (section) {
                section.classList.add('active');
                
                // Reveal questions with delay
                const questions = section.querySelectorAll('.question');
                questions.forEach((q, index) => {
                    if (!q.classList.contains('revealed')) {
                        setTimeout(() => {
                            q.classList.add('revealed');
                        }, index * 300);
                    }
                });
            }
            
            updateProgress();
        }
        
        function nextSection() {
            if (validateSection(currentSection)) {
                if (currentSection < totalSections - 1) {
                    currentSection++;
                    showSection(currentSection);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }
        }
        
        function previousSection() {
            if (currentSection > 0) {
                currentSection--;
                showSection(currentSection);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }
        
        // Progress update
        function updateProgress() {
            const progress = (currentSection / (totalSections - 1)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            const progressTexts = [
                'ุงูุจุฏุงูุฉ',
                'ููุทุฉ ุงูุจุฏุงูุฉ',
                'ุงููุนู ุจุงูุฃููุงุท',
                'ุงูููุงุฑุฏ ูุงูุงูุชุฒุงู',
                'ุงูุฃุณุฆูุฉ ุงูุนูููุฉ',
                'ุงูุชุฌุงุฑุจ ุงูุณุงุจูุฉ',
                'ูุนูููุงุช ุงูุชูุงุตู',
                'ุงูููุณุฉ ุงูุฃุฎูุฑุฉ'
            ];
            
            document.getElementById('progressText').textContent = progressTexts[currentSection];
        }
        
        // Option selection
        function selectOption(questionId, value, element) {
            // Store answer
            answers[questionId] = value;
            
            // Update UI
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            
            // Handle sub-questions
            const subQuestions = document.querySelectorAll(`#${questionId}-sub-a, #${questionId}-sub-b, #${questionId}-sub-c, #${questionId}-sub-d`);
            subQuestions.forEach(sq => sq.classList.remove('active'));
            
            const targetSub = document.getElementById(`${questionId}-sub-${value}`);
            if (targetSub) {
                targetSub.classList.add('active');
            }
        }
        
        function selectSubOption(subQuestionId, value, element) {
            // Store sub-answer
            subAnswers[subQuestionId] = value;
            
            // Update UI
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        // Checkbox handling
        function toggleCheckbox(element) {
            const checkbox = element.querySelector('input[type="checkbox"]');
            checkbox.checked = !checkbox.checked;
            
            if (checkbox.checked) {
                element.classList.add('checked');
            } else {
                element.classList.remove('checked');
            }
            
            // Handle Q11 sub-question
            if (element.closest('#q11')) {
                const checkedBoxes = document.querySelectorAll('#q11 input[type="checkbox"]:checked');
                const hasExperience = Array.from(checkedBoxes).some(cb => cb.value !== 'none-experience');
                const subQuestion = document.getElementById('q11-sub');
                
                if (hasExperience && subQuestion) {
                    subQuestion.style.display = 'block';
                    subQuestion.classList.add('active');
                } else if (subQuestion) {
                    subQuestion.style.display = 'none';
                    subQuestion.classList.remove('active');
                }
            }
            
            // Store checkbox values
            const questionElement = element.closest('.question');
            if (questionElement) {
                const questionId = questionElement.id;
                const checkedValues = [];
                questionElement.querySelectorAll('input[type="checkbox"]:checked').forEach(cb => {
                    checkedValues.push(cb.value);
                });
                answers[questionId + '-checks'] = checkedValues;
            }
        }
        
        // Character count
        function updateCharCount(textareaId, maxChars) {
            const textarea = document.getElementById(textareaId);
            const countElement = document.getElementById(`${textareaId}-count`);
            const count = textarea.value.length;
            countElement.textContent = `${count} / ${maxChars}`;
            
            // Store text answers
            answers[textareaId] = textarea.value;
        }
        
        // Scale value update
        function updateScaleValue(scaleType) {
            const scale = document.getElementById(`${scaleType}-scale`);
            const valueDisplay = document.getElementById(`${scaleType}-value`);
            valueDisplay.textContent = scale.value;
            
            // Store scale answers
            answers[`${scaleType}-scale`] = scale.value;
        }
        
        // Password visibility toggle
        function togglePasswordVisibility() {
            const passwordInput = document.getElementById('userPassword');
            const icon = event.target;
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.textContent = '๐';
            } else {
                passwordInput.type = 'password';
                icon.textContent = '๐๏ธ';
            }
        }
        
        // Validation
        function validateSection(sectionNum) {
            let isValid = true;
            let errorMessage = '';
            
            switch(sectionNum) {
                        case 1:
                   if (!answers.q1) {
                       errorMessage = 'ูู ูุถูู ุฃุฌุจ ุนูู ุงูุณุคุงู ุงูุฃูู';
                       isValid = false;
                   } else if (!answers.q2) {
                       errorMessage = 'ูู ูุถูู ุฃุฌุจ ุนูู ุงูุณุคุงู ุงูุซุงูู';
                       isValid = false;
                   } else if (!answers['q3-text'] || answers['q3-text'].length < 10) {
                       errorMessage = 'ูู ูุถูู ุงูุชุจ ุฅุฌุงุจุฉ ุฃุทูู ููููุงู ูู ุงูุณุคุงู ุงูุซุงูุซ';
                       isValid = false;
                   }
                   break;
                   
               case 2:
                   if (!answers.q4) {
                       errorMessage = 'ูู ูุถูู ุฃุฌุจ ุนูู ุงูุณุคุงู ุงูุฑุงุจุน';
                       isValid = false;
                   } else if (!answers.q5) {
                       errorMessage = 'ูู ูุถูู ุฃุฌุจ ุนูู ุงูุณุคุงู ุงูุฎุงูุณ';
                       isValid = false;
                   } else if (!answers['q6-text'] || answers['q6-text'].length < 10) {
                       errorMessage = 'ูู ูุถูู ุดุงุฑู ุฑุคูุชู ูู ุงูุณุคุงู ุงูุณุงุฏุณ';
                       isValid = false;
                   }
                   break;
                   
               case 3:
                   if (!answers.q7) {
                       errorMessage = 'ูู ูุถูู ุฃุฌุจ ุนูู ุงูุณุคุงู ุงูุณุงุจุน';
                       isValid = false;
                   } else if (!answers['q8-checks'] || answers['q8-checks'].length === 0) {
                       errorMessage = 'ูู ูุถูู ุงุฎุชุฑ ูุง ูุฏุนูู ูู ุญูุงุชู';
                       isValid = false;
                   }
                   break;
                   
               case 4:
                   if (!answers['q9-text'] || answers['q9-text'].length < 10) {
                       errorMessage = 'ูู ูุถูู ุดุงุฑููุง ูุง ุชุนุชูุฏ ุฃู ุฃููู ูุฑูุฏ ุฃู ููููู';
                       isValid = false;
                   } else if (!answers.q10) {
                       errorMessage = 'ูู ูุถูู ุฃุฌุจ ุนูู ุงูุณุคุงู ุงูุนุงุดุฑ';
                       isValid = false;
                   }
                   break;
                   
               case 5:
                   if (!answers['q11-checks'] || answers['q11-checks'].length === 0) {
                       errorMessage = 'ูู ูุถูู ุงุฎุชุฑ ุชุฌุงุฑุจู ุงูุณุงุจูุฉ';
                       isValid = false;
                   }
                   break;
                   
               case 6: // Account info validation
                   const email = document.getElementById('userEmail').value;
                   const phone = document.getElementById('userPhone').value;
                   const password = document.getElementById('userPassword').value;
                   const confirmPassword = document.getElementById('confirmPassword').value;
                   
                   if (!email || !validateEmail(email)) {
                       errorMessage = 'ูู ูุถูู ุฃุฏุฎู ุจุฑูุฏ ุฅููุชุฑููู ุตุญูุญ';
                       isValid = false;
                   } else if (!phone || !validatePhone(phone)) {
                       errorMessage = 'ูู ูุถูู ุฃุฏุฎู ุฑูู ูุงุชุณุงุจ ุตุญูุญ';
                       isValid = false;
                   } else if (!password || password.length < 6) {
                       errorMessage = 'ูููุฉ ุงููุฑูุฑ ูุฌุจ ุฃู ุชููู 6 ุฃุญุฑู ุนูู ุงูุฃูู';
                       isValid = false;
                   } else if (password !== confirmPassword) {
                       errorMessage = 'ูููุชุง ุงููุฑูุฑ ุบูุฑ ูุชุทุงุจูุชูู';
                       isValid = false;
                   }
                   
                   // Store account info
                   if (isValid) {
                       answers.userName = document.getElementById('userName').value || 'ุนููู ูุฑูู';
                       answers.userEmail = email;
                       answers.userPhone = phone;
                       answers.userPassword = password;
                   }
                   break;
                   
               case 7:
                   if (!answers['q12-text'] || answers['q12-text'].length < 10) {
                       errorMessage = 'ูู ูุถูู ุดุงุฑููุง ุฑุคูุชู ูููุณุชูุจู';
                       isValid = false;
                   }
                   break;
           }
           
           if (!isValid) {
               alert(errorMessage);
           }
           
           return isValid;
       }
       
       // Email validation
       function validateEmail(email) {
           return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
       }
       
       // Phone validation
       function validatePhone(phone) {
           const cleaned = phone.replace(/\D/g, '');
           return cleaned.length >= 10 && cleaned.length <= 11;
       }
       
       // Submit assessment
       async function submitAssessment() {
           // Show loading
           document.getElementById('loadingContainer').style.display = 'flex';
           
           try {
               // Create user account first
               const userCredential = await auth.createUserWithEmailAndPassword(
                   answers.userEmail, 
                   answers.userPassword
               );
               userAccount = userCredential.user;
               
               // Update display name
               await userAccount.updateProfile({
                   displayName: answers.userName
               });
               
               // Create user document in Firestore
               await db.collection('users').doc(userAccount.uid).set({
                   email: answers.userEmail,
                   name: answers.userName,
                   phone: answers.userPhone,
                   createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                   lastLogin: firebase.firestore.FieldValue.serverTimestamp()
               });
               
               // Analyze results
               const analysisResults = analyzeAnswers();
               
               // Save assessment results to Firestore
               const assessmentRef = await db.collection('assessments').add({
                   userId: userAccount.uid,
                   answers: answers,
                   subAnswers: subAnswers,
                   results: analysisResults,
                   completedAt: firebase.firestore.FieldValue.serverTimestamp()
               });
               
               // Create booking record
               const bookingNumber = 'BK' + Date.now().toString().slice(-8);
               await db.collection('bookings').add({
                   userId: userAccount.uid,
                   assessmentId: assessmentRef.id,
                   bookingNumber: bookingNumber,
                   userName: answers.userName,
                   userEmail: answers.userEmail,
                   userPhone: answers.userPhone,
                   recommendedJourney: analysisResults.recommendedJourney,
                   selectedJourney: analysisResults.selectedJourney || analysisResults.recommendedJourney,
                   status: 'assessment_completed',
                   createdAt: firebase.firestore.FieldValue.serverTimestamp()
               });
               
               // Store assessment data for later use
               assessmentData = {
                   bookingNumber: bookingNumber,
                   analysisResults: analysisResults,
                   userName: answers.userName,
                   userEmail: answers.userEmail,
                   userPhone: answers.userPhone
               };
               
               // Show results after a delay
               setTimeout(() => {
                   showResults(analysisResults);
               }, 2000);
               
           } catch (error) {
               console.error('Error:', error);
               document.getElementById('loadingContainer').style.display = 'none';
               
               if (error.code === 'auth/email-already-in-use') {
                   alert('ูุฐุง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุฌู ุจุงููุนู. ููููู ุชุณุฌูู ุงูุฏุฎูู ูู ุตูุญุฉ ุงูุฏุฎูู.');
               } else {
                   alert('ุญุฏุซ ุฎุทุฃ. ูู ูุถูู ุญุงูู ูุฑุฉ ุฃุฎุฑู.');
               }
           }
       }
       
       // Analyze answers - comprehensive scoring system
       function analyzeAnswers() {
           // Initialize scores
           let scores = {
               eshraq: 0,
               baseera: 0,
               sakeena: 0
           };
           
           // Detailed scoring based on answers
           // Q1 scoring - Main motivation
           if (answers.q1 === 'a') {
               scores.eshraq += 30;
               // Sub-question scoring
               if (subAnswers['q1-sub-a'] === '1') scores.eshraq += 10; // Work challenge
               if (subAnswers['q1-sub-a'] === '2') scores.eshraq += 8; // Relationship challenge
               if (subAnswers['q1-sub-a'] === '3') scores.baseera += 5; // Self challenge
               if (subAnswers['q1-sub-a'] === '4') scores.eshraq += 7; // Decision challenge
           }
           else if (answers.q1 === 'b') {
               scores.baseera += 25;
               // Sub-question scoring
               if (subAnswers['q1-sub-b'] === '1') scores.baseera += 10; // Emptiness despite achievements
               if (subAnswers['q1-sub-b'] === '2') scores.baseera += 15; // Repeating patterns
               if (subAnswers['q1-sub-b'] === '3') scores.baseera += 8; // Lost passion
               if (subAnswers['q1-sub-b'] === '4') scores.sakeena += 5; // Not in right place
           }
           else if (answers.q1 === 'c') {
               scores.baseera += 35;
               // Sub-question scoring
               if (subAnswers['q1-sub-c'] === '1') scores.baseera += 10; // Why I act this way
               if (subAnswers['q1-sub-c'] === '2') scores.sakeena += 5; // Who am I really
               if (subAnswers['q1-sub-c'] === '3') scores.sakeena += 8; // My real role
               if (subAnswers['q1-sub-c'] === '4') scores.baseera += 7; // Realize potential
           }
           else if (answers.q1 === 'd') {
               scores.sakeena += 35;
               // Sub-question scoring
               if (subAnswers['q1-sub-d'] === '1') scores.sakeena += 10; // Clear vision
               if (subAnswers['q1-sub-d'] === '2') scores.sakeena += 8; // Need radical change
               if (subAnswers['q1-sub-d'] === '3') scores.sakeena += 12; // Awakening experience
               if (subAnswers['q1-sub-d'] === '4') scores.sakeena += 15; // Reached "enough"
           }
           
           // Q2 scoring - Thinking pattern
           if (answers.q2 === 'a') scores.eshraq += 20;
           else if (answers.q2 === 'b') scores.baseera += 20;
           else if (answers.q2 === 'c') scores.sakeena += 15;
           else if (answers.q2 === 'd') scores.sakeena += 20;
           
           // Q4 scoring - Pattern awareness
           if (answers.q4 === 'a') scores.eshraq += 15;
           else if (answers.q4 === 'b' || answers.q4 === 'd') {
               scores.baseera += 20;
               // Check which patterns they noticed
               const patterns = answers['q4-checks'] || [];
               if (patterns.includes('people')) scores.baseera += 5;
               if (patterns.includes('mistakes')) scores.baseera += 5;
               if (patterns.includes('situations')) scores.baseera += 5;
               if (patterns.includes('reactions')) scores.baseera += 5;
           }
           else if (answers.q4 === 'c') scores.sakeena += 20;
           
           // Q5 scoring - Readiness for truth
           if (answers.q5 === 'a') scores.sakeena += 25;
           else if (answers.q5 === 'b') scores.baseera += 20;
           else if (answers.q5 === 'c') scores.baseera += 15;
           else if (answers.q5 === 'd') scores.eshraq += 15;
           
           // Q7 scoring - Time commitment
           if (answers.q7 === 'a') scores.eshraq += 20;
           else if (answers.q7 === 'b') scores.baseera += 15;
           else if (answers.q7 === 'c') scores.baseera += 20;
           else if (answers.q7 === 'd') scores.sakeena += 25;
           
           // Q8 scoring - Support system
           const supportCount = (answers['q8-checks'] || []).length;
           if (supportCount === 0 || (answers['q8-checks'] || []).includes('none')) {
               scores.eshraq += 15; // Needs immediate support
           } else if (supportCount >= 4) {
               scores.sakeena += 10; // Has strong support for deep work
           } else {
               scores.baseera += 10; // Moderate support
           }
           
           // Q10 scoring - Fears
           if (answers.q10 === 'a' || answers.q10 === 'b') scores.baseera += 15;
           else if (answers.q10 === 'c') scores.sakeena += 20;
           else if (answers.q10 === 'd') scores.eshraq += 10;
           else if (answers.q10 === 'e') scores.eshraq += 15;
           
           // Q11 scoring - Previous experience
           const experiences = answers['q11-checks'] || [];
           if (experiences.includes('therapy') || experiences.includes('coaching')) {
               scores.baseera += 10;
               scores.sakeena += 5;
           }
           if (experiences.includes('spiritual-journey')) {
               scores.sakeena += 10;
           }
           if (experiences.includes('none-experience')) {
               scores.eshraq += 10;
           }
           
           // Scale scoring
           const urgency = parseInt(answers['urgency-scale'] || 5);
           const investment = parseInt(answers['investment-scale'] || 5);
           const confidence = parseInt(answers['confidence-scale'] || 5);
           
           if (urgency >= 8) scores.eshraq += 15;
           else if (urgency >= 6) scores.baseera += 10;
           else scores.sakeena += 5;
           
           if (investment >= 8) scores.sakeena += 20;
           else if (investment >= 6) scores.baseera += 15;
           else scores.eshraq += 10;
           
           if (confidence >= 8) scores.sakeena += 15;
           else if (confidence >= 6) scores.baseera += 10;
           else scores.eshraq += 10;
           
           // Text analysis
           const q3Text = (answers['q3-text'] || '').toLowerCase();
           const q6Text = (answers['q6-text'] || '').toLowerCase();
           const q9Text = (answers['q9-text'] || '').toLowerCase();
           const q12Text = (answers['q12-text'] || '').toLowerCase();
           
           // Keywords analysis
           const transformKeywords = ['ุชุญูู', 'ุฌุฐุฑู', 'ุชุบููุฑ ุดุงูู', 'ุญูุงุฉ ุฌุฏูุฏุฉ', 'ูููุฉ', 'ุชุญูู ุนููู'];
           const understandingKeywords = ['ููู', 'ุฃุนุฑู', 'ุงูุชุดู', 'ูุนู', 'ููุท', 'ููุงุฐุง', 'ุฃููู ููุณู'];
           const solutionKeywords = ['ุญู', 'ูุดููุฉ', 'ุชุญุฏู', 'ุณุฑูุน', 'ุนููู', 'ุงูุขู', 'ุนุงุฌู'];
           
           const allTexts = q3Text + ' ' + q6Text + ' ' + q9Text + ' ' + q12Text;
           
           transformKeywords.forEach(keyword => {
               if (allTexts.includes(keyword)) scores.sakeena += 3;
           });
           
           understandingKeywords.forEach(keyword => {
               if (allTexts.includes(keyword)) scores.baseera += 3;
           });
           
           solutionKeywords.forEach(keyword => {
               if (allTexts.includes(keyword)) scores.eshraq += 3;
           });
           
           // Determine primary journey type
           let journeyType = '';
           let recommendedJourney = '';
           
           // Calculate percentages
           const totalScore = scores.eshraq + scores.baseera + scores.sakeena;
           const eshraqPercent = (scores.eshraq / totalScore) * 100;
           const baseeraPercent = (scores.baseera / totalScore) * 100;
           const sakeenaPercent = (scores.sakeena / totalScore) * 100;
           
           // Determine if mixed journey is needed
           let isMixed = false;
           let mixedType = '';
           
           // Check for mixed cases with specific conditions
           if (Math.abs(eshraqPercent - baseeraPercent) < 15 && sakeenaPercent < 30) {
               isMixed = true;
               mixedType = 'eshraq-baseera';
               recommendedJourney = 'mixed-eshraq-baseera';
           } else if (Math.abs(baseeraPercent - sakeenaPercent) < 15 && eshraqPercent < 30) {
               isMixed = true;
               mixedType = 'baseera-sakeena';
               recommendedJourney = 'mixed-baseera-sakeena';
           } else {
               // Single journey recommendation
               if (scores.eshraq > scores.baseera && scores.eshraq > scores.sakeena) {
                   journeyType = 'eshraq';
                   recommendedJourney = 'eshraq';
               } else if (scores.baseera > scores.sakeena) {
                   journeyType = 'baseera';
                   recommendedJourney = 'baseera';
               } else {
                   journeyType = 'sakeena';
                   recommendedJourney = 'sakeena';
               }
           }
           
           // Create detailed profile based on answers
           const profile = createDetailedProfile();
           
           return {
               scores: scores,
               percentages: {
                   eshraq: eshraqPercent,
                   baseera: baseeraPercent,
                   sakeena: sakeenaPercent
               },
               journeyType: journeyType,
               recommendedJourney: recommendedJourney,
               isMixed: isMixed,
               mixedType: mixedType,
               profile: profile,
               userName: answers.userName,
               userEmail: answers.userEmail
           };
       }
       
       // Create detailed profile for personalized recommendations
       function createDetailedProfile() {
           const profile = {
               challengeType: '',
               awarenessLevel: '',
               timeAvailability: '',
               supportSystem: '',
               previousExperience: '',
               specificNeeds: [],
               keyPhrases: [],
               emotionalState: ''
           };
           
           // Challenge type
           if (answers.q1 === 'a' && subAnswers['q1-sub-a']) {
               const types = {
                   '1': 'work',
                   '2': 'relationships',
                   '3': 'self',
                   '4': 'decision'
               };
               profile.challengeType = types[subAnswers['q1-sub-a']] || 'general';
           }
           
           // Awareness level
           if (answers.q4 === 'c') profile.awarenessLevel = 'high';
           else if (answers.q4 === 'b' || answers.q4 === 'd') profile.awarenessLevel = 'medium';
           else profile.awarenessLevel = 'low';
           
           // Time availability
           profile.timeAvailability = answers.q7 || 'unknown';
           
           // Support system
           const supportCount = (answers['q8-checks'] || []).length;
           if (supportCount >= 4) profile.supportSystem = 'strong';
           else if (supportCount >= 2) profile.supportSystem = 'moderate';
           else profile.supportSystem = 'weak';
           
           // Previous experience
           const experiences = answers['q11-checks'] || [];
           if (experiences.length > 3) profile.previousExperience = 'extensive';
           else if (experiences.length > 0) profile.previousExperience = 'some';
           else profile.previousExperience = 'none';
           
           // Extract key phrases from text answers
           const texts = [
               answers['q3-text'] || '',
               answers['q6-text'] || '',
               answers['q9-text'] || '',
               answers['q12-text'] || ''
           ];
           
           texts.forEach(text => {
               if (text.length > 20) {
                   // Extract first meaningful phrase
                   const phrase = text.substring(0, 100).trim();
                   if (phrase) profile.keyPhrases.push(phrase);
               }
           });
           
           // Emotional state based on urgency and fears
           const urgency = parseInt(answers['urgency-scale'] || 5);
           if (urgency >= 8) profile.emotionalState = 'urgent';
           else if (urgency >= 5) profile.emotionalState = 'motivated';
           else profile.emotionalState = 'exploring';
           
           return profile;
       }
       
       // Show results with personalized recommendations
       function showResults(analysisResults) {
           document.getElementById('loadingContainer').style.display = 'none';
           document.getElementById('questionContainer').style.display = 'none';
           document.getElementById('resultsContainer').style.display = 'block';
           
           // Generate the appropriate recommendation HTML
           let recommendationHTML = '';
           
           if (analysisResults.isMixed) {
               recommendationHTML = generateMixedRecommendation(analysisResults);
           } else {
               if (analysisResults.journeyType === 'eshraq') {
                   recommendationHTML = generateEshraqRecommendation(analysisResults);
               } else if (analysisResults.journeyType === 'baseera') {
                   recommendationHTML = generateBaseeraRecommendation(analysisResults);
               } else {
                   recommendationHTML = generateSakeenaRecommendation(analysisResults);
               }
           }
           
           document.getElementById('resultsContainer').innerHTML = recommendationHTML;
           
           // Scroll to top
           window.scrollTo({ top: 0, behavior: 'smooth' });
       }
       
       // Generate Eshraq recommendation with variations
       function generateEshraqRecommendation(results) {
           const profile = results.profile;
           const challengeType = profile.challengeType;
           
           // Variations based on challenge type
           const variations = {
               work: {
                   icon: '๐ผ',
                   greeting: 'ุฃููู ุชูุงูุงู ุถุบุท ุงูุนูู ุงูุฐู ุชูุงุฌูู',
                   challenge: 'ุงูุชุญุฏู ุงููููู',
                   focus: 'ุงุณุชุนุงุฏุฉ ุงูุชูุงุฒู ุงููููู ูุงูุดุฎุตู',
                   tools: 'ุฅุฏุงุฑุฉ ุถุบูุท ุงูุนูู',
                   outcome: 'ุฎุทุฉ ุนูููุฉ ูุชุญุณูู ูุถุนู ุงููููู'
               },
               relationships: {
                   icon: 'โค๏ธ',
                   greeting: 'ุงูุนูุงูุงุช ุฌุฒุก ุฃุณุงุณู ูู ุญูุงุชูุง',
                   challenge: 'ุงูุชุญุฏู ูู ุงูุนูุงูุงุช',
                   focus: 'ุจูุงุก ุนูุงูุงุช ุตุญูุฉ ููุชูุงุฒูุฉ',
                   tools: 'ุงูุชูุงุตู ุงููุนุงู ูุจูุงุก ุงูุญุฏูุฏ',
                   outcome: 'ุฃุฏูุงุช ูุนูุงูุงุช ุฃูุซุฑ ุงูุณุฌุงูุงู'
               },
               self: {
                   icon: '๐ฑ',
                   greeting: 'ุงูุชุญุฏู ูุน ุงูููุณ ูู ุงูุฃุนูู',
                   challenge: 'ุงูุตุฑุงุน ุงูุฏุงุฎูู',
                   focus: 'ุงูุณูุงู ูุน ุงูุฐุงุช',
                   tools: 'ุงูุชุตุงูุญ ูุน ุงูููุณ',
                   outcome: 'ุทุฑูู ูุงุถุญ ููุณูุงู ุงูุฏุงุฎูู'
               },
               decision: {
                   icon: '๐ฏ',
                   greeting: 'ุงููุฑุงุฑุงุช ุงููููุฉ ุชุญุชุงุฌ ูุถูุญุงู',
                   challenge: 'ุงุชุฎุงุฐ ุงููุฑุงุฑ ุงูุตุญูุญ',
                   focus: 'ุงููุถูุญ ูู ุงุชุฎุงุฐ ุงููุฑุงุฑ',
                   tools: 'ุงุชุฎุงุฐ ุงููุฑุงุฑุงุช ุจุซูุฉ',
                   outcome: 'ูุฑุงุฑ ูุงุถุญ ููุฏุฑูุณ'
               },
               general: {
                   icon: '๐',
                   greeting: 'ูู ุชุญุฏู ูุญูู ูู ุทูุงุชู ูุฑุตุฉ',
                   challenge: 'ุงูุชุญุฏู ุงูุญุงูู',
                   focus: 'ุงูุญู ุงูุนููู ุงูุณุฑูุน',
                   tools: 'ููุงุฌูุฉ ุงูุชุญุฏูุงุช',
                   outcome: 'ุญู ูุนูุงู ูุฃุฏูุงุช ูููุณุชูุจู'
               }
           };
           
           const variant = variations[challengeType] || variations.general;
           const keyPhrase = profile.keyPhrases[0] || '';
           const urgencyLevel = profile.emotionalState === 'urgent' ? 'ุฃููู ุฅูุญุงุญ ุงููููู' : 'ุฃูุฏูุฑ ุงูุชูุงูู ุงููุจูุฑ';
           
           return `
               <style>
                   .results-header {
                       text-align: center;
                       margin-bottom: 40px;
                       animation: fadeInDown 1s ease;
                   }
                   
                   @keyframes fadeInDown {
                       from {
                           opacity: 0;
                           transform: translateY(-30px);
                       }
                       to {
                           opacity: 1;
                           transform: translateY(0);
                       }
                   }
                   
                   .journey-icon {
                       font-size: 80px;
                       margin-bottom: 20px;
                       display: inline-block;
                       animation: pulse 2s infinite;
                   }
                   
                   @keyframes pulse {
                       0%, 100% { transform: scale(1); }
                       50% { transform: scale(1.1); }
                   }
                   
                   .results-title {
                       font-size: 32px;
                       color: #2C5530;
                       margin-bottom: 20px;
                   }
                   
                   .results-subtitle {
                       font-size: 20px;
                       color: #666;
                       max-width: 600px;
                       margin: 0 auto;
                   }
                   
                   .understanding-box {
                       background: white;
                       padding: 40px;
                       border-radius: 20px;
                       box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                       margin-bottom: 30px;
                       animation: fadeInUp 1s ease 0.3s both;
                   }
                   
                   @keyframes fadeInUp {
                       from {
                           opacity: 0;
                           transform: translateY(30px);
                       }
                       to {
                           opacity: 1;
                           transform: translateY(0);
                       }
                   }
                   
                   .understanding-title {
                       font-size: 24px;
                       color: #2C5530;
                       margin-bottom: 20px;
                       display: flex;
                       align-items: center;
                       gap: 15px;
                   }
                   
                   .understanding-content {
                       font-size: 18px;
                       line-height: 1.8;
                       color: #333;
                   }
                   
                   .highlight {
                       background: linear-gradient(to bottom, transparent 60%, rgba(212, 175, 55, 0.3) 60%);
                       padding: 0 4px;
                       font-weight: 500;
                   }
                   
                   .quote-box {
                       background: #F8F7F4;
                       padding: 25px;
                       border-radius: 15px;
                       margin: 25px 0;
                       border-right: 4px solid #D4AF37;
                       font-style: italic;
                   }
                   
                   .recommendation-box {
                       background: linear-gradient(135deg, #FFF 0%, #FAFAF8 100%);
                       padding: 40px;
                       border-radius: 20px;
                       box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                       margin-bottom: 30px;
                       text-align: center;
                       border: 2px solid rgba(212, 175, 55, 0.2);
                       animation: fadeInUp 1s ease 0.6s both;
                   }
                   
                   .recommendation-label {
                       font-size: 18px;
                       color: #8B9467;
                       margin-bottom: 15px;
                       font-weight: 500;
                       text-transform: uppercase;
                       letter-spacing: 2px;
                   }
                   
                   .recommendation-title {
                       font-size: 36px;
                       color: #2C5530;
                       margin-bottom: 15px;
                       font-weight: 400;
                   }
                   
                   .recommendation-subtitle {
                       font-size: 20px;
                       color: #666;
                       font-weight: 300;
                   }
                   
                   .journey-details {
                       background: #F0F8F0;
                       padding: 40px;
                       border-radius: 20px;
                       margin-bottom: 30px;
                   }
                   
                   .details-grid {
                       display: grid;
                       grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                       gap: 30px;
                       margin-top: 30px;
                   }
                   
                   .detail-item {
                       text-align: center;
                   }
                   
                   .detail-icon {
                       font-size: 40px;
                       margin-bottom: 15px;
                   }
                   
                   .detail-label {
                       font-size: 14px;
                       color: #666;
                       margin-bottom: 5px;
                   }
                   
                   .detail-value {
                       font-size: 18px;
                       color: #2C5530;
                       font-weight: 500;
                   }
                   
                   .choice-section {
                       background: white;
                       padding: 40px;
                       border-radius: 20px;
                       box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                       animation: fadeInUp 1s ease 0.9s both;
                   }
                   
                   .journey-options {
                       display: grid;
                       gap: 20px;
                       margin: 30px 0;
                   }
                   
                   .journey-option {
                       background: #F8F8F8;
                       padding: 30px;
                       border-radius: 20px;
                       cursor: pointer;
                       transition: all 0.3s ease;
                       border: 3px solid transparent;
                       position: relative;
                   }
                   
                   .journey-option:hover {
                       background: #F0F0F0;
                       transform: translateX(-5px);
                   }
                   
                   .journey-option.selected {
                       background: linear-gradient(135deg, rgba(44, 85, 48, 0.05) 0%, rgba(212, 175, 55, 0.05) 100%);
                       border-color: #2C5530;
                   }
                   
                   .journey-option.recommended {
                       border-color: #D4AF37;
                   }
                   
                   .journey-option.recommended::before {
                       content: 'ููุตู ุจู';
                       position: absolute;
                       top: -12px;
                       left: 20px;
                       background: #D4AF37;
                       color: white;
                       padding: 5px 15px;
                       border-radius: 20px;
                       font-size: 14px;
                       font-weight: bold;
                   }
                   
                   .option-header {
                       display: flex;
                       align-items: center;
                       gap: 15px;
                       margin-bottom: 15px;
                   }
                   
                   .option-icon {
                       font-size: 30px;
                   }
                   
                   .option-title {
                       font-size: 22px;
                       color: #2C5530;
                       font-weight: 500;
                   }
                   
                   .option-description {
                       color: #666;
                       line-height: 1.8;
                       margin-bottom: 15px;
                   }
                   
                   .justification-section {
                       margin-top: 30px;
                       padding: 30px;
                       background: #FAFAFA;
                       border-radius: 20px;
                       display: none;
                   }
                   
                   .justification-section.active {
                       display: block;
                       animation: slideDown 0.3s ease;
                   }
                   
                   @keyframes slideDown {
                       from {
                           opacity: 0;
                           transform: translateY(-20px);
                       }
                       to {
                           opacity: 1;
                           transform: translateY(0);
                       }
                   }
                   
                   .btn {
                       padding: 18px 40px;
                       border: none;
                       border-radius: 30px;
                       font-size: 18px;
                       font-weight: 500;
                       cursor: pointer;
                       transition: all 0.3s ease;
                       font-family: inherit;
                       background: #2C5530;
                       color: white;
                   }
                   
                   .btn:hover {
                       background: #1e3a21;
                       transform: translateY(-2px);
                       box-shadow: 0 10px 25px rgba(44, 85, 48, 0.3);
                   }
                   
                   .btn:disabled {
                       opacity: 0.5;
                       cursor: not-allowed;
                       transform: none;
                   }
                   
                   .helper-message {
                       text-align: center;
                       margin-top: 30px;
                       padding: 20px;
                       background: #FFF8E1;
                       border-radius: 15px;
                       color: #8B6914;
                       font-size: 16px;
                   }
                   
                   @media (max-width: 768px) {
                       .understanding-box,
                       .recommendation-box,
                       .choice-section {
                           padding: 25px;
                       }
                       
                       .results-title {
                           font-size: 28px;
                       }
                       
                       .details-grid {
                           grid-template-columns: 1fr;
                       }
                   }
               </style>
               
               <div class="results-header">
                   <div class="journey-icon">${variant.icon}</div>
                   <h1 class="results-title">ุฑุญูุฉ ุงูุชุดุงู ูุฎุตุตุฉ ูู</h1>
                   <p class="results-subtitle">${variant.greeting}ุ ู${urgencyLevel}</p>
               </div>
               
               <div class="understanding-box">
                   <h2 class="understanding-title">
                       <span>๐ค</span>
                       <span>ูุง ูููุชู ูู ูุตุชู</span>
                   </h2>
                   
                   <div class="understanding-content">
                       <p>
                           ูู ุฎูุงู ุฅุฌุงุจุงุชูุ ุฃุฑู ุฃูู ุชูุงุฌู <span class="highlight">${variant.challenge}</span> 
                           ${profile.timeAvailability === 'a' ? 'ูุน ููุช ูุญุฏูุฏ ุฌุฏุงู' : 'ูุชุฑูุฏ ุญูุงู ุนูููุงู'}. 
                           ${profile.awarenessLevel === 'low' ? 
                               'ุฑุจูุง ูู ุชูุงุญุธ ุงูุฃููุงุท ุจุนุฏุ ููุฐุง ุทุจูุนู ุชูุงูุงู.' : 
                               'ูุฃุฑู ุฃูุถุงู ูุนูู ุจูุฌูุฏ ุดูุก ุฃุนูู ูุญุชุงุฌ ููููู.'
                           }
                       </p>
                       
                       ${keyPhrase ? `
                       <div class="quote-box">
                           <p>"${keyPhrase}..."</p>
                           <p style="margin-top: 15px; font-style: normal;">
                               ูุฐู ุงููููุงุช ุชุญูู ุงููุซูุฑ ูู ุงููุดุงุนุฑ. ุฃุดุนุฑ ุจู${variant.challenge} ุงูุฐู ุชูุฑ ุจู.
                           </p>
                       </div>
                       ` : ''}
                       
                       <p>
                           ${profile.supportSystem === 'weak' ? 
                               'ูุงุญุธุช ุฃูุถุงู ุฃูู ุชูุงุฌู ูุฐุง ุงูุชุญุฏู ุจููุงุฑุฏ ุฏุนู ูุญุฏูุฏุฉุ ููุฐุง ูุฌุนู ุงูุฃูุฑ ุฃุตุนุจ.' :
                               'ุงูุฌูุฏ ุฃู ูุฏูู ุจุนุถ ููุงุฑุฏ ุงูุฏุนู ูู ุญูุงุชูุ ููุฐุง ุณูุณุงุนุฏู ูู ุฑุญูุชู.'
                           }
                           
                           ${profile.previousExperience === 'none' ?
                               ' ูุฃุฑู ุฃู ูุฐู ูุฏ ุชููู ุฃูู ุชุฌุฑุจุฉ ูู ูู ุทูุจ ุงูุฏุนู ุงููุชุฎุตุตุ ููุฐุง ูุชุทูุจ ุดุฌุงุนุฉ.' :
                               ' ูุฃูุฏูุฑ ุฎุจุฑุงุชู ุงูุณุงุจูุฉ ุงูุชู ุณุชุซุฑู ุฑุญูุชูุง ูุนุงู.'
                           }
                       </p>
                   </div>
               </div>
               
               <div class="recommendation-box">
                   <p class="recommendation-label">ุจูุงุกู ุนูู ุชุญููู ุนููู ูุงุญุชูุงุฌุงุชู</p>
                   <h2 class="recommendation-title">ุชุฑุดูุญูุง ูู: ุฑุญูุฉ ุงูุฅุดุฑุงูุฉ</h2>
                   <p class="recommendation-subtitle">ูู ุถูู ุงููุญูุฉ ุฅูู ุงูุดุฑุงุญ ุงูุญู</p>
               </div>
               
               <div class="journey-details">
                   <h3 class="understanding-title">
                       <span>โจ</span>
                       <span>ูุง ุณุชุญุตู ุนููู ูู ุฑุญูุฉ ุงูุฅุดุฑุงูุฉ</span>
                   </h3>
                   
                   <div class="details-grid">
                       <div class="detail-item">
                           <div class="detail-icon">๐ฏ</div>
                           <div class="detail-label">ุงูุชุฑููุฒ</div>
                           <div class="detail-value">${variant.focus}</div>
                       </div>
                       
                       <div class="detail-item">
                           <div class="detail-icon">๐๏ธ</div>
                           <div class="detail-label">ุงูุฃุฏูุงุช</div>
                           <div class="detail-value">${variant.tools}</div>
                       </div>
                       
                       <div class="detail-item">
                           <div class="detail-icon">๐</div>
                           <div class="detail-label">ุงููุฏุฉ</div>
                           <div class="detail-value">3-4 ุฌูุณุงุช</div>
                       </div>
                       
                       <div class="detail-item">
                           <div class="detail-icon">๐</div>
                           <div class="detail-label">ุงููุชูุฌุฉ</div>
                           <div class="detail-value">${variant.outcome}</div>
                       </div>
                   </div>
               </div>
               
               <div class="choice-section">
                   <div style="text-align: center; margin-bottom: 30px;">
                       <h2 style="font-size: 28px; color: #2C5530; margin-bottom: 15px;">ุงุฎุชุฑ ุงููุณุงุฑ ุงูุฐู ููุงุณุจู</h2>
                       <p style="font-size: 18px; color: #666;">ููููู ุงุฎุชูุงุฑ ุงูุฑุญูุฉ ุงูุชู ุชุดุนุฑ ุฃููุง ุงูุฃูุณุจ ูู ุงูุขู</p>
                   </div>
                   
                   <div class="journey-options">
                       <div class="journey-option recommended" onclick="selectJourney('eshraq', this)">
                           <div class="option-header">
                               <span class="option-icon">๐</span>
                               <h3 class="option-title">ุฑุญูุฉ ุงูุฅุดุฑุงูุฉ</h3>
                           </div>
                           <p class="option-description">
                               ุงูุฎูุงุฑ ุงูุฃูุซู ูุญุงูุชู. ${variant.outcome} ูู 3-4 ุฌูุณุงุช ูุฑูุฒุฉ. 
                               ููุงุณุจุฉ ูููุชู ${profile.timeAvailability === 'a' ? 'ุงููุญุฏูุฏ ุฌุฏุงู' : 'ุงููุชุงุญ'} 
                               ููุตููุฉ ุฎุตูุตุงู ูู${variant.challenge}.
                           </p>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('baseera', this)">
                           <div class="option-header">
                               <span class="option-icon">๐๏ธ</span>
                               <h3 class="option-title">ุฑุญูุฉ ุงูุจุตูุฑุฉ</h3>
                           </div>
                           <p class="option-description">
                               ุฅุฐุง ููุช ุชุฑูุฏ ุงูุบูุต ุฃุนูู ูููู ุงูุฃููุงุท. 8-12 ุฌูุณุฉ ูุงุณุชูุดุงู ุฌุฐูุฑ ุงูุชุญุฏูุงุช.
                               ${profile.awarenessLevel === 'low' ? 
                                   'ูุฏ ุชููู ุฎุทูุฉ ูุจูุฑุฉ ููููุง ุชุณุชุญู ุงูุชูููุฑ.' : 
                                   'ุฎุงุตุฉ ูุฃูู ุจุฏุฃุช ุชูุงุญุธ ุจุนุถ ุงูุฃููุงุท.'
                               }
                           </p>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('sakeena', this)">
                           <div class="option-header">
                               <span class="option-icon">๐</span>
                               <h3 class="option-title">ุฑุญูุฉ ุงูุณูููุฉ</h3>
                           </div>
                           <p class="option-description">
                               ููุชุญูู ุงูุฌุฐุฑู ุงูุดุงูู. 6-12 ุดูุฑ ูู ุงูุนูู ุงูุนููู.
                               ${profile.timeAvailability === 'a' ? 
                                   'ุชุชุทูุจ ุงูุชุฒุงูุงู ูุจูุฑุงู ูุฏ ูุง ููุงุณุจ ููุชู ุงูุญุงูู.' : 
                                   'ููุจุงุญุซูู ุนู ุชุบููุฑ ุฌุฐุฑู ูู ุงูุญูุงุฉ.'
                               }
                           </p>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('other', this)">
                           <div class="option-header">
                               <span class="option-icon">๐ญ</span>
                               <h3 class="option-title">ูุณุช ูุชุฃูุฏุงู</h3>
                           </div>
                           <p class="option-description">
                               ุฅุฐุง ููุช ุชุดุนุฑ ุฃู ุงุญุชูุงุฌุงุชู ูุฎุชููุฉุ ุดุงุฑููุง ุชุตูุฑู.
                           </p>
                       </div>
                   </div>
                   
                   <div class="justification-section" id="justificationSection">
                       <label style="font-size: 18px; color: #2C5530; margin-bottom: 15px; display: block; font-weight: 500;" id="justificationLabel">
                           ุดุงุฑููุง: ููุงุฐุง ุชุดุนุฑ ุฃู ูุฐู ุงูุฑุญูุฉ ูู ุงูุฃูุณุจ ููุ
                       </label>
                       <textarea 
                           style="width: 100%; padding: 20px; border: 2px solid #E5E5E5; border-radius: 15px; font-size: 16px; resize: vertical; min-height: 120px; font-family: inherit;"
                           id="justificationInput"
                           placeholder="ุฃุฎุจุฑูุง ุจูุง ูุฏูุฑ ูู ุฐููู..."
                       ></textarea>
                   </div>
                   
                   <div style="text-align: center; margin-top: 40px;">
                       <button class="btn" id="confirmButton" onclick="confirmChoice()" disabled>
                           ุชุฃููุฏ ุงุฎุชูุงุฑู
                       </button>
                   </div>
                   
                   <div class="helper-message">
                       ๐ก ูุง ุชูููุ ููููู ุฏุงุฆูุงู ุชุบููุฑ ูุณุงุฑู ูุงุญูุงู. ุงูุฃูู ูู ุฃู ุชุจุฏุฃ ูู ุญูุซ ุฃูุช ุงูุขู.
                   </div>
               </div>
           `;
       }
       
       // Generate Baseera recommendation with variations
       function generateBaseeraRecommendation(results) {
           const profile = results.profile;
           const awarenessLevel = profile.awarenessLevel;
           const patterns = answers['q4-checks'] || [];
           
           // Variations based on awareness and patterns
           const awarenessMessages = {
               high: 'ูุนูู ุงูุนููู ุจุงูุฃููุงุท ูุถุนู ูู ูููุน ููุฉ ููุชุญูู',
               medium: 'ุจุฏุงูุฉ ูุนูู ุจุงูุฃููุงุท ุนูุงูุฉ ูุดุฑูุฉ ุนูู ุงุณุชุนุฏุงุฏู',
               low: 'ุญุชู ูุฅู ูู ุชูู ุงูุฃููุงุท ูุงุถุญุฉ ุจุนุฏุ ุดุนูุฑู ุจุงูุญุงุฌุฉ ููููู ูุงูู'
           };
           
           const patternFocus = {
               people: 'ุฃููุงุท ุงูุนูุงูุงุช ูุฏููุงููููุงุช ุงูุชูุงุนู',
               mistakes: 'ุฏูุฑุงุช ุงูุชูุฑุงุฑ ูููููุฉ ูุณุฑูุง',
               situations: 'ุงูููุงูู ุงููุชูุฑุฑุฉ ูุฑุณุงุฆููุง ุงูุฎููุฉ',
               reactions: 'ุงุณุชุฌุงุจุงุชู ุงูุชููุงุฆูุฉ ูุฅุนุงุฏุฉ ุจุฑูุฌุชูุง'
           };
           
           let mainFocus = 'ุงูุฃููุงุท ุงูุนุงูุฉ ูู ุญูุงุชู';
           if (patterns.length > 0) {
               mainFocus = patternFocus[patterns[0]] || mainFocus;
           }
           
           const deepQuestions = {
               '1': 'ููุงุฐุง ุฃุชุตุฑู ุจุงูุทุฑููุฉ ุงูุชู ุฃุชุตุฑู ุจูุงุ',
               '2': 'ูู ุฃูุง ุญูุงู ุฎูู ูู ุงูุฃููุนุฉุ',
               '3': 'ูุง ูู ุฏูุฑู ุงูุญูููู ูู ุงูุญูุงุฉุ',
               '4': 'ููู ุฃุญูู ุฅููุงููุงุชู ุงููุงููุฉุ'
           };
           
           const keyQuestion = deepQuestions[subAnswers['q1-sub-c']] || 'ูู ุฃูุง ุญูุงูุ';
           const keyPhrase = profile.keyPhrases[1] || profile.keyPhrases[0] || '';
           
           return `
               <style>
                   ${getCommonStyles()}
                   
                   .pattern-cards {
                       display: grid;
                       grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                       gap: 20px;
                       margin: 30px 0;
                   }
                   
                   .pattern-card {
                       background: white;
                       padding: 25px;
                       border-radius: 15px;
                       box-shadow: 0 5px 15px rgba(0,0,0,0.05);
                       text-align: center;
                       transition: all 0.3s ease;
                   }
                   
                   .pattern-card:hover {
                       transform: translateY(-5px);
                       box-shadow: 0 10px 25px rgba(0,0,0,0.1);
                   }
                   
                   .pattern-icon {
                       font-size: 40px;
                       margin-bottom: 15px;
                   }
                   
                   .pattern-title {
                       font-size: 18px;
                       color: #2C5530;
                       margin-bottom: 10px;
                       font-weight: 500;
                   }
                   
                   .pattern-description {
                       font-size: 14px;
                       color: #666;
                       line-height: 1.6;
                   }
                   
                   .journey-phases {
                       margin-top: 40px;
                   }
                   
                   .phase {
                       background: white;
                       padding: 35px;
                       border-radius: 20px;
                       margin-bottom: 25px;
                       box-shadow: 0 5px 20px rgba(0,0,0,0.05);
                       position: relative;
                       padding-right: 80px;
                       transition: all 0.3s ease;
                   }
                   
                   .phase:hover {
                       box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                   }
                   
                   .phase-number {
                       position: absolute;
                       right: 25px;
                       top: 35px;
                       width: 50px;
                       height: 50px;
                       background: linear-gradient(135deg, #8B9467 0%, #2C5530 100%);
                       color: white;
                       border-radius: 50%;
                       display: flex;
                       align-items: center;
                       justify-content: center;
                       font-size: 24px;
                       font-weight: bold;
                   }
                   
                   .phase-title {
                       font-size: 22px;
                       color: #2C5530;
                       margin-bottom: 15px;
                       font-weight: 500;
                   }
                   
                   .phase-content {
                       color: #555;
                       line-height: 1.8;
                   }
               </style>
               
               <div class="results-header">
                   <div class="journey-icon">๐๏ธ</div>
                   <h1 class="results-title">ุฑุญูุฉ ุงูุจุตูุฑุฉ ุงูุนูููุฉ</h1>
                   <p class="results-subtitle">ูู ุงูุนูู ุนู ุงูุฐุงุช ุฅูู ุงูุฑุคูุฉ ุงููุงุถุญุฉ</p>
               </div>
               
               <div class="understanding-box">
                   <h2 class="understanding-title">
                       <span>๐</span>
                       <span>ุนูู ูุง ุงูุชุดูุชู ูู ุฅุฌุงุจุงุชู</span>
                   </h2>
                   
                   <div class="understanding-content">
                       <p>
                           ุฅุฌุงุจุงุชู ุชูุดู ุนู <span class="highlight">ุจุญุซ ุญูููู ุนู ุงูููู</span>. 
                           ${awarenessMessages[awarenessLevel]}. 
                           ุงูุณุคุงู ุงูุฐู ูุดุบู ุจุงูู: <span class="highlight">"${keyQuestion}"</span> 
                           ูุฏู ุนูู ูุถุฌ ูู ุงูุชูููุฑ ูุดุฌุงุนุฉ ูู ุงูููุงุฌูุฉ.
                       </p>
                       
                       ${patterns.length > 0 ? `
                       <div class="quote-box">
                           <p>ูุงุญุธุช ุฃูู ูุงุนู ุจุฃููุงุท ูุญุฏุฏุฉ:</p>
                           <ul style="margin-top: 10px; padding-right: 20px;">
                               ${patterns.map(p => `<li>${
                                   p === 'people' ? 'ููุณ ููุน ุงูุฃุดุฎุงุต ูุณุจุจ ูู ุงููุดุงูู' :
                                   p === 'mistakes' ? 'ุชูุฑุงุฑ ููุณ ุงูุฃุฎุทุงุก' :
                                   p === 'situations' ? 'ุงููููุน ูู ููุณ ุงูููุงูู' :
                                   'ุฑุฏูุฏ ุฃูุนุงูู ุงููุชุดุงุจูุฉ'
                               }</li>`).join('')}
                           </ul>
                           <p style="margin-top: 15px; font-style: normal;">
                               ูุฐุง ุงููุนู ูุงุฏุฑ ูุซููู. ูุนุธู ุงููุงุณ ูุนูุดูู ูู ุฏูุงุฆุฑ ูุบููุฉ ุฏูู ุฃู ูุฏุฑููุง.
                           </p>
                       </div>
                       ` : `
                       <div class="quote-box">
                           <p>ุญุชู ูุฅู ูู ุชูู ุงูุฃููุงุท ูุงุถุญุฉ ุชูุงูุงู ุจุนุฏุ ูุฌุฑุฏ ุดุนูุฑู ุจุฃู "ุดูุฆุงู ูุง ููุณ ุตุญูุญุงู" 
                           ูู ุจุฏุงูุฉ ุงููุนู. ูุซูุฑูู ูุนูุดูู ุญูุงุชูู ุฏูู ุฃู ูุชููููุง ููุณุฃููุง.</p>
                       </div>
                       `}
                       
                       ${keyPhrase ? `
                       <p style="margin-top: 20px;">
                           ุนูุฏูุง ูุชุจุช: <span class="highlight">"${keyPhrase}..."</span> 
                           ููุณุช ูููุง ${profile.emotionalState === 'urgent' ? 'ุฅูุญุงุญุงู' : 'ุฑุบุจุฉ'} 
                           ุนูููุฉ ูู ุงูุชุญุฑุฑ ูู ุงููููุฏ ุบูุฑ ุงููุฑุฆูุฉ.
                       </p>
                       ` : ''}
                   </div>
               </div>
               
               <div class="recommendation-box">
                   <p class="recommendation-label">ูุณุงุฑ ูุตูู ูุนูู ุจุญุซู</p>
                   <h2 class="recommendation-title">ุชุฑุดูุญูุง ูู: ุฑุญูุฉ ุงูุจุตูุฑุฉ</h2>
                   <p class="recommendation-subtitle">8-12 ุฌูุณุฉ ูููู ุนููู ูุชุญุฑุฑ ุญูููู</p>
               </div>
               
               <div class="journey-details">
                   <h3 class="understanding-title">
                       <span>๐ฎ</span>
                       <span>ุงูุฃููุงุท ุงูุชู ุณูุณุชูุดููุง ูุนุงู</span>
                   </h3>
                   
                   <div class="pattern-cards">
                       <div class="pattern-card">
                           <div class="pattern-icon">๐</div>
                           <h4 class="pattern-title">ููุท ุงูุชูุฑุงุฑ</h4>
                           <p class="pattern-description">
                               ${patterns.includes('mistakes') || patterns.includes('situations') ?
                                   'ุณูููู ููุงุฐุง ุชุชูุฑุฑ ููุณ ุงูุชุญุฏูุงุช ูููู ููุณุฑ ุงูุฏุงุฆุฑุฉ' :
                                   'ุณููุดู ุงูุฏูุงุฆุฑ ุงูุฎููุฉ ูู ุญูุงุชู ูุทุฑู ุงูุฎุฑูุฌ ูููุง'
                               }
                           </p>
                       </div>
                       
                       <div class="pattern-card">
                           <div class="pattern-icon">๐ญ</div>
                           <h4 class="pattern-title">ููุท ุงูุฃููุนุฉ</h4>
                           <p class="pattern-description">
                               ${keyQuestion.includes('ุฃููุนุฉ') ?
                                   'ุณููุดู ุงูุฃููุนุฉ ุงูุชู ุชุฑุชุฏููุง ูููุชูู ุจุฐุงุชู ุงูุญููููุฉ' :
                                   'ุณูููู ุงูุฃุฏูุงุฑ ุงูุชู ุชูุนุจูุง ูููุงุฐุง'
                               }
                           </p>
                       </div>
                       
                       <div class="pattern-card">
                           <div class="pattern-icon">๐ก</div>
                           <h4 class="pattern-title">ููุท ุงููุนู</h4>
                           <p class="pattern-description">
                               ุณูุทูุฑ ูุฏุฑุชู ุนูู ุฑุคูุฉ ููุณู ุจูุถูุญุ 
                               ${awarenessLevel === 'high' ? 
                                   'ูุชุนููู ุงููุนู ุงูุฐู ุจุฏุฃุช ุชุทูุฑู' : 
                                   'ูุจูุงุก ูุนู ุฌุฏูุฏ ุจุฐุงุชู'
                               }
                           </p>
                       </div>
                       
                       <div class="pattern-card">
                           <div class="pattern-icon">๐๏ธ</div>
                           <h4 class="pattern-title">ููุท ุงูุชุญุฑุฑ</h4>
                           <p class="pattern-description">
                               ุณูุฌุฏ ุงูููุงุชูุญ ููู ุงููููุฏุ ุฎุงุตุฉ ูู ${mainFocus}
                           </p>
                       </div>
                   </div>
               </div>
               
               <div class="journey-phases">
                   <h3 class="understanding-title">
                       <span>๐ค๏ธ</span>
                       <span>ูุฑุงุญู ุฑุญูุฉ ุงูุจุตูุฑุฉ</span>
                   </h3>
                   
                   <div class="phase">
                       <div class="phase-number">1</div>
                       <h4 class="phase-title">ูุฑุญูุฉ ุงููุดู (4 ุฌูุณุงุช)</h4>
                       <div class="phase-content">
                           <p>
                               ูุจุฏุฃ ุจู${keyQuestion.includes('ููุงุฐุง') ? 'ููู ุงูู"ููุงุฐุง" ูุฑุงุก ุชุตุฑูุงุชู' : 'ุงุณุชูุดุงู ูููุชู ุงูุญููููุฉ'}.
                               ${profile.previousExperience !== 'none' ? 
                                   'ุณูุจูู ุนูู ุฎุจุฑุงุชู ุงูุณุงุจูุฉ ููุนูู ุงูููู.' : 
                                   'ุณูุณุชุฎุฏู ุฃุฏูุงุช ูุฌุฑุจุฉ ููุดู ูุง ูู ูุฎูู.'
                               }
                           </p>
                       </div>
                   </div>
                   
                   <div class="phase">
                       <div class="phase-number">2</div>
                       <h4 class="phase-title">ูุฑุญูุฉ ุงูููู (4 ุฌูุณุงุช)</h4>
                       <div class="phase-content">
                           <p>
                               ${patterns.length > 0 ? 
                                   `ูุบูุต ุนูููุงู ูู ุงูุฃููุงุท ุงูุชู ูุงุญุธุชูุงุ ุฎุงุตุฉ ${mainFocus}.` :
                                   'ููุชุดู ุงูุฃููุงุท ุงูุฎููุฉ ุงูุชู ุชุญุฑู ุญูุงุชู ุฏูู ุฃู ุชุฏุฑู.'
                               }
                               ูููู ููู ุชุดููุช ูุฐู ุงูุฃููุงุท ููุง ุงูุบุฑุถ ุงูุฐู ุชุฎุฏูู.
                           </p>
                       </div>
                   </div>
                   
                   <div class="phase">
                       <div class="phase-number">3</div>
                       <h4 class="phase-title">ูุฑุญูุฉ ุงูุชุญุฑุฑ (2-4 ุฌูุณุงุช)</h4>
                       <div class="phase-content">
                           <p>
                               ูุทุจู ูุง ุชุนูููุงู ูุฎูู ุชุบููุฑ ุญูููู. 
                               ${profile.supportSystem === 'strong' ? 
                                   'ูุน ูุธุงู ุงูุฏุนู ุงูููู ูุฏููุ ุณุชููู ูุงุฏุฑุงู ุนูู ุชุทุจูู ุงูุชุบููุฑุงุช ุจูุนุงููุฉ.' :
                                   'ุณูุจูู ูุนุงู ูุธุงู ุฏุนู ูุณุงุนุฏู ุนูู ุงูุงุณุชูุฑุงุฑ.'
                               }
                           </p>
                       </div>
                   </div>
               </div>
               
               <div class="choice-section">
                   <div style="text-align: center; margin-bottom: 30px;">
                       <h2 style="font-size: 28px; color: #2C5530; margin-bottom: 15px;">ุงุฎุชุฑ ุงููุณุงุฑ ุงูุฐู ููุงุฏูู</h2>
                       <p style="font-size: 18px; color: #666;">ูู ุฑุญูุฉ ููุง ุฌูุงููุง... ุงุฎุชุฑ ูุง ูุฑู ูู ููุจู</p>
                   </div>
                   
                   <div class="journey-options">
                       <div class="journey-option recommended" onclick="selectJourney('baseera', this)">
                           <div class="option-header">
                               <span class="option-icon">๐๏ธ</span>
                               <h3 class="option-title">ุฑุญูุฉ ุงูุจุตูุฑุฉ</h3>
                           </div>
                           <p class="option-description">
                               ุจูุงุกู ุนูู ${keyQuestion ? `ุณุคุงูู "${keyQuestion}"` : 'ุฑุบุจุชู ูู ุงูููู ุงูุนููู'} 
                               ${patterns.length > 0 ? 'ููุนูู ุจุงูุฃููุงุท ุงููุชูุฑุฑุฉ' : 'ูุดุนูุฑู ุจุฃู ููุงู ูุง ูุญุชุงุฌ ูููุดู'}, 
                               ูุฐู ุงูุฑุญูุฉ ุณุชููุญู ุงูุฅุฌุงุจุงุช ุงูุชู ุชุจุญุซ ุนููุง.
                           </p>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('eshraq', this)">
                           <div class="option-header">
<span class="option-icon">๐</span>
                               <h3 class="option-title">ุฑุญูุฉ ุงูุฅุดุฑุงูุฉ</h3>
                           </div>
                           <p class="option-description">
                               ุฅุฐุง ููุช ุชูุถู ุงูุจุฏุก ุจุดูุก ุฃุฎู ูุฃุณุฑุน. 3 ุฌูุณุงุช ููุท.
                               ${profile.timeAvailability === 'a' ? 
                                   'ูุฏ ุชูุงุณุจ ููุชู ุงููุญุฏูุฏ ุฃูุซุฑ.' : 
                                   'ููู ุจุตุฑุงุญุฉุ ูุณุชูู ูุนูู ูุณุชุญู ุงูุงุณุชุซูุงุฑ ูู ุงูุจุตูุฑุฉ.'
                               }
                           </p>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('sakeena', this)">
                           <div class="option-header">
                               <span class="option-icon">๐</span>
                               <h3 class="option-title">ุฑุญูุฉ ุงูุณูููุฉ</h3>
                           </div>
                           <p class="option-description">
                               ููุชุญูู ุงูุฌุฐุฑู ุงูุดุงูู. 6-12 ุดูุฑ ูู ุงูุนูู ุงูุนููู.
                               ${awarenessLevel === 'high' ? 
                                   'ูุนูู ุงูุนุงูู ูุฏ ูุคููู ููุฐู ุงูุฑุญูุฉ ุงูุนูููุฉ.' : 
                                   'ูุฏ ุชููู ุฎุทูุฉ ูุจูุฑุฉุ ููู ุงูุจุตูุฑุฉ ุณุชุฌูุฒู ููุง.'
                               }
                           </p>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('other', this)">
                           <div class="option-header">
                               <span class="option-icon">๐ญ</span>
                               <h3 class="option-title">ุฃุญุชุงุฌ ุดูุฆุงู ูุฎุชููุงู</h3>
                           </div>
                           <p class="option-description">
                               ุฑุจูุง ุชุญุชุงุฌ ูุฒูุฌุงู ุฎุงุตุงู ุฃู ูุฏูู ุชุตูุฑ ูุฎุชูู. ุดุงุฑููุง ูุง ูุฏูุฑ ูู ุฐููู.
                           </p>
                       </div>
                   </div>
                   
                   <div class="justification-section" id="justificationSection">
                       <label style="font-size: 18px; color: #2C5530; margin-bottom: 15px; display: block; font-weight: 500;" id="justificationLabel">
                           ุดุงุฑููุง: ูุง ุงูุฐู ุฌุฐุจู ูู ูุฐุง ุงูุงุฎุชูุงุฑุ
                       </label>
                       <textarea 
                           style="width: 100%; padding: 20px; border: 2px solid #E5E5E5; border-radius: 15px; font-size: 16px; resize: vertical; min-height: 120px; font-family: inherit;"
                           id="justificationInput"
                           placeholder="ุงูุชุจ ูุง ูุฏูุฑ ูู ููุจู..."
                       ></textarea>
                   </div>
                   
                   <div style="text-align: center; margin-top: 40px;">
                       <button class="btn" id="confirmButton" onclick="confirmChoice()" disabled>
                           ุชุฃููุฏ ุงุฎุชูุงุฑู
                       </button>
                   </div>
                   
                   <div class="helper-message">
                       ๐ฑ ุชุฐูุฑ: ุงูุจุฐุฑุฉ ุงูุชู ุชูุฒุฑุน ุงูููู ุณุชุตุจุญ ุดุฌุฑุฉ ุงูุบุฏ. ุงูุฃูู ูู ุฃู ุชุจุฏุฃ.
                   </div>
               </div>
           `;
       }
       
       // Generate Sakeena recommendation with variations
       function generateSakeenaRecommendation(results) {
           const profile = results.profile;
           const transformDriver = subAnswers['q1-sub-d'] || '';
           const commitment = profile.timeAvailability === 'd' ? 'ุงููุงูู' : 'ุงูููู';
           
           // Variations based on transformation driver
           const driverMessages = {
               '1': {
                   title: 'ุตุงุญุจ ุงูุฑุคูุฉ ุงููุงุถุญุฉ',
                   message: 'ุฑุคูุชู ุงููุงุถุญุฉ ุชุญุชุงุฌ ูุฎุทุฉ ุชูููุฐ ุนูููุฉ ูุฏุนู ูุณุชูุฑ',
                   focus: 'ุชุญููู ุงูุฑุคูุฉ ุฅูู ูุงูุน ููููุณ'
               },
               '2': {
                   title: 'ุงูุจุงุญุซ ุนู ุงูุชุบููุฑ ุงูุฌุฐุฑู',
                   message: 'ุฅุฏุฑุงูู ูุญุงุฌุชู ููุชุบููุฑ ุงูุฌุฐุฑู ูู ูุตู ุงูุทุฑูู',
                   focus: 'ุจูุงุก ุญูุงุฉ ุฌุฏูุฏุฉ ูู ุงูุฃุณุงุณ'
               },
               '3': {
                   title: 'ุตุงุญุจ ุงูุชุฌุฑุจุฉ ุงูููุญููููุฉ',
                   message: 'ุงูุชุฌุฑุจุฉ ุงูุชู ุฃููุธุชู ูู ูุฏูุฉ ุชุณุชุญู ุงูุจูุงุก ุนูููุง',
                   focus: 'ุชุนููู ูุชุฑุณูุฎ ุงูููุธุฉ'
               },
               '4': {
                   title: 'ูู ูุตู ููุทุฉ ุงูุชุญูู',
                   message: 'ูุตููู ูููุทุฉ "ููู" ูู ุจุฏุงูุฉ ุงูููุงุฏุฉ ุงูุฌุฏูุฏุฉ',
                   focus: 'ุงูุงูุชูุงู ูู ุงูุฃูู ุฅูู ุงููุจุงูุฉ'
               },
               'default': {
                   title: 'ุงูุณุงุนู ููุชุญูู ุงูุนููู',
                   message: 'ุงุณุชุนุฏุงุฏู ููุชุญูู ุงูุฌุฐุฑู ูุงุฏุฑ ูุซููู',
                   focus: 'ุงูุชุญูู ุงูุดุงูู ุนูู ูู ุงููุณุชููุงุช'
               }
           };
           
           const driver = driverMessages[transformDriver] || driverMessages.default;
           const keyPhrases = profile.keyPhrases;
           const visionText = answers['q12-text'] || '';
           
           return `
               <style>
                   ${getCommonStyles()}
                   
                   .transformation-banner {
                       background: linear-gradient(135deg, #2C5530 0%, #8B9467 100%);
                       color: white;
                       padding: 60px 40px;
                       border-radius: 30px;
                       text-align: center;
                       margin-bottom: 40px;
                       position: relative;
                       overflow: hidden;
                   }
                   
                   .transformation-banner::before {
                       content: '';
                       position: absolute;
                       top: -50%;
                       right: -10%;
                       width: 200%;
                       height: 200%;
                       background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
                       animation: float 20s ease-in-out infinite;
                   }
                   
                   @keyframes float {
                       0%, 100% { transform: translate(0, 0) rotate(0deg); }
                       50% { transform: translate(-20px, -20px) rotate(180deg); }
                   }
                   
                   .transformation-title {
                       font-size: 42px;
                       margin-bottom: 20px;
                       position: relative;
                       z-index: 1;
                   }
                   
                   .transformation-subtitle {
                       font-size: 24px;
                       opacity: 0.9;
                       position: relative;
                       z-index: 1;
                   }
                   
                   .journey-depth {
                       background: #F8F7F4;
                       padding: 40px;
                       border-radius: 25px;
                       margin-bottom: 30px;
                   }
                   
                   .depth-levels {
                       display: grid;
                       grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                       gap: 30px;
                       margin-top: 30px;
                   }
                   
                   .depth-level {
                       background: white;
                       padding: 30px;
                       border-radius: 20px;
                       box-shadow: 0 5px 20px rgba(0,0,0,0.05);
                       border-top: 5px solid;
                       transition: all 0.3s ease;
                   }
                   
                   .depth-level:nth-child(1) { border-color: #D4AF37; }
                   .depth-level:nth-child(2) { border-color: #8B9467; }
                   .depth-level:nth-child(3) { border-color: #2C5530; }
                   
                   .depth-level:hover {
                       transform: translateY(-5px);
                       box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                   }
                   
                   .level-icon {
                       font-size: 40px;
                       margin-bottom: 15px;
                   }
                   
                   .level-title {
                       font-size: 20px;
                       color: #2C5530;
                       margin-bottom: 15px;
                       font-weight: 500;
                   }
                   
                   .level-description {
                       color: #666;
                       line-height: 1.8;
                   }
                   
                   .transformation-timeline {
                       position: relative;
                       padding: 50px 0;
                       margin: 40px 0;
                   }
                   
                   .timeline-line {
                       position: absolute;
                       right: 50%;
                       top: 0;
                       bottom: 0;
                       width: 3px;
                       background: linear-gradient(to bottom, #D4AF37 0%, #8B9467 50%, #2C5530 100%);
                   }
                   
                   .timeline-item {
                       position: relative;
                       width: 45%;
                       padding: 30px;
                       background: white;
                       border-radius: 20px;
                       box-shadow: 0 5px 20px rgba(0,0,0,0.05);
                       margin-bottom: 40px;
                   }
                   
                   .timeline-item:nth-child(odd) {
                       margin-right: auto;
                       margin-left: 55%;
                   }
                   
                   .timeline-item:nth-child(even) {
                       margin-left: auto;
                       margin-right: 55%;
                   }
                   
                   .timeline-dot {
                       position: absolute;
                       width: 20px;
                       height: 20px;
                       background: white;
                       border: 4px solid #2C5530;
                       border-radius: 50%;
                       top: 40px;
                   }
                   
                   .timeline-item:nth-child(odd) .timeline-dot {
                       right: -62px;
                   }
                   
                   .timeline-item:nth-child(even) .timeline-dot {
                       left: -62px;
                   }
                   
                   .timeline-month {
                       font-size: 14px;
                       color: #8B9467;
                       margin-bottom: 10px;
                       font-weight: 500;
                   }
                   
                   .timeline-title {
                       font-size: 20px;
                       color: #2C5530;
                       margin-bottom: 15px;
                       font-weight: 500;
                   }
                   
                   .timeline-content {
                       color: #666;
                       line-height: 1.8;
                   }
                   
                   @media (max-width: 768px) {
                       .transformation-title {
                           font-size: 32px;
                       }
                       
                       .depth-levels {
                           grid-template-columns: 1fr;
                       }
                       
                       .timeline-line {
                           right: 20px;
                       }
                       
                       .timeline-item {
                           width: calc(100% - 50px);
                           margin-right: 50px !important;
                           margin-left: 0 !important;
                       }
                       
                       .timeline-dot {
                           right: -41px !important;
                           left: auto !important;
                       }
                   }
               </style>
               
               <div class="transformation-banner">
                   <h1 class="transformation-title">${driver.title}</h1>
                   <p class="transformation-subtitle">${driver.message}</p>
               </div>
               
               <div class="understanding-box">
                   <h2 class="understanding-title">
                       <span>๐</span>
                       <span>ููุฉ ุงูุงุณุชุนุฏุงุฏ ุงูุชู ุฃุฑุงูุง ููู</span>
                   </h2>
                   
                   <div class="understanding-content">
                       <p>
                           ุฅุฌุงุจุงุชู ุชุดุน ุจุทุงูุฉ ุฅูุณุงู <span class="highlight">ูุตู ูููุทุฉ ุญุงุณูุฉ ูู ุญูุงุชู</span>. 
                           ${transformDriver === '4' ? 
                               'ูููู "ููู" ููุณ ูุฌุฑุฏ ูููุฉุ ุจู ุตุฑุฎุฉ ุงูุฑูุญ ุงูุชู ุชุฑูุฏ ุงูุญุฑูุฉ.' :
                               transformDriver === '3' ?
                               'ุงูุชุฌุฑุจุฉ ุงูุชู ูุฑุฑุช ุจูุง ุฃููุธุช ููู ูุง ูุงู ูุงุฆูุงูุ ูุงูุขู ุญุงู ููุช ุงูุจูุงุก.' :
                               'ูุฐุง ุงูุงุณุชุนุฏุงุฏ ููุชุญูู ุงูุฌุฐุฑู ูุฃุชู ูู ููุงู ุนููู ุฌุฏุงู.'
                           }
                       </p>
                       
                       ${visionText ? `
                       <div class="quote-box">
                           <p>ุฑุคูุชู ูููุณุชูุจู ูุงุถุญุฉ:</p>
                           <p style="margin-top: 10px;">"${visionText.substring(0, 150)}..."</p>
                           <p style="margin-top: 15px; font-style: normal;">
                               ูุฐู ููุณุช ูุฌุฑุฏ ุฃูููุฉุ ุจู <span class="highlight">ุฎุงุฑุทุฉ ุทุฑูู</span> 
                               ููุง ุชุฑูุฏ ุฃู ุชุตุจุญ ุนููู.
                           </p>
                       </div>
                       ` : ''}
                       
                       <p>
                           ูุง ูุคูุฏ ุงุณุชุนุฏุงุฏู:
                       </p>
                       <ul style="margin: 15px 0; padding-right: 30px; line-height: 2;">
                           <li>ุงูุชุฒุงูู ${commitment} ุจุงูููุช ูุงูุทุงูุฉ (${answers.q7 === 'd' ? 'ุฃูุซุฑ ูู 5 ุณุงุนุงุช ุฃุณุจูุนูุงู!' : 'ุฑุบู ุงูุชุญุฏูุงุช'})</li>
                           <li>ุงุณุชุนุฏุงุฏู ${answers.q5 === 'a' ? 'ุงููุงูู' : 'ุงูููู'} ูููุงุฌูุฉ ุงูุญูุงุฆู</li>
                           <li>ุซูุชู ${answers['confidence-scale'] >= 8 ? 'ุงูุนุงููุฉ' : 'ุงููุชูุงููุฉ'} ูู ุฅููุงููุฉ ุงูุชุบููุฑ</li>
                           ${profile.supportSystem === 'strong' ? '<li>ูุธุงู ุงูุฏุนู ุงูููู ุงูุฐู ุจููุชู ุญููู</li>' : ''}
                       </ul>
                   </div>
               </div>
               
               <div class="recommendation-box">
                   <p class="recommendation-label">ููุฃุฑูุงุญ ุงูุดุฌุงุนุฉ ุงูุณุงุนูุฉ ูููุจุงูุฉ</p>
                   <h2 class="recommendation-title">ุชุฑุดูุญูุง ูู: ุฑุญูุฉ ุงูุณูููุฉ</h2>
                   <p class="recommendation-subtitle">6-12 ุดูุฑ ูู ุงูุชุญูู ุงูุฌุฐุฑู ูุญู ุงูุญูุงุฉ ุงูุทูุจุฉ</p>
               </div>
               
               <div class="journey-depth">
                   <h3 class="understanding-title">
                       <span>๐๏ธ</span>
                       <span>ุฃุนูุงู ุงูุชุญูู ูู ุฑุญูุฉ ุงูุณูููุฉ</span>
                   </h3>
                   
                   <div class="depth-levels">
                       <div class="depth-level">
                           <div class="level-icon">๐ฅ</div>
                           <h4 class="level-title">ูุณุชูู ุงูุชุทููุฑ</h4>
                           <p class="level-description">
                               ุฅุฒุงูุฉ ูู ูุง ููุณ ุฃูุช. 
                               ${driver.focus === 'ุงูุงูุชูุงู ูู ุงูุฃูู ุฅูู ุงููุจุงูุฉ' ?
                                   'ุชุญููู ุงูุฃูู ุงูุฐู ูุตูุช ูู ุฅูู ููุฉ ุฏุงูุนุฉ ููุชุญูู.' :
                                   'ุชูุธูู ุนููู ูู ุงูุฑุงู ุงููุชุฑุงูู ุนุจุฑ ุงูุณููู.'
                               }
                           </p>
                       </div>
                       
                       <div class="depth-level">
                           <div class="level-icon">๐ฑ</div>
                           <h4 class="level-title">ูุณุชูู ุงูุจูุงุก</h4>
                           <p class="level-description">
                               ุจูุงุก ุงูุฅูุณุงู ุงูุฌุฏูุฏ ูู ุงูุฏุงุฎู. 
                               ${transformDriver === '1' ?
                                   'ุชุญููู ุฑุคูุชู ุงููุงุถุญุฉ ุฅูู ุจููุฉ ุญูุงุฉ ูุชูุงููุฉ.' :
                                   'ูุถุน ุฃุณุณ ุฌุฏูุฏุฉ ูููุฉ ูุญูุงุชู ุงููุณุชูุจููุฉ.'
                               }
                           </p>
                       </div>
                       
                       <div class="depth-level">
                           <div class="level-icon">โจ</div>
                           <h4 class="level-title">ูุณุชูู ุงูุฅุดุนุงุน</h4>
                           <p class="level-description">
                               ุงูุนูุด ูู ูุฑูุฒ ุงููุจุงูุฉ ูุงูุนุทุงุก. 
                               ${profile.previousExperience === 'extensive' ?
                                   'ูู ุฎุจุฑุงุชู ุงูุณุงุจูุฉ ุณุชุชูุงูู ูู ูุฐุง ุงููุณุชูู.' :
                                   'ุงูุชุดุงู ูุฏุฑุชู ุนูู ุงูุชุฃุซูุฑ ุงูุฅูุฌุงุจู ูู ุงูุนุงูู.'
                               }
                           </p>
                       </div>
                   </div>
               </div>
               
               <div class="transformation-timeline">
                   <div class="timeline-line"></div>
                   
                   <div class="timeline-item">
                       <div class="timeline-dot"></div>
                       <div class="timeline-month">ุงูุดูุฑ 1-2</div>
                       <h4 class="timeline-title">ููุงุฌูุฉ ุงูุญูููุฉ</h4>
                       <p class="timeline-content">
                           ${transformDriver === '4' ?
                               'ูุจุฏุฃ ูู ููุทุฉ "ููู" ููุญูููุง ูููุทุฉ ุงูุทูุงู' :
                               'ููุดู ุงูุญูุฌูุจ ูููุงุฌู ูุง ูุงู ูุฎููุงู'
                           }
                       </p>
                   </div>
                   
                   <div class="timeline-item">
                       <div class="timeline-dot"></div>
                       <div class="timeline-month">ุงูุดูุฑ 3-4</div>
                       <h4 class="timeline-title">ุฅุนุงุฏุฉ ุงูุชุฃุณูุณ</h4>
                       <p class="timeline-content">
                           ูุจูู ุฃุณุณุงู ุฌุฏูุฏุฉ ูููุฉ. ${driver.focus}
                       </p>
                   </div>
                   
                   <div class="timeline-item">
                       <div class="timeline-dot"></div>
                       <div class="timeline-month">ุงูุดูุฑ 5-6</div>
                       <h4 class="timeline-title">ุงูุชุฌุณูุฏ ูุงูููุงุฑุณุฉ</h4>
                       <p class="timeline-content">
                           ุชุญููู ุงูููู ุฅูู ููุงุฑุณุฉ ููููุฉ ูุนุงุฏุงุช ุฑุงุณุฎุฉ
                       </p>
                   </div>
                   
                   <div class="timeline-item">
                       <div class="timeline-dot"></div>
                       <div class="timeline-month">ูุง ุจุนุฏ 6 ุดููุฑ</div>
                       <h4 class="timeline-title">ุงูุนูุด ูู ุงููุฑูุฒ</h4>
                       <p class="timeline-content">
                           ${visionText.includes('ุณูุงู') || visionText.includes('ุณููู') ?
                               'ุชุญููู ุงูุณูุงู ุงูุฏุงุฎูู ุงูุฐู ุชุทูุญ ุฅููู' :
                               'ุงูุนูุด ูู ูุฑูุฒ ุงูููุฉ ูุงููุจุงูุฉ'
                           }
                       </p>
                   </div>
               </div>
               
               <div class="choice-section">
                   <div style="text-align: center; margin-bottom: 30px;">
                       <h2 style="font-size: 28px; color: #2C5530; margin-bottom: 15px;">ุชุฃููุฏ ุงููุณุงุฑ</h2>
                       <p style="font-size: 18px; color: #666;">ุงุฎุชุฑ ูุง ูุชูุงุณุจ ูุน ุงุณุชุนุฏุงุฏู ุงูุญุงูู</p>
                   </div>
                   
                   <div class="journey-options">
                       <div class="journey-option recommended" onclick="selectJourney('sakeena', this)">
                           <div class="option-header">
                               <span class="option-icon">๐</span>
                               <h3 class="option-title">ุฑุญูุฉ ุงูุณูููุฉ</h3>
                           </div>
                           <p class="option-description">
                               ${driver.title}ุ ูุฐู ุฑุญูุชู. 
                               ${transformDriver === '1' ? 'ุฑุคูุชู ุงููุงุถุญุฉ ุชุณุชุญู ุฎุทุฉ ุชูููุฐ ุนูููุฉ.' :
                                 transformDriver === '3' ? 'ุงูุชุฌุฑุจุฉ ุงูุชู ุฃููุธุชู ุชุณุชุญู ุงูุจูุงุก ุนูููุง.' :
                                 'ุงุณุชุนุฏุงุฏู ููุชุญูู ุงูุฌุฐุฑู ูุงุถุญ ููุงุฏุฑ.'}
                               6-12 ุดูุฑ ูู ุงูุนูู ุงูุนููู ุงูููุญูููู.
                           </p>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('baseera', this)">
                           <div class="option-header">
                               <span class="option-icon">๐๏ธ</span>
                               <h3 class="option-title">ุงูุจุฏุก ุจุงูุจุตูุฑุฉ ุฃููุงู</h3>
                           </div>
                           <p class="option-description">
                               ุฅุฐุง ููุช ุชูุถู ุงูุชุฏุฑุฌุ ููููู ุงูุจุฏุก ุจุฑุญูุฉ ุงูุจุตูุฑุฉ (8-12 ุฌูุณุฉ) 
                               ูููู ููุณู ุฃููุงูุ ุซู ุงูุงูุชูุงู ููุณูููุฉ.
                               ${profile.previousExperience === 'none' ? 
                                   'ูุฏ ูููู ูุฐุง ููุงุณุจุงู ูุฃูู ุชุฌุฑุจุฉ ุนูููุฉ ูู.' : 
                                   'ุฎูุงุฑ ุญููู ููุจูุงุก ุงูุชุฏุฑูุฌู.'
                               }
                           </p>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('eshraq', this)">
                           <div class="option-header">
                               <span class="option-icon">๐</span>
                               <h3 class="option-title">ุฑุญูุฉ ุงูุฅุดุฑุงูุฉ</h3>
                           </div>
                           <p class="option-description">
                               ููุจุฏุก ุจุฎุทูุงุช ุตุบูุฑุฉ. 3 ุฌูุณุงุช ููุท.
                               ${transformDriver === '4' ? 
                                   'ููู ุตุฑุงุญุฉุ ูู ูุตู ููุทุฉ "ููู" ูุญุชุงุฌ ุฃูุซุฑ ูู ุญููู ุณุฑูุนุฉ.' : 
                                   'ูุฏ ูุง ุชูุจู ุทููุญู ููุชุญูู ุงูุฌุฐุฑู.'
                               }
                           </p>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('other', this)">
                           <div class="option-header">
                               <span class="option-icon">๐ญ</span>
                               <h3 class="option-title">ูุฏู ุชุตูุฑ ุขุฎุฑ</h3>
                           </div>
                           <p class="option-description">
                               ุฑุจูุง ุชุญุชุงุฌ ุดูุฆุงู ูุฎุชููุงู. ุดุงุฑููุง ุชุตูุฑู.
                           </p>
                       </div>
                   </div>
                   
                   <div class="justification-section" id="justificationSection">
                       <label style="font-size: 18px; color: #2C5530; margin-bottom: 15px; display: block; font-weight: 500;" id="justificationLabel">
                           ุดุงุฑููุง: ูุง ุงูุฐู ูุฌุนูู ุชุฎุชุงุฑ ูุฐุง ุงููุณุงุฑุ
                       </label>
                       <textarea 
                           style="width: 100%; padding: 20px; border: 2px solid #E5E5E5; border-radius: 15px; font-size: 16px; resize: vertical; min-height: 120px; font-family: inherit;"
                           id="justificationInput"
                           placeholder="ุงูุชุจ ูุง ุชุดุนุฑ ุจู..."
                       ></textarea>
                   </div>
                   
                   <div style="text-align: center; margin-top: 40px;">
                       <button class="btn" id="confirmButton" onclick="confirmChoice()" disabled>
                           ุชุฃููุฏ ุงุฎุชูุงุฑู
                       </button>
                   </div>
                   
                   <div class="helper-message">
                       ๐ฟ ุฃูุงู ูุงู ุงุฎุชูุงุฑูุ ุงูููู ุฃู ุชุจุฏุฃ. ุงูุทุฑูู ูุชุถุญ ุจุงููุดูุ ูุงูููุฑ ูุฃุชู ูุน ุงูุฎุทูุฉ ุงูุฃููู.
                   </div>
               </div>
           `;
       }
       
       // Generate Mixed recommendation (Eshraq-Baseera or Baseera-Sakeena)
       function generateMixedRecommendation(results) {
           const mixedType = results.mixedType;
           const profile = results.profile;
           
           if (mixedType === 'eshraq-baseera') {
               return generateEshraqBaseeraMixed(results);
           } else {
               return generateBaseeraSakeenaMixed(results);
           }
       }
       
       // Mixed Eshraq-Baseera recommendation
       function generateEshraqBaseeraMixed(results) {
           const profile = results.profile;
           const challengeType = profile.challengeType;
           const awarenessLevel = profile.awarenessLevel;
           const urgency = profile.emotionalState === 'urgent';
           
           return `
               <style>
                   ${getCommonStyles()}
                   
                   .dual-path-container {
                       background: linear-gradient(135deg, #FFF8E8 0%, #F0F8F0 100%);
                       padding: 50px 40px;
                       border-radius: 30px;
                       margin-bottom: 40px;
                       position: relative;
                       overflow: hidden;
                   }
                   
                   .dual-path-container::before {
                       content: '๐ โ ๐๏ธ';
                       position: absolute;
                       top: 20px;
                       right: 50%;
                       transform: translateX(50%);
                       font-size: 40px;
                       opacity: 0.2;
                   }
                   
                   .dual-needs {
                       display: grid;
                       grid-template-columns: 1fr auto 1fr;
                       gap: 30px;
                       align-items: center;
                       margin: 40px 0;
                   }
                   
                   .need-box {
                       background: white;
                       padding: 30px;
                       border-radius: 20px;
                       box-shadow: 0 5px 20px rgba(0,0,0,0.05);
                       text-align: center;
                   }
                   
                   .need-box h4 {
                       color: #2C5530;
                       margin-bottom: 15px;
                       font-size: 20px;
                   }
                   
                   .need-box ul {
                       list-style: none;
                       padding: 0;
                       color: #666;
                       line-height: 2;
                   }
                   
                   .connector {
                       font-size: 40px;
                       color: #D4AF37;
                   }
                   
                   .path-stages {
                       display: flex;
                       align-items: center;
                       justify-content: space-between;
                       margin: 50px 0;
                       position: relative;
                   }
                   
                   .path-line {
                       position: absolute;
                       top: 50%;
                       right: 10%;
                       left: 10%;
                       height: 3px;
                       background: linear-gradient(to left, #8B9467 0%, #D4AF37 100%);
                       z-index: 0;
                   }
                   
                   .stage-box {
                       background: white;
                       padding: 30px;
                       border-radius: 20px;
                       box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                       text-align: center;
                       position: relative;
                       z-index: 1;
                       flex: 1;
                       margin: 0 10px;
                   }
                   
                   .stage-box.primary {
                       border: 3px solid #D4AF37;
                       transform: scale(1.05);
                   }
                   
                   .stage-icon {
                       font-size: 50px;
                       margin-bottom: 15px;
                   }
                   
                   .stage-title {
                       font-size: 22px;
                       color: #2C5530;
                       margin-bottom: 10px;
                   }
                   
                   .stage-duration {
                       color: #8B9467;
                       font-size: 16px;
                       margin-bottom: 15px;
                   }
                   
                   .stage-description {
                       color: #666;
                       line-height: 1.8;
                   }
                   
                   @media (max-width: 768px) {
                       .dual-needs {
                           grid-template-columns: 1fr;
                       }
                       
                       .connector {
                           transform: rotate(90deg);
                       }
                       
                       .path-stages {
                           flex-direction: column;
                           gap: 30px;
                       }
                       
                       .path-line {
                           display: none;
                       }
                       
                       .stage-box {
                           margin: 0;
                       }
                   }
               </style>
               
               <div class="results-header">
                   <div class="journey-icon">๐๐๏ธ</div>
                   <h1 class="results-title">ุฑุญูุฉ ุฐุงุช ูุฌููู... ููุจ ูุงุญุฏ</h1>
                   <p class="results-subtitle">ุญุงูุชู ุงููุฑูุฏุฉ ุชุณุชุฏุนู ูุณุงุฑุงู ุฎุงุตุงู ูุฌูุน ุจูู ุงูุญููุฉ ุงูุนูููุฉ ูุงูุจุตูุฑุฉ ุงูุนูููุฉ</p>
               </div>
               
               <div class="understanding-box">
                   <h2 class="understanding-title">
                       <span>๐คฒ</span>
                       <span>ุงูุซูุงุฆูุฉ ุงูุฌูููุฉ ูู ูุตุชู</span>
                   </h2>
                   
                   <div class="understanding-content">
                       <p>
                           ุฃูุงูู ุญุงูุฉ ูุซูุฑุฉ ููุงูุชูุงู. ูู ุฌูุฉุ ูุฏูู 
                           <span class="highlight">${challengeType === 'work' ? 'ุชุญุฏู ููุญ ูู ุงูุนูู' : 
                                                    challengeType === 'relationships' ? 'ุชุญุฏู ูู ุงูุนูุงูุงุช' :
                                                    challengeType === 'decision' ? 'ูุฑุงุฑ ููู ูุญุชุงุฌ ุงุชุฎุงุฐู' :
                                                    'ุชุญุฏู ูุญุชุงุฌ ุญูุงู ุนุงุฌูุงู'}</span> 
                           ${urgency ? 'ูุถุบุท ุนููู ุจููุฉ' : 'ูุญุชุงุฌ ุงูุชุจุงูุงู'}. 
                           ${profile.timeAvailability === 'a' ? 'ูููุชู ูุญุฏูุฏ ุฌุฏุงู - ุณุงุนุฉ ูุงุญุฏุฉ ุฃุณุจูุนูุงู ููุท.' : ''}
                       </p>
                       
                       <p>
                           ููู ุฌูุฉ ุฃุฎุฑูุ ุฃุฑู ูู ุฅุฌุงุจุงุชู 
                           <span class="highlight-green">ูุนูุงู ${awarenessLevel === 'high' ? 'ุนูููุงู' : 'ูุงุดุฆุงู'} ุจูุฌูุฏ ุฃููุงุท ุฃุนูู</span>. 
                           ${answers.q4 === 'b' || answers.q4 === 'd' ? 
                               'ุนูุฏูุง ููุช ุฃูู ุชูุงุญุธ ุชุดุงุจูุงู ูู ุงูุชุญุฏูุงุชุ ูุฐุง ูุฎุจุฑูู ุฃู ุฌุฒุกุงู ููู ูุนุฑู ุฃู ุงูุญู ุงูุญูููู ุฃุนูู.' :
                               'ุญุชู ูุฅู ูู ุชูู ุงูุฃููุงุท ูุงุถุญุฉ ุชูุงูุงูุ ุดุนูุฑู ูุฎุจุฑู ุฃู ููุงู ูุง ูู ุฃุนูู.'
                           }
                       </p>
                   </div>
               </div>
               
               <div class="dual-path-container">
                   <h3 class="understanding-title" style="text-align: center; margin-bottom: 40px;">
                       <span>โ๏ธ</span>
                       <span>ุฃูุช ุชูู ุนูุฏ ููุชุฑู ุทุฑู ูุซูุฑ</span>
                   </h3>
                   
                   <div class="dual-needs">
                       <div class="need-box">
                           <h4>ุงูุญุงุฌุฉ ุงูุนุงุฌูุฉ</h4>
                           <ul>
                               <li>${challengeType === 'work' ? 'ุถุบุท ุงูุนูู ุงูุญุงูู' :
                                     challengeType === 'relationships' ? 'ุชูุชุฑ ุงูุนูุงูุงุช' :
                                     challengeType === 'decision' ? 'ุถุบุท ุงุชุฎุงุฐ ุงููุฑุงุฑ' :
                                     'ุงูุชุญุฏู ุงูููุญ'}</li>
                               <li>${urgency ? 'ุงูุญุงุฌุฉ ูุญู ุณุฑูุน' : 'ุงูุฑุบุจุฉ ูู ุญู ุนููู'}</li>
                               <li>${profile.timeAvailability === 'a' ? 'ุงูููุช ุงููุญุฏูุฏ ุฌุฏุงู' : 'ุงูุญุงุฌุฉ ููููุงุกุฉ'}</li>
                           </ul>
                       </div>
                       
                       <div class="connector">โท</div>
                       
                       <div class="need-box">
                           <h4>ุงูุญููุฉ ุงููุงุดุฆุฉ</h4>
                           <ul>
                               <li>ุฅุฏุฑุงู ุงูุฃููุงุท ุงููุชูุฑุฑุฉ</li>
                               <li>ุงูุฑุบุจุฉ ูู ุงูููู ุงูุนููู</li>
                               <li>ุงูุจุญุซ ุนู ุชุบููุฑ ุญูููู</li>
                           </ul>
                       </div>
                   </div>
                   
                   <p style="text-align: center; font-size: 20px; color: #2C5530; margin-top: 30px;">
                       ูููุง ูููู ุงูุฌูุงู: <span class="highlight">ูุณุช ูุถุทุฑุงู ููุงุฎุชูุงุฑ ุจูู ุงูุงุซููู!</span>
                   </p>
               </div>
               
               <div class="recommendation-box">
                   <p class="recommendation-label">ูุณุงุฑ ูุตูู ุฎุตูุตุงู ูุญุงูุชู ุงููุฑูุฏุฉ</p>
                   <h2 class="recommendation-title">ุชุฑุดูุญูุง: ุงููุณุงุฑ ุงููุชุฏุฑุฌ</h2>
                   <p class="recommendation-subtitle">ูู ุฅุดุฑุงูุฉ ุงูุญู ุงูุณุฑูุน ุฅูู ุจุตูุฑุฉ ุงูููู ุงูุนููู</p>
               </div>
               
               <div class="journey-details">
                   <h3 class="understanding-title">
                       <span>๐ค๏ธ</span>
                       <span>ุฑุญูุชู ุงููุชุฏุฑุฌุฉ - ุฎุทูุฉ ุจุฎุทูุฉ</span>
                   </h3>
                   
                   <div class="path-stages">
                       <div class="path-line"></div>
                       
                       <div class="stage-box primary">
                           <div class="stage-icon">๐</div>
                           <h4 class="stage-title">ุงููุญุทุฉ ุงูุฃููู</h4>
                           <p class="stage-duration">3-4 ุฃุณุงุจูุน</p>
                           <p class="stage-description">
                               ูุทูุฆ ุงููุงุฑ ุงููุดุชุนูุฉ ูู ${challengeType === 'work' ? 'ุงูุนูู' : 
                                                         challengeType === 'relationships' ? 'ุงูุนูุงูุงุช' :
                                                         'ุญูุงุชู'}. 
                               ุญููู ุนูููุฉ ููุฑูุฉ ูุน ุจุฐูุฑ ุงููุนู.
                           </p>
                       </div>
                       
                       <div class="stage-box">
                           <div class="stage-icon">๐</div>
                           <h4 class="stage-title">ูุญุทุฉ ุงูุชูููู</h4>
                           <p class="stage-duration">ุฃุณุจูุน</p>
                           <p class="stage-description">
                               ููู ูุนุงู ููุฑู: ูู ุชุญุณู ุงููุถุนุ 
                               ูู ุฃูุช ูุณุชุนุฏ ููุนููุ 
                               ุงููุฑุงุฑ ุจูุฏู.
                           </p>
                       </div>
                       
                       <div class="stage-box">
                           <div class="stage-icon">๐๏ธ</div>
                           <h4 class="stage-title">ุงููุญุทุฉ ุงูุซุงููุฉ</h4>
                           <p class="stage-duration">2-3 ุฃุดูุฑ</p>
                           <p class="stage-description">
                               ${awarenessLevel === 'high' ? 
                                   'ูุนูู ุงููุนู ุงูุฐู ุจุฏุฃุช ุชุทูุฑู' : 
                                   'ููุชุดู ุงูุฃููุงุท ููููู ุงูุฌุฐูุฑ'}
                           </p>
                       </div>
                   </div>
               </div>
               
               <div style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 30px;">
                   <h3 class="understanding-title">
                       <span>๐</span>
                       <span>ููุงุฐุง ูุฐุง ุงููุณุงุฑ ูุซุงูู ููุ</span>
                   </h3>
                   
                   <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; margin-top: 30px;">
                       <div style="text-align: center;">
                           <div style="font-size: 40px; margin-bottom: 15px;">โ๏ธ</div>
                           <h4 style="color: #2C5530; margin-bottom: 10px;">ูุญุชุฑู ุงููุงูุนูู</h4>
                           <p style="color: #666; font-size: 14px;">
                               ูุชุนุงูู ูุน ${urgency ? 'ุถุบุทู ุงูุญุงูู ุจุฌุฏูุฉ' : 'ุชุญุฏูู ุงูุนููู'}ุ 
                               ููู ููุณ ุงูููุช ูุญุชุฑู ุฑุบุจุชู ูู ุงูููู ุงูุนููู
                           </p>
                       </div>
                       
                       <div style="text-align: center;">
                           <div style="font-size: 40px; margin-bottom: 15px;">๐</div>
                           <h4 style="color: #2C5530; margin-bottom: 10px;">ุชุนูููู ุชุฏุฑูุฌู</h4>
                           <p style="color: #666; font-size: 14px;">
                               ุชุฎุชุจุฑ ููุฉ ุงููุนู ุฃููุงู ูู ุญู ${challengeType === 'work' ? 'ูุดููุฉ ุงูุนูู' : 'ุชุญุฏูู'} ุงูุญููููุฉุ 
                               ููุง ูุญูุฒู ูููุฑุญูุฉ ุงูุฃุนูู
                           </p>
                       </div>
                       
                       <div style="text-align: center;">
                           <div style="font-size: 40px; margin-bottom: 15px;">โฐ</div>
                           <h4 style="color: #2C5530; margin-bottom: 10px;">ูุฑู ูุน ููุชู</h4>
                           <p style="color: #666; font-size: 14px;">
                               ูุจุฏุฃ ุจุงูุชุฒุงู ูุตูุฑ ${profile.timeAvailability === 'a' ? '(ููุงุณุจ ุณุงุนุชู ุงูุฃุณุจูุนูุฉ)' : '(3-4 ุฌูุณุงุช)'}, 
                               ุซู ุชูุฑุฑ ุฃูุช ุฅู ููุช ูุณุชุนุฏุงู ูููุฒูุฏ
                           </p>
                       </div>
                       
                       <div style="text-align: center;">
                           <div style="font-size: 40px; margin-bottom: 15px;">๐</div>
                           <h4 style="color: #2C5530; margin-bottom: 10px;">ุชูุงูู ุทุจูุนู</h4>
                           <p style="color: #666; font-size: 14px;">
                               ูุง ุชุชุนููู ูู ุงููุฑุญูุฉ ุงูุฃููู ูุตุจุญ ุฃุณุงุณุงู ูููุฑุญูุฉ ุงูุซุงููุฉ - 
                               ูุง ุดูุก ูุถูุน
                           </p>
                       </div>
                   </div>
               </div>
               
               <div class="choice-section">
                   <div style="text-align: center; margin-bottom: 30px;">
                       <h2 style="font-size: 28px; color: #2C5530; margin-bottom: 15px;">ุญุงู ููุช ุงูุงุฎุชูุงุฑ</h2>
                       <p style="font-size: 18px; color: #666;">ุฃู ูุณุงุฑ ูููู ููุจูุ</p>
                   </div>
                   
                   <div class="journey-options">
                       <div class="journey-option recommended" onclick="selectJourney('mixed-eshraq-baseera', this)">
                           <div class="option-header">
                               <span class="option-icon">๐๐๏ธ</span>
                               <h3 class="option-title">ุงููุณุงุฑ ุงููุชุฏุฑุฌ (ุฅุดุฑุงูุฉ โ ุจุตูุฑุฉ)</h3>
                           </div>
                           <p class="option-description">
                               ุงููุณุงุฑ ุงูุฐู ุตูููุงู ุฎุตูุตุงู ูู. ูุจุฏุฃ ุจุญู ${challengeType === 'work' ? 'ุชุญุฏู ุงูุนูู' : 
                                                                           challengeType === 'relationships' ? 'ุชุญุฏู ุงูุนูุงูุงุช' :
                                                                           'ุชุญุฏูู ุงูุนุงุฌู'} ูู 3-4 ุฌูุณุงุชุ 
                               ุซู ููุชูู ุจุณูุงุณุฉ ูุงุณุชูุดุงู ุงูุฃููุงุท ุงูุนูููุฉ. 
                               ${profile.timeAvailability === 'a' ? 'ูุญุชุฑู ููุชู ุงููุญุฏูุฏ ุฌุฏุงู' : 'ูุจูู ุงูุซูุฉ ุชุฏุฑูุฌูุงู'}.
                           </p>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('eshraq', this)">
                           <div class="option-header">
                               <span class="option-icon">๐</span>
                               <h3 class="option-title">ุฑุญูุฉ ุงูุฅุดุฑุงูุฉ ููุท</h3>
                           </div>
                           <p class="option-description">
                               ุฅุฐุง ููุช ุชุฑูุฏ ุงูุชุฑููุฒ ููุท ุนูู ุงูุญู ุงูุนุงุฌู ุฏูู ุงูุงูุชุฒุงู ุจุงููุฑุญูุฉ ุงูุซุงููุฉ. 
                               3 ุฌูุณุงุช ูุฑูุฒุฉ ูุญู ุงูุชุญุฏู ุงูุญุงูู.
                           </p>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('baseera', this)">
                           <div class="option-header">
                               <span class="option-icon">๐๏ธ</span>
                               <h3 class="option-title">ุฑุญูุฉ ุงูุจุตูุฑุฉ ูุจุงุดุฑุฉ</h3>
                           </div>
                           <p class="option-description">
                               ุฅุฐุง ููุช ุชุดุนุฑ ุฃูู ุชุณุชุทูุน ุฅุฏุงุฑุฉ ุงูุชุญุฏู ุงูุญุงูู ุจููุณู ูุชุฑูุฏ ุงูููุฒ ูุจุงุดุฑุฉ ููุนูู. 
                               8-12 ุฌูุณุฉ ูููู ุงูุฃููุงุท ูุงูุชุญุฑุฑ ูููุง.
                           </p>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('other', this)">
                           <div class="option-header">
                               <span class="option-icon">๐ญ</span>
                               <h3 class="option-title">ูุฏู ุชุตูุฑ ุขุฎุฑ</h3>
                           </div>
                           <p class="option-description">
                               ุฑุจูุง ุชุฑู ุงุญุชูุงุฌุงุชู ุจุดูู ูุฎุชูู. ุดุงุฑููุง ุชุตูุฑู.
                           </p>
                       </div>
                   </div>
                   
                   <div class="justification-section" id="justificationSection">
                       <label style="font-size: 18px; color: #2C5530; margin-bottom: 15px; display: block; font-weight: 500;" id="justificationLabel">
                           ุดุงุฑููุง: ูุง ุงูุฐู ูุฌุนูู ุชููู ููุฐุง ุงูุงุฎุชูุงุฑุ
                       </label>
                       <textarea 
                           style="width: 100%; padding: 20px; border: 2px solid #E5E5E5; border-radius: 15px; font-size: 16px; resize: vertical; min-height: 120px; font-family: inherit;"
                           id="justificationInput"
                           placeholder="ุงูุชุจ ูุง ุชุดุนุฑ ุจู..."
                       ></textarea>
                   </div>
                   
                   <div style="text-align: center; margin-top: 40px;">
                       <button class="btn" id="confirmButton" onclick="confirmChoice()" disabled>
                           ุชุฃููุฏ ุงุฎุชูุงุฑู
                       </button>
                   </div>
                   
                   <div class="helper-message">
                       ๐ฟ ุฃูุงู ูุงู ุงุฎุชูุงุฑูุ ุงูููู ุฃู ุชุจุฏุฃ. ุงูุทุฑูู ูุชุถุญ ุจุงููุดูุ ูุงูููุฑ ูุฃุชู ูุน ุงูุฎุทูุฉ ุงูุฃููู.
                   </div>
               </div>
           `;
       }
       
       // Mixed Baseera-Sakeena recommendation
       function generateBaseeraSakeenaMixed(results) {
           const profile = results.profile;
           const awarenessLevel = profile.awarenessLevel;
           const deepQuestions = subAnswers['q1-sub-c'] || '';
           const transformDriver = subAnswers['q1-sub-d'] || '';
           
           return `
               <style>
                   ${getCommonStyles()}
                   
                   .spectrum-container {
                       background: linear-gradient(135deg, #F0F8FF 0%, #F0FFF0 100%);
                       padding: 50px 40px;
                       border-radius: 30px;
                       margin-bottom: 40px;
                       text-align: center;
                   }
                   
                   .spectrum-line {
                       height: 8px;
                       background: linear-gradient(to left, #2C5530 0%, #8B9467 50%, #D4AF37 100%);
                       border-radius: 4px;
                       margin: 40px auto;
                       max-width: 600px;
                       position: relative;
                   }
                   
                   .spectrum-marker {
                       position: absolute;
                       top: -8px;
                       left: 45%;
                       width: 24px;
                       height: 24px;
                       background: white;
                       border: 4px solid #8B9467;
                       border-radius: 50%;
                       box-shadow: 0 2px 10px rgba(0,0,0,0.2);
                   }
                   
                   .depth-comparison {
                       display: grid;
                       grid-template-columns: 1fr 1fr;
                       gap: 30px;
                       margin: 40px 0;
                   }
                   
                   .depth-option {
                       background: white;
                       padding: 40px;
                       border-radius: 25px;
                       box-shadow: 0 10px 30px rgba(0,0,0,0.05);
                       transition: all 0.3s ease;
                       cursor: pointer;
                       position: relative;
                   }
                   
                   .depth-option:hover {
                       transform: translateY(-5px);
                       box-shadow: 0 15px 40px rgba(0,0,0,0.1);
                   }
                   
                   .depth-option.baseera {
                       border-top: 5px solid #8B9467;
                   }
                   
                   .depth-option.sakeena {
                       border-top: 5px solid #2C5530;
                   }
                   
                   .depth-icon {
                       font-size: 60px;
                       margin-bottom: 20px;
                   }
                   
                   .depth-title {
                       font-size: 24px;
                       color: #2C5530;
                       margin-bottom: 15px;
                   }
                   
                   .depth-description {
                       color: #666;
                       line-height: 1.8;
                       margin-bottom: 20px;
                   }
                   
                   .depth-features {
                       text-align: right;
                       border-top: 1px solid #EEE;
                       padding-top: 20px;
                   }
                   
                   .depth-features li {
                       margin-bottom: 10px;
                       padding-right: 25px;
                       position: relative;
                       list-style: none;
                   }
                   
                   .depth-features li::before {
                       content: 'โ';
                       position: absolute;
                       right: 0;
                       color: #8B9467;
                       font-weight: bold;
                   }
                   
                   @media (max-width: 768px) {
                       .depth-comparison {
                           grid-template-columns: 1fr;
                       }
                   }
               </style>
               
               <div class="results-header">
                   <div class="journey-icon">๐๏ธ๐</div>
                   <h1 class="results-title">ุนูู ุฃุนุชุงุจ ุงูุชุญูู ุงูุนููู</h1>
                   <p class="results-subtitle">ุงุณุชุนุฏุงุฏู ูุถุนู ุจูู ุงูุจุตูุฑุฉ ูุงูุณูููุฉ</p>
               </div>
               
               <div class="understanding-box">
                   <h2 class="understanding-title">
                       <span>๐ญ</span>
                       <span>ุงูุนูู ุงููุงุฏุฑ ูู ุจุญุซู</span>
                   </h2>
                   
                   <div class="understanding-content">
                       <p>
                           ุฅุฌุงุจุงุชู ุชุถุนู ูู ูููุน ูุฑูุฏ. ูู ูุงุญูุฉุ ูุฏูู 
                           <span class="highlight">ุฃุณุฆูุฉ ุนูููุฉ ุชุจุญุซ ุนู ุฅุฌุงุจุงุช</span>
                           ${deepQuestions === '1' ? ' - "ููุงุฐุง ุฃุชุตุฑู ุจุงูุทุฑููุฉ ุงูุชู ุฃุชุตุฑู ุจูุงุ"' :
                             deepQuestions === '2' ? ' - "ูู ุฃูุง ุญูุงู ุฎูู ูู ุงูุฃููุนุฉุ"' :
                             deepQuestions === '3' ? ' - "ูุง ูู ุฏูุฑู ุงูุญูููู ูู ุงูุญูุงุฉุ"' :
                             ''}. 
                           ูุฐุง ูุดูุฑ ูู<span class="highlight">ุญุงุฌุฉ ุญููููุฉ ููููู</span>.
                       </p>
                       
                       <p>
                           ููู ูุงุญูุฉ ุฃุฎุฑูุ ${transformDriver ? 
                               `ุนูุฏูุง ููุช ุฃูู ${
                                   transformDriver === '3' ? '"ูุฑุฑุช ุจุชุฌุฑุจุฉ ุฃููุธุชู"' :
                                   transformDriver === '4' ? '"ูุตูุช ููุฑุญูุฉ ููู"' :
                                   '"ุชุฑูุฏ ุชุญููุงู ุฌุฐุฑูุงู"'
                               }ุ ` : 
                               'ุฅุฌุงุจุงุชู ุงูุฃุฎุฑู ุชุดูุฑ ุฅูู ุฃูู '
                           }
                           <span class="highlight-green">ูุฏ ุชููู ูุณุชุนุฏุงู ููุง ูู ุฃุนูู ูู ูุฌุฑุฏ ุงูููู</span> - 
                           ุฑุจูุง ููุชุญูู ุงููุงูู.
                       </p>
                   </div>
               </div>
               
               <div class="spectrum-container">
                   <h3 class="understanding-title" style="margin-bottom: 30px;">
                       <span>๐</span>
                       <span>ุฃูู ุชูู ุนูู ุทูู ุงูุชุญููุ</span>
                   </h3>
                   
                   <p style="font-size: 18px; color: #666; margin-bottom: 30px;">
                       ุจูุงุกู ุนูู ุชุญููู ุฅุฌุงุจุงุชูุ ุฃูุช ูู ููุทูุฉ ูุณุทู ูุซูุฑุฉ - 
                       ${awarenessLevel === 'high' ? 'ูุนูู ุงูุนุงูู' : 'ูุนูู ุงููุชูุงูู'} 
                       ูุน ${answers['investment-scale'] >= 8 ? 'ุงุณุชุนุฏุงุฏู ุงูููู ููุงุณุชุซูุงุฑ' : 'ุฑุบุจุชู ูู ุงูููู'} 
                       ูุถุนุงูู ุจูู ูุณุงุฑูู ุนููููู.
                   </p>
                   
                   <div class="spectrum-line">
                       <div class="spectrum-marker"></div>
                   </div>
                   
                   <div style="display: flex; justify-content: space-between; max-width: 600px; margin: 0 auto; color: #666;">
                       <span>ุงูููู</span>
                       <span style="font-weight: bold; color: #8B9467;">ุฃูุช ููุง</span>
                       <span>ุงูุชุญูู</span>
                   </div>
               </div>
               
               <div class="recommendation-box">
                   <p class="recommendation-label">ุฎูุงุฑุงุช ููุฃุฑูุงุญ ุงูุทููุญุฉ</p>
                   <h2 class="recommendation-title">ุชุฑุดูุญูุง: ุงุฎุชุฑ ุนูู ุฑุญูุชู</h2>
                   <p class="recommendation-subtitle">ููุง ุงููุณุงุฑูู ููุงุณุจ ูุณุชูุงู - ุงูุงุฎุชูุงุฑ ูุนุชูุฏ ุนูู ุงุณุชุนุฏุงุฏู</p>
               </div>
               
               <div class="journey-details">
                   <h3 class="understanding-title" style="text-align: center; margin-bottom: 40px;">
                       <span>โ๏ธ</span>
                       <span>ูุณุงุฑู ุงูุนูููุงู - ูุงุฑู ูุงุฎุชุฑ</span>
                   </h3>
                   
                   <div class="depth-comparison">
                       <div class="depth-option baseera">
                           <div class="depth-icon">๐๏ธ</div>
                           <h4 class="depth-title">ุงูุจุฏุก ุจุงูุจุตูุฑุฉ</h4>
                           <p class="depth-description">
                               ${deepQuestions ? 
                                   `ูุซุงูู ูุงุณุชูุดุงู ุณุคุงูู "${
                                       deepQuestions === '1' ? 'ููุงุฐุง ุฃุชุตุฑู ุจุงูุทุฑููุฉ ุงูุชู ุฃุชุตุฑู ุจูุงุ' :
                                       deepQuestions === '2' ? 'ูู ุฃูุง ุญูุงู ุฎูู ูู ุงูุฃููุนุฉุ' :
                                       deepQuestions === '3' ? 'ูุง ูู ุฏูุฑู ุงูุญูููู ูู ุงูุญูุงุฉุ' :
                                       'ูู ุฃูุง ุญูุงูุ'
                                   }"` :
                                   'ูุซุงูู ููู ูุฑูุฏ ูููุงู ุนูููุงู ูุจู ุงูุชุญูู ุงูุฌุฐุฑู'
                               }
                           </p>
                           <ul class="depth-features">
                               <li>8-12 ุฌูุณุฉ ุนูู 2-3 ุฃุดูุฑ</li>
                               <li>ููู ุนููู ูููุทู ูุฃููุงุทู</li>
                               <li>ุฃุฏูุงุช ูุฎุตุตุฉ ูุทุจูุนุชู</li>
                               <li>ุฃุณุงุณ ููู ููุชุญูู ุงููุณุชูุจูู</li>
                               <li>ูููู ุงูุงูุชูุงู ููุณูููุฉ ูุงุญูุงู</li>
                           </ul>
                       </div>
                       
                       <div class="depth-option sakeena">
                           <div class="depth-icon">๐</div>
                           <h4 class="depth-title">ุงูููุฒ ููุณูููุฉ</h4>
                           <p class="depth-description">
                               ${transformDriver === '3' || transformDriver === '4' ?
                                   'ููุงุณุจ ูู ุฎุงุตุฉ ูุฃูู ' + (transformDriver === '3' ? 'ูุฑุฑุช ุจุชุฌุฑุจุฉ ูุญููุฉ' : 'ูุตูุช ููุทุฉ "ููู"') :
                                   'ููุดุฌุนุงู ุงููุณุชุนุฏูู ููุบูุต ุงูุนููู ูุจุงุดุฑุฉ'
                               }
                           </p>
                           <ul class="depth-features">
                               <li>6-12 ุดูุฑ ูู ุงูุนูู ุงูููุซู</li>
                               <li>ุชุญูู ุฌุฐุฑู ุดุงูู</li>
                               <li>ุนูู ุนูู ูู ูุณุชููุงุช ุงููุฌูุฏ</li>
                               <li>ูุฑุงููุฉ ููุซูุฉ ูุฏุนู ูุณุชูุฑ</li>
                               <li>ูุชุถูู ูู ูุง ูู ุงูุจุตูุฑุฉ ูุฃูุซุฑ</li>
                           </ul>
                       </div>
                   </div>
               </div>
               
               <div style="background: #FFF8F0; padding: 40px; border-radius: 25px; margin-bottom: 30px;">
                   <h3 class="understanding-title" style="text-align: center;">
                       <span>๐ค</span>
                       <span>ููู ุชุฎุชุงุฑุ</span>
                   </h3>
                   
                   <div style="margin-top: 30px; font-size: 18px; line-height: 2; color: #333;">
                       <p><strong>ุงุฎุชุฑ ุงูุจุตูุฑุฉ ุฅุฐุง:</strong></p>
                       <ul style="margin: 15px 0 30px 0; padding-right: 30px;">
                           <li>ุชูุถู ุงูุจูุงุก ุงูุชุฏุฑูุฌู ููููู</li>
                           <li>ุชุฑูุฏ ุงูุชุฃูุฏ ูู ุงูุฃุณุงุณุงุช ุฃููุงู</li>
                           <li>ููุชู ${profile.timeAvailability === 'b' || profile.timeAvailability === 'c' ? 'ูุณูุญ ุจุงูุชุฒุงู ูุชูุณุท' : 'ูุญุฏูุฏ ูุณุจูุงู'}</li>
                           <li>ุชุญุจ ุฃู ุชููู ูุจู ุฃู ุชููุฒ</li>
                       </ul>
                       
                       <p><strong>ุงุฎุชุฑ ุงูุณูููุฉ ุฅุฐุง:</strong></p>
                       <ul style="margin: 15px 0; padding-right: 30px;">
                           <li>${transformDriver === '3' ? 'ุงูุชุฌุฑุจุฉ ุงูุชู ุฃููุธุชู ุชุฏูุนู ููุชุญูู ุงูุขู' :
                                transformDriver === '4' ? 'ูุตููู ูููุทุฉ "ููู" ูุญุชุงุฌ ุงุณุชุฌุงุจุฉ ุฌุฐุฑูุฉ' :
                                'ุชุดุนุฑ ุจุฌุงูุฒูุฉ ูุงููุฉ ููุชุญูู'}</li>
                           <li>ูุฏูู ${profile.timeAvailability === 'd' ? 'ุงูููุช ูุงูุทุงูุฉ ุงููุงูููู' : 'ุงุณุชุนุฏุงุฏ ูุชุฎุตูุต ุงูููุช ุงููุงุฒู'}</li>
                           <li>ุชุซู ูู ูุฏุฑุชู ุนูู ุงูุชุนุงูู ูุน ุงูุนูู</li>
<li>ุชุฑู ุงูุชุญุฏูุงุช ููุฑุต ููููู ุงูุฑูุญู</li>
                       </ul>
                   </div>
               </div>
               
               <div class="choice-section">
                   <div style="text-align: center; margin-bottom: 30px;">
                       <h2 style="font-size: 28px; color: #2C5530; margin-bottom: 15px;">ุงุฎุชุฑ ุงููุณุงุฑ ุงูุฐู ููุงุฏูู</h2>
                       <p style="font-size: 18px; color: #666;">ููุจู ูุนุฑู ุงูุทุฑูู... ุงุณุชูุน ูู</p>
                   </div>
                   
                   <div class="journey-options">
                       <div class="journey-option recommended" onclick="selectJourney('mixed-baseera-sakeena', this)">
                           <div class="option-header">
                               <span class="option-icon">๐๏ธ๐</span>
                               <h3 class="option-title">ุงููุณุงุฑ ุงููุชุฏุฑุฌ (ุจุตูุฑุฉ โ ุณูููุฉ)</h3>
                           </div>
                           <p class="option-description">
                               ูุณุงุฑ ุญููู ูุจุฏุฃ ุจุงูููู ุงูุนููู (8-12 ุฌูุณุฉ) ุซู ููุชูู ููุชุญูู ุงูุฌุฐุฑู.
                               ${awarenessLevel === 'high' ? 
                                   'ูุซุงูู ููุณุชูู ูุนูู ุงูุนุงูู ูุน ุฅุนุทุงุฆู ููุชุงู ููุชุฃุณูุณ.' :
                                   'ูููุญู ุงูููุช ูุจูุงุก ุงูุฃุณุงุณ ูุจู ุงูููุฒุฉ ุงููุจุฑู.'}
                           </p>
                           <div class="option-features">
                               <span class="feature-tag">ุจุฏุงูุฉ: 8-12 ุฌูุณุฉ</span>
                               <span class="feature-tag">ุซู: 6 ุดููุฑ+</span>
                               <span class="feature-tag">ุชุฏุฑุฌ ุขูู</span>
                           </div>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('baseera', this)">
                           <div class="option-header">
                               <span class="option-icon">๐๏ธ</span>
                               <h3 class="option-title">ุฑุญูุฉ ุงูุจุตูุฑุฉ ููุท</h3>
                           </div>
                           <p class="option-description">
                               ${deepQuestions ? 
                                   `ููุชุฑููุฒ ุนูู ุณุคุงูู "${getDeepQuestionText(deepQuestions)}" ูุงูููู ุงูุนููู.` :
                                   'ููููู ุงูุนููู ุฏูู ุงูุงูุชุฒุงู ุจุงูุชุญูู ุงูุฌุฐุฑู ุญุงููุงู.'}
                               ููููู ุฏุงุฆูุงู ุงูุงูุชูุงู ููุณูููุฉ ูุงุญูุงู.
                           </p>
                           <div class="option-features">
                               <span class="feature-tag">8-12 ุฌูุณุฉ</span>
                               <span class="feature-tag">3 ุดููุฑ</span>
                               <span class="feature-tag">ููู ุนููู</span>
                           </div>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('sakeena', this)">
                           <div class="option-header">
                               <span class="option-icon">๐</span>
                               <h3 class="option-title">ุฑุญูุฉ ุงูุณูููุฉ ูุจุงุดุฑุฉ</h3>
                           </div>
                           <p class="option-description">
                               ${transformDriver === '3' || transformDriver === '4' ?
                                   'ููุฒุฉ ุฌุฑูุฆุฉ ุชูุงุณุจ ูู ' + (transformDriver === '3' ? 'ูุฑ ุจุชุฌุฑุจุฉ ูุญููุฉ.' : 'ูุตู ููุทุฉ "ููู".') :
                                   'ููุดุฌุนุงู ุงููุณุชุนุฏูู ููุบูุต ุงูุนููู ูุจุงุดุฑุฉ.'}
                           </p>
                           <div class="option-features">
                               <span class="feature-tag">6-12 ุดูุฑ</span>
                               <span class="feature-tag">ุชุญูู ุฌุฐุฑู</span>
                               <span class="feature-tag">ุงูุชุฒุงู ูุงูู</span>
                           </div>
                       </div>
                       
                       <div class="journey-option" onclick="selectJourney('other', this)">
                           <div class="option-header">
                               <span class="option-icon">๐ญ</span>
                               <h3 class="option-title">ูุฏู ุฑุคูุฉ ูุฎุชููุฉ</h3>
                           </div>
                           <p class="option-description">
                               ุฑุจูุง ุชุญุชุงุฌ ุดูุฆุงู ุขุฎุฑ ุชูุงูุงู. ุดุงุฑููุง ุฑุคูุชู.
                           </p>
                       </div>
                   </div>
                   
                   <div class="justification-section" id="justificationSection">
                       <label style="font-size: 18px; color: #2C5530; margin-bottom: 15px; display: block; font-weight: 500;" id="justificationLabel">
                           ุดุงุฑููุง: ูุง ุงูุฐู ูุฌุฐุจู ูู ูุฐุง ุงูุงุฎุชูุงุฑุ
                       </label>
                       <textarea 
                           style="width: 100%; padding: 20px; border: 2px solid #E5E5E5; border-radius: 15px; font-size: 16px; resize: vertical; min-height: 120px; font-family: inherit;"
                           id="justificationInput"
                           placeholder="ุงูุชุจ ูุง ูุฏูุฑ ูู ููุจู..."
                       ></textarea>
                   </div>
                   
                   <div style="text-align: center; margin-top: 40px;">
                       <button class="btn" id="confirmButton" onclick="confirmChoice()" disabled>
                           ุชุฃููุฏ ุงุฎุชูุงุฑู
                       </button>
                   </div>
                   
                   <div class="helper-message">
                       ุงูุทุฑูู ุงูุฃุทูู ูุฏ ูููู ุงูุฃูุตุฑ... ูุงูุฃุนูู ูุฏ ูููู ุงูุฃุณูู. ุซู ุจุญุฏุณู.
                   </div>
               </div>
           `;
       }

       return {
           scores: scores,
           percentages: {
               eshraq: eshraqPercent,
               baseera: baseeraPercent,
               sakeena: sakeenaPercent
           },
           journeyType: journeyType,
           recommendedJourney: recommendedJourney,
           isMixed: isMixed,
           mixedType: mixedType,
           profile: profile,
           userName: answers.userName,
           userEmail: answers.userEmail,
           selectedJourney: answers.selectedJourney || recommendedJourney,
           justification: answers.justification || ''
       };
   }

   // Helper functions for profile creation
   function createDetailedProfile() {
       const profile = {
           challengeType: '',
           awarenessLevel: '',
           timeAvailability: '',
           supportSystem: '',
           previousExperience: '',
           specificNeeds: [],
           keyPhrases: [],
           emotionalState: ''
       };

       // Challenge type from Q1 sub-answers
       if (answers.q1 === 'a' && subAnswers['q1-sub-a']) {
           const types = {
               '1': 'work',
               '2': 'relationships', 
               '3': 'self',
               '4': 'decision'
           };
           profile.challengeType = types[subAnswers['q1-sub-a']] || 'general';
       }

       // Awareness level from Q4
       if (answers.q4 === 'c') profile.awarenessLevel = 'high';
       else if (answers.q4 === 'b' || answers.q4 === 'd') profile.awarenessLevel = 'medium';
       else profile.awarenessLevel = 'low';

       // Time availability from Q7
       profile.timeAvailability = answers.q7 || 'unknown';

       // Support system from Q8
       const supportCount = (answers['q8-checks'] || []).length;
       if (supportCount >= 4) profile.supportSystem = 'strong';
       else if (supportCount >= 2) profile.supportSystem = 'moderate';
       else profile.supportSystem = 'weak';

       // Previous experience from Q11
       const experiences = answers['q11-checks'] || [];
       if (experiences.length > 3) profile.previousExperience = 'extensive';
       else if (experiences.length > 0) profile.previousExperience = 'some';
       else profile.previousExperience = 'none';

       // Extract key phrases from text answers
       const texts = [
           answers['q3-text'] || '',
           answers['q6-text'] || '',
           answers['q9-text'] || '',
           answers['q12-text'] || ''
       ];
       texts.forEach(text => {
           if (text.length > 20) {
               const phrase = text.substring(0, 100).trim();
               if (phrase) profile.keyPhrases.push(phrase);
           }
       });

       // Emotional state based on urgency
       const urgency = parseInt(answers['urgency-scale'] || 5);
       if (urgency >= 8) profile.emotionalState = 'urgent';
       else if (urgency >= 5) profile.emotionalState = 'motivated';
       else profile.emotionalState = 'exploring';

       return profile;
   }

   // Helper function to get deep question text
   function getDeepQuestionText(questionNumber) {
       const questions = {
           '1': 'ููุงุฐุง ุฃุชุตุฑู ุจุงูุทุฑููุฉ ุงูุชู ุฃุชุตุฑู ุจูุงุ',
           '2': 'ูู ุฃูุง ุญูุงู ุฎูู ูู ุงูุฃููุนุฉุ',
           '3': 'ูุง ูู ุฏูุฑู ุงูุญูููู ูู ุงูุญูุงุฉุ',
           '4': 'ููู ุฃุญูู ุฅููุงููุงุชู ุงููุงููุฉุ'
       };
       return questions[questionNumber] || '';
   }

   // Journey selection handler
   function selectJourney(journey, element) {
       document.querySelectorAll('.journey-option').forEach(option => {
           option.classList.remove('selected');
       });
       
       element.classList.add('selected');
       selectedJourney = journey;
       
       const justificationSection = document.getElementById('justificationSection');
       const justificationLabel = document.getElementById('justificationLabel');
       const justificationInput = document.getElementById('justificationInput');
       
       justificationSection.classList.add('active');
       justificationInput.value = '';
       
       // Customize justification question based on selection
       const questions = {
           'eshraq': 'ุฑุงุฆุน! ูุจุฏู ุฃู ุฑุญูุฉ ุงูุฅุดุฑุงูุฉ ุชูุงุณุจู. ูุง ุงูุฐู ุฌุฐุจู ูููุง ุชุญุฏูุฏุงูุ',
           'baseera': 'ุฌููู! ุฑุญูุฉ ุงูุจุตูุฑุฉ ุชุชุญุฏุซ ุฅูู ุฑูุญู. ูุง ุงูุฐู ุชุฑุฌู ุงูุชุดุงูู ุนู ููุณูุ',
           'sakeena': 'ุทููุญ ุฑุงุฆุน! ุฑุญูุฉ ุงูุณูููุฉ ุชุญูู ุฌุฐุฑู. ูุง ุงูุฐู ูุฌุนูู ุชุดุนุฑ ุฃูู ูุณุชุนุฏ ููุฐุง ุงูุนููุ',
           'mixed-eshraq-baseera': 'ููุชุงุฒ! ุงููุณุงุฑ ุงููุชุฏุฑุฌ ูุจุฏู ููุงุณุจุงู. ูุง ุฃูุซุฑ ูุง ุฃุนุฌุจู ูู ููุฑุฉ ุงูุจุฏุก ุจุงูุญู ุงูุนููู ุซู ุงูุชุนููุ',
           'mixed-baseera-sakeena': 'ุงุฎุชูุงุฑ ุญููู! ุงูุจูุงุก ุงูุชุฏุฑูุฌู ูุญู ุงูุชุญูู. ูุง ุงูุฐู ูุฌุนูู ุชูุถู ูุฐุง ุงูุชุฏุฑุฌุ',
           'other': 'ุฃุญุจ ุงูุฃุฑูุงุญ ุงูุชู ุชุจุญุซ ุนู ุทุฑูููุง ุงูุฎุงุต. ุฃุฎุจุฑููุ ูุง ุงูุฐู ุชุญุชุงุฌู ุจุงูุถุจุทุ'
       };
       
       justificationLabel.textContent = questions[journey] || 'ุดุงุฑููุง: ููุงุฐุง ุชุดุนุฑ ุฃู ูุฐุง ุงูุงุฎุชูุงุฑ ูู ุงูุฃูุณุจ ููุ';
       
       // Enable confirm button after writing
       justificationInput.addEventListener('input', function() {
           const confirmButton = document.getElementById('confirmButton');
           confirmButton.disabled = this.value.trim().length <= 10;
       });
   }

   // Confirm choice handler
   async function confirmChoice() {
       const justification = document.getElementById('justificationInput').value;
       answers.selectedJourney = selectedJourney;
       answers.justification = justification;
       
       // Show loading
       document.getElementById('loadingContainer').style.display = 'flex';
       
       try {
           // Create user account with password
           const userCredential = await auth.createUserWithEmailAndPassword(
               answers.userEmail,
               answers.userPassword
           );
           const userId = userCredential.user.uid;
           
           // Update display name
           await userCredential.user.updateProfile({
               displayName: answers.userName || 'ุนููู ูุฑูู'
           });
           
           // Get final analysis
           const analysis = analyzeAnswers();
           
           // Save user data
           await db.collection('users').doc(userId).set({
               email: answers.userEmail,
               name: answers.userName,
               phone: answers.userPhone,
               createdAt: firebase.firestore.FieldValue.serverTimestamp(),
               lastLogin: firebase.firestore.FieldValue.serverTimestamp()
           });
           
           // Save assessment data
           const assessmentRef = await db.collection('assessments').add({
               userId: userId,
               answers: answers,
               subAnswers: subAnswers,
               results: analysis,
               completedAt: firebase.firestore.FieldValue.serverTimestamp()
           });
           
           // Create booking record
           const bookingNumber = 'BK' + Date.now().toString().slice(-8);
           await db.collection('bookings').add({
               userId: userId,
               assessmentId: assessmentRef.id,
               bookingNumber: bookingNumber,
               userName: answers.userName,
               userEmail: answers.userEmail,
               userPhone: answers.userPhone,
               recommendedJourney: analysis.recommendedJourney,
               selectedJourney: selectedJourney,
               justification: justification,
               status: 'pending_review',
               createdAt: firebase.firestore.FieldValue.serverTimestamp()
           });
           
           // Store data for final message
           assessmentData = {
               bookingNumber: bookingNumber,
               analysisResults: analysis,
               userName: answers.userName,
               userEmail: answers.userEmail,
               userPhone: answers.userPhone,
               recommendedJourney: analysis.recommendedJourney,
               selectedJourney: selectedJourney,
               justification: justification
           };
           
           // Show final message
           setTimeout(() => {
               showFinalMessage();
           }, 2000);
           
       } catch (error) {
           console.error('Error:', error);
           document.getElementById('loadingContainer').style.display = 'none';
           
           if (error.code === 'auth/email-already-in-use') {
               alert('ูุฐุง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุฌู ุจุงููุนู. ููููู ุชุณุฌูู ุงูุฏุฎูู ูู ุตูุญุฉ ุงูุฏุฎูู.');
           } else {
               alert('ุญุฏุซ ุฎุทุฃ. ูู ูุถูู ุญุงูู ูุฑุฉ ุฃุฎุฑู.');
           }
       }
   }

   // Show final message
   function showFinalMessage() {
       document.getElementById('loadingContainer').style.display = 'none';
       document.getElementById('questionContainer').style.display = 'none';
       document.getElementById('resultsContainer').style.display = 'none';
       
       const journeyNames = {
           'eshraq': 'ุงูุฅุดุฑุงูุฉ',
           'baseera': 'ุงูุจุตูุฑุฉ',
           'sakeena': 'ุงูุณูููุฉ',
           'mixed-eshraq-baseera': 'ุงููุณุงุฑ ุงููุชุฏุฑุฌ (ุฅุดุฑุงูุฉ โ ุจุตูุฑุฉ)',
           'mixed-baseera-sakeena': 'ุงููุณุงุฑ ุงููุชุฏุฑุฌ (ุจุตูุฑุฉ โ ุณูููุฉ)'
       };
       
       const selectedJourneyName = journeyNames[assessmentData.selectedJourney] || assessmentData.selectedJourney;
       const recommendedJourneyName = journeyNames[assessmentData.recommendedJourney] || assessmentData.recommendedJourney;
       const matchedChoice = assessmentData.selectedJourney === assessmentData.recommendedJourney;
       
       const finalMessageHTML = `
           <style>
               .final-container {
                   max-width: 800px;
                   margin: 0 auto;
                   padding: 40px 20px;
                   text-align: center;
               }
               
               .success-animation {
                   font-size: 100px;
                   margin-bottom: 30px;
                   animation: successPulse 2s ease-in-out infinite;
               }
               
               @keyframes successPulse {
                   0%, 100% { transform: scale(1); opacity: 1; }
                   50% { transform: scale(1.1); opacity: 0.8; }
               }
               
               .final-title {
                   font-size: 36px;
                   color: #2C5530;
                   margin-bottom: 20px;
                   font-weight: 300;
               }
               
               .final-message {
                   background: white;
                   padding: 50px 40px;
                   border-radius: 30px;
                   box-shadow: 0 15px 40px rgba(0,0,0,0.1);
                   margin-bottom: 30px;
               }
               
               .booking-info {
                   background: #F8F7F4;
                   padding: 30px;
                   border-radius: 20px;
                   margin: 30px 0;
                   border-right: 5px solid #D4AF37;
               }
               
               .booking-number {
                   font-size: 28px;
                   color: #2C5530;
                   font-weight: bold;
                   margin: 10px 0;
               }
               
               .journey-selection {
                   background: linear-gradient(135deg, rgba(44, 85, 48, 0.05) 0%, rgba(212, 175, 55, 0.05) 100%);
                   padding: 25px;
                   border-radius: 15px;
                   margin: 20px 0;
               }
               
               .journey-label {
                   font-size: 16px;
                   color: #666;
                   margin-bottom: 5px;
               }
               
               .journey-name {
                   font-size: 24px;
                   color: #2C5530;
                   font-weight: 500;
               }
               
               .match-indicator {
                   display: inline-block;
                   margin-right: 10px;
                   padding: 5px 15px;
                   border-radius: 20px;
                   font-size: 14px;
                   font-weight: bold;
               }
               
               .match-indicator.matched {
                   background: #E8F5E9;
                   color: #2E7D32;
               }
               
               .match-indicator.different {
                   background: #FFF3E0;
                   color: #E65100;
               }
               
               .next-steps {
                   background: #F0F8F0;
                   padding: 30px;
                   border-radius: 20px;
                   margin: 30px 0;
                   text-align: right;
               }
               
               .step-item {
                   display: flex;
                   align-items: center;
                   margin-bottom: 15px;
                   font-size: 18px;
                   color: #555;
               }
               
               .step-number {
                   background: #2C5530;
                   color: white;
                   width: 30px;
                   height: 30px;
                   border-radius: 50%;
                   display: flex;
                   align-items: center;
                   justify-content: center;
                   margin-left: 15px;
                   font-weight: bold;
               }
               
               .whatsapp-button {
                   display: inline-block;
                   background: #25D366;
                   color: white;
                   padding: 20px 50px;
                   border-radius: 50px;
                   text-decoration: none;
                   font-size: 20px;
                   font-weight: bold;
                   margin-top: 30px;
                   transition: all 0.3s ease;
                   box-shadow: 0 5px 20px rgba(37, 211, 102, 0.3);
               }
               
               .whatsapp-button:hover {
                   background: #1EBE56;
                   transform: translateY(-3px);
                   box-shadow: 0 10px 30px rgba(37, 211, 102, 0.4);
               }
               
               .whatsapp-icon {
                   font-size: 24px;
                   margin-left: 10px;
                   vertical-align: middle;
               }
               
               .privacy-note {
                   font-size: 14px;
                   color: #999;
                   margin-top: 20px;
                   font-style: italic;
               }
           </style>
           
           <div class="final-container">
               <div class="success-animation">โจ</div>
               <h1 class="final-title">ุชู ุชุณุฌูู ุงุฎุชูุงุฑู ุจูุฌุงุญ!</h1>
               
               <div class="final-message">
                   <p style="font-size: 20px; color: #666; margin-bottom: 30px;">
                       ${assessmentData.userName}ุ ุดูุฑุงู ูู ุนูู ุงูููุช ูุงูุตุฏู ูู ูุดุงุฑูุฉ ูุตุชู ูุนูุง
                   </p>
                   
                   <div class="booking-info">
                       <p class="journey-label">ุฑูู ุงูุญุฌุฒ ุงูุฎุงุต ุจู:</p>
                       <p class="booking-number">${assessmentData.bookingNumber}</p>
                       <p style="color: #666; margin-top: 10px;">ุงุญุชูุธ ุจูุฐุง ุงูุฑูู ูููุชุงุจุนุฉ</p>
                   </div>
                   
                   <div class="journey-selection">
                       <p class="journey-label">ุงูุฑุญูุฉ ุงูุชู ุงุฎุชุฑุชูุง:</p>
                       <p class="journey-name">
                           ${matchedChoice ? 
                               '<span class="match-indicator matched">โ ุชูุงูู ูุน ุชุฑุดูุญูุง</span>' :
                               '<span class="match-indicator different">โก ุงุฎุชูุงุฑ ูุฎุชูู</span>'
                           }
                           ุฑุญูุฉ ${selectedJourneyName}
                       </p>
                       ${!matchedChoice ? 
                           `<p style="margin-top: 15px; color: #666; font-size: 16px;">
                               (ุชุฑุดูุญูุง ูุงู: ุฑุญูุฉ ${recommendedJourneyName})
                           </p>` : ''
                       }
                   </div>
                   
                   <div class="next-steps">
                       <h3 style="color: #2C5530; margin-bottom: 20px;">ุงูุฎุทูุงุช ุงูุชุงููุฉ:</h3>
                       <div class="step-item">
                           <span class="step-number">1</span>
                           <span>ุณูุฑุงุฌุน ุทูุจู ุฎูุงู ุฃุณุจูุน ุนูู</span>
                       </div>
                       <div class="step-item">
                           <span class="step-number">2</span>
                           <span>ุณูุฑุณู ูู ุฑุณุงูุฉ ุชุฃููุฏ ุนูู ุงููุงุชุณุงุจ</span>
                       </div>
                       <div class="step-item">
                           <span class="step-number">3</span>
                           <span>ุณุชุญุตู ุนูู ุจูุงูุงุช ุงูุฏุฎูู ููุณุงุญุชู ุงูุฎุงุตุฉ</span>
                       </div>
                       <div class="step-item">
                           <span class="step-number">4</span>
                           <span>ุณูุญุฏุฏ ูุนุงู ููุนุฏ ุงูุฌูุณุฉ ุงูุฃููู</span>
                       </div>
                   </div>
                   
                   <p style="font-size: 18px; color: #2C5530; margin: 30px 0;">
                       ููุชุฃููุฏ ุงูููุงุฆูุ ุงุถุบุท ุนูู ุงูุฒุฑ ุฃุฏูุงู ูุฅุฑุณุงู ุฑุณุงูุฉ ูุงุชุณุงุจ
                   </p>
                   
                   <a href="#" class="whatsapp-button" onclick="sendWhatsAppMessage(); return false;">
                       <span>ุฃูุฏ ุญุฌุฒู ุนุจุฑ ุงููุงุชุณุงุจ</span>
                       <span class="whatsapp-icon">๐ฑ</span>
                   </a>
                   
                   <p class="privacy-note">
                       * ุฌููุน ุจูุงูุงุชู ูุญููุธุฉ ุจุณุฑูุฉ ุชุงูุฉ ููู ุชูุณุชุฎุฏู ุฅูุง ูุฃุบุฑุงุถ ุฑุญูุชู ูุนูุง
                   </p>
               </div>
           </div>
       `;
       
       document.getElementById('resultsContainer').innerHTML = finalMessageHTML;
       document.getElementById('resultsContainer').style.display = 'block';
       
       window.scrollTo({ top: 0, behavior: 'smooth' });
   }

   // Send WhatsApp message
   function sendWhatsAppMessage() {
       const journeyNames = {
           'eshraq': 'ุงูุฅุดุฑุงูุฉ',
           'baseera': 'ุงูุจุตูุฑุฉ',
           'sakeena': 'ุงูุณูููุฉ',
           'mixed-eshraq-baseera': 'ุงููุณุงุฑ ุงููุชุฏุฑุฌ (ุฅุดุฑุงูุฉ โ ุจุตูุฑุฉ)',
           'mixed-baseera-sakeena': 'ุงููุณุงุฑ ุงููุชุฏุฑุฌ (ุจุตูุฑุฉ โ ุณูููุฉ)'
       };
       
       const selectedJourneyName = journeyNames[assessmentData.selectedJourney] || assessmentData.selectedJourney;
       const recommendedJourneyName = journeyNames[assessmentData.recommendedJourney] || assessmentData.recommendedJourney;
       
       // Admin message
       const adminMessage = `๐ ุญุฌุฒ ุฌุฏูุฏ ูู ุงูุชูููู ุงูุดุงูู

๐ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ:
- ุฑูู ุงูุญุฌุฒ: ${assessmentData.bookingNumber}
- ุงูุงุณู: ${assessmentData.userName}
- ุงูุจุฑูุฏ: ${assessmentData.userEmail}
- ุงููุงุชู: ${assessmentData.userPhone}

๐ฏ ุงูุชุฑุดูุญ ูุงูุงุฎุชูุงุฑ:
- ุงูุฑุญูุฉ ุงูููุตู ุจูุง: ${recommendedJourneyName}
- ุงูุฑุญูุฉ ุงููุฎุชุงุฑุฉ: ${selectedJourneyName}
- ุงูุชุทุงุจู: ${assessmentData.selectedJourney === assessmentData.recommendedJourney ? 'โ ูุนู' : 'โ ูุง'}

๐ ูุชุงุฆุฌ ุงูุชุญููู:
- ุฅุดุฑุงูุฉ: ${Math.round(assessmentData.analysisResults.percentages.eshraq)}%
- ุจุตูุฑุฉ: ${Math.round(assessmentData.analysisResults.percentages.baseera)}%
- ุณูููุฉ: ${Math.round(assessmentData.analysisResults.percentages.sakeena)}%

๐ฌ ุชุจุฑูุฑ ุงูุงุฎุชูุงุฑ:
"${assessmentData.justification}"

๐ ุฑุงุจุท ุงูุฃุฏูู:
https://yourwebsite.com/admin.html`;

       const whatsappUrl = `https://wa.me/201224938330?text=${encodeURIComponent(adminMessage)}`;
       window.open(whatsappUrl, '_blank');
   }

   // Event listeners
   document.addEventListener('DOMContentLoaded', function() {
       // Start assessment
       document.getElementById('startBtn')?.addEventListener('click', startAssessment);
       
       // Navigation buttons
       document.querySelectorAll('.btn-secondary').forEach(btn => {
           btn.addEventListener('click', previousSection);
       });
       
       document.querySelectorAll('.btn-primary:not(#submitBtn)').forEach(btn => {
           btn.addEventListener('click', nextSection);
       });
       
       // Submit button
       document.getElementById('submitBtn')?.addEventListener('click', submitAssessment);
       
       // Option clicks
       document.querySelectorAll('.option').forEach(option => {
           option.addEventListener('click', function(e) {
               if (e.target.tagName !== 'INPUT') {
                   const input = this.querySelector('input');
                   if (input) {
                       input.click();
                   }
               }
           });
       });
       
       // Initialize scale displays
       updateScaleValue('urgency');
       updateScaleValue('investment');
       updateScaleValue('confidence');
       
       // Password visibility toggle
       document.getElementById('togglePassword')?.addEventListener('click', function() {
           const passwordInput = document.getElementById('userPassword');
           const icon = this;
           
           if (passwordInput.type === 'password') {
               passwordInput.type = 'text';
               icon.textContent = '๐๏ธโ๐จ๏ธ';
           } else {
               passwordInput.type = 'password';
               icon.textContent = '๐๏ธ';
           }
       });
   });

   </script>
</body>
</html>
